(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function U_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function M_(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var e=a.default;if(typeof e=="function"){var s=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),s}var bd={exports:{}},cr={};var Zg;function P_(){if(Zg)return cr;Zg=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:a,type:i,key:d,ref:l!==void 0?l:null,props:c}}return cr.Fragment=e,cr.jsx=s,cr.jsxs=s,cr}var Wg;function z_(){return Wg||(Wg=1,bd.exports=P_()),bd.exports}var u=z_(),vd={exports:{}},oe={};var e0;function $_(){if(e0)return oe;e0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function I(T,q,J){this.props=T,this.context=q,this.refs=k,this.updater=J||j}I.prototype.isReactComponent={},I.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},I.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function O(){}O.prototype=I.prototype;function S(T,q,J){this.props=T,this.context=q,this.refs=k,this.updater=J||j}var A=S.prototype=new O;A.constructor=S,M(A,I.prototype),A.isPureReactComponent=!0;var F=Array.isArray;function K(){}var z={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function B(T,q,J){var Z=J.ref;return{$$typeof:a,type:T,key:q,ref:Z!==void 0?Z:null,props:J}}function ee(T,q){return B(T.type,q,T.props)}function ie(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function Pe(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return q[J]})}var ae=/\/+/g;function Ne(T,q){return typeof T=="object"&&T!==null&&T.key!=null?Pe(""+T.key):q.toString(36)}function at(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(K,K):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function $(T,q,J,Z,ce){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case a:case e:Te=!0;break;case y:return Te=T._init,$(Te(T._payload),q,J,Z,ce)}}if(Te)return ce=ce(T),Te=Z===""?"."+Ne(T,0):Z,F(ce)?(J="",Te!=null&&(J=Te.replace(ae,"$&/")+"/"),$(ce,q,J,"",function(gi){return gi})):ce!=null&&(ie(ce)&&(ce=ee(ce,J+(ce.key==null||T&&T.key===ce.key?"":(""+ce.key).replace(ae,"$&/")+"/")+Te)),q.push(ce)),1;Te=0;var ht=Z===""?".":Z+":";if(F(T))for(var qe=0;qe<T.length;qe++)Z=T[qe],pe=ht+Ne(Z,qe),Te+=$(Z,q,J,pe,ce);else if(qe=_(T),typeof qe=="function")for(T=qe.call(T),qe=0;!(Z=T.next()).done;)Z=Z.value,pe=ht+Ne(Z,qe++),Te+=$(Z,q,J,pe,ce);else if(pe==="object"){if(typeof T.then=="function")return $(at(T),q,J,Z,ce);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(T,q,J){if(T==null)return T;var Z=[],ce=0;return $(T,Z,"","",function(pe){return q.call(J,pe,ce++)}),Z}function ne(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var me=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},_e={map:Y,forEach:function(T,q,J){Y(T,function(){q.apply(this,arguments)},J)},count:function(T){var q=0;return Y(T,function(){q++}),q},toArray:function(T){return Y(T,function(q){return q})||[]},only:function(T){if(!ie(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return oe.Activity=v,oe.Children=_e,oe.Component=I,oe.Fragment=s,oe.Profiler=l,oe.PureComponent=S,oe.StrictMode=i,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,oe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return z.H.useMemoCache(T)}},oe.cache=function(T){return function(){return T.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(T,q,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Z=M({},T.props),ce=T.key;if(q!=null)for(pe in q.key!==void 0&&(ce=""+q.key),q)!X.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(Z[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)Z.children=J;else if(1<pe){for(var Te=Array(pe),ht=0;ht<pe;ht++)Te[ht]=arguments[ht+2];Z.children=Te}return B(T.type,ce,Z)},oe.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},oe.createElement=function(T,q,J){var Z,ce={},pe=null;if(q!=null)for(Z in q.key!==void 0&&(pe=""+q.key),q)X.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=q[Z]);var Te=arguments.length-2;if(Te===1)ce.children=J;else if(1<Te){for(var ht=Array(Te),qe=0;qe<Te;qe++)ht[qe]=arguments[qe+2];ce.children=ht}if(T&&T.defaultProps)for(Z in Te=T.defaultProps,Te)ce[Z]===void 0&&(ce[Z]=Te[Z]);return B(T,pe,ce)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(T){return{$$typeof:f,render:T}},oe.isValidElement=ie,oe.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:ne}},oe.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},oe.startTransition=function(T){var q=z.T,J={};z.T=J;try{var Z=T(),ce=z.S;ce!==null&&ce(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(K,me)}catch(pe){me(pe)}finally{q!==null&&J.types!==null&&(q.types=J.types),z.T=q}},oe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},oe.use=function(T){return z.H.use(T)},oe.useActionState=function(T,q,J){return z.H.useActionState(T,q,J)},oe.useCallback=function(T,q){return z.H.useCallback(T,q)},oe.useContext=function(T){return z.H.useContext(T)},oe.useDebugValue=function(){},oe.useDeferredValue=function(T,q){return z.H.useDeferredValue(T,q)},oe.useEffect=function(T,q){return z.H.useEffect(T,q)},oe.useEffectEvent=function(T){return z.H.useEffectEvent(T)},oe.useId=function(){return z.H.useId()},oe.useImperativeHandle=function(T,q,J){return z.H.useImperativeHandle(T,q,J)},oe.useInsertionEffect=function(T,q){return z.H.useInsertionEffect(T,q)},oe.useLayoutEffect=function(T,q){return z.H.useLayoutEffect(T,q)},oe.useMemo=function(T,q){return z.H.useMemo(T,q)},oe.useOptimistic=function(T,q){return z.H.useOptimistic(T,q)},oe.useReducer=function(T,q,J){return z.H.useReducer(T,q,J)},oe.useRef=function(T){return z.H.useRef(T)},oe.useState=function(T){return z.H.useState(T)},oe.useSyncExternalStore=function(T,q,J){return z.H.useSyncExternalStore(T,q,J)},oe.useTransition=function(){return z.H.useTransition()},oe.version="19.2.0",oe}var t0;function wh(){return t0||(t0=1,vd.exports=$_()),vd.exports}var E=wh();const le=a=>typeof a=="string",ur=()=>{let a,e;const s=new Promise((i,l)=>{a=i,e=l});return s.resolve=a,s.reject=e,s},n0=a=>a==null?"":""+a,B_=(a,e,s)=>{a.forEach(i=>{e[i]&&(s[i]=e[i])})},H_=/###/g,s0=a=>a&&a.indexOf("###")>-1?a.replace(H_,"."):a,a0=a=>!a||le(a),vr=(a,e,s)=>{const i=le(e)?e.split("."):e;let l=0;for(;l<i.length-1;){if(a0(a))return{};const c=s0(i[l]);!a[c]&&s&&(a[c]=new s),Object.prototype.hasOwnProperty.call(a,c)?a=a[c]:a={},++l}return a0(a)?{}:{obj:a,k:s0(i[l])}},i0=(a,e,s)=>{const{obj:i,k:l}=vr(a,e,Object);if(i!==void 0||e.length===1){i[l]=s;return}let c=e[e.length-1],d=e.slice(0,e.length-1),f=vr(a,d,Object);for(;f.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),f=vr(a,d,Object),f?.obj&&typeof f.obj[`${f.k}.${c}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${c}`]=s},q_=(a,e,s,i)=>{const{obj:l,k:c}=vr(a,e,Object);l[c]=l[c]||[],l[c].push(s)},Co=(a,e)=>{const{obj:s,k:i}=vr(a,e);if(s&&Object.prototype.hasOwnProperty.call(s,i))return s[i]},V_=(a,e,s)=>{const i=Co(a,s);return i!==void 0?i:Co(e,s)},Jy=(a,e,s)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in a?le(a[i])||a[i]instanceof String||le(e[i])||e[i]instanceof String?s&&(a[i]=e[i]):Jy(a[i],e[i],s):a[i]=e[i]);return a},Va=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var G_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const K_=a=>le(a)?a.replace(/[&<>"'\/]/g,e=>G_[e]):a;class F_{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const Y_=[" ",",","?","!",";"],J_=new F_(20),X_=(a,e,s)=>{e=e||"",s=s||"";const i=Y_.filter(d=>e.indexOf(d)<0&&s.indexOf(d)<0);if(i.length===0)return!0;const l=J_.getRegExp(`(${i.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!l.test(a);if(!c){const d=a.indexOf(s);d>0&&!l.test(a.substring(0,d))&&(c=!0)}return c},Xd=(a,e,s=".")=>{if(!a)return;if(a[e])return Object.prototype.hasOwnProperty.call(a,e)?a[e]:void 0;const i=e.split(s);let l=a;for(let c=0;c<i.length;){if(!l||typeof l!="object")return;let d,f="";for(let p=c;p<i.length;++p)if(p!==c&&(f+=s),f+=i[p],d=l[f],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&p<i.length-1)continue;c+=p-c+1;break}l=d}return l},kr=a=>a?.replace("_","-"),Q_={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,e){console?.[a]?.apply?.(console,e)}};let Z_=class Qd{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||Q_,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,i,l){return l&&!this.debug?null:(le(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new Qd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qd(this.logger,e)}};var ln=new Z_;class qo{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const l=this.observers[i].get(s)||0;this.observers[i].set(s,l+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([l,c])=>{for(let d=0;d<c;d++)l(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,c])=>{for(let d=0;d<c;d++)l.apply(l,[e,...s])})}}class r0 extends qo{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,i,l={}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,s],i&&(Array.isArray(i)?f.push(...i):le(i)&&c?f.push(...i.split(c)):f.push(i)));const p=Co(this.data,f);return!p&&!s&&!i&&e.indexOf(".")>-1&&(e=f[0],s=f[1],i=f.slice(2).join(".")),p||!d||!le(i)?p:Xd(this.data?.[e]?.[s],i,c)}addResource(e,s,i,l,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let f=[e,s];i&&(f=f.concat(d?i.split(d):i)),e.indexOf(".")>-1&&(f=e.split("."),l=s,s=f[1]),this.addNamespaces(s),i0(this.data,f,l),c.silent||this.emit("added",e,s,i,l)}addResources(e,s,i,l={silent:!1}){for(const c in i)(le(i[c])||Array.isArray(i[c]))&&this.addResource(e,s,c,i[c],{silent:!0});l.silent||this.emit("added",e,s,i)}addResourceBundle(e,s,i,l,c,d={silent:!1,skipCopy:!1}){let f=[e,s];e.indexOf(".")>-1&&(f=e.split("."),l=i,i=s,s=f[1]),this.addNamespaces(s);let p=Co(this.data,f)||{};d.skipCopy||(i=JSON.parse(JSON.stringify(i))),l?Jy(p,i,c):p={...p,...i},i0(this.data,f,p),d.silent||this.emit("added",e,s,i)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(l=>s[l]&&Object.keys(s[l]).length>0)}toJSON(){return this.data}}var Xy={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,e,s,i,l){return a.forEach(c=>{e=this.processors[c]?.process(e,s,i,l)??e}),e}};const Qy=Symbol("i18next/PATH_KEY");function W_(){const a=[],e=Object.create(null);let s;return e.get=(i,l)=>(s?.revoke?.(),l===Qy?a:(a.push(l),s=Proxy.revocable(i,e),s.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Zd(a,e){const{[Qy]:s}=a(W_());return s.join(e?.keySeparator??".")}const l0={},xd=a=>!le(a)&&typeof a!="boolean"&&typeof a!="number";class Ao extends qo{constructor(e,s={}){super(),B_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ln.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const i={...s};if(e==null)return!1;const l=this.resolve(e,i);if(l?.res===void 0)return!1;const c=xd(l.res);return!(i.returnObjects===!1&&c)}extractFromKey(e,s){let i=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let c=s.ns||this.options.defaultNS||[];const d=i&&e.indexOf(i)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!X_(e,i,l);if(d&&!f){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:le(c)?[c]:c};const g=e.split(i);(i!==l||i===l&&this.options.ns.indexOf(g[0])>-1)&&(c=g.shift()),e=g.join(l)}return{key:e,namespaces:le(c)?[c]:c}}translate(e,s,i){let l=typeof s=="object"?{...s}:s;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),e==null)return"";typeof e=="function"&&(e=Zd(e,{...this.options,...l})),Array.isArray(e)||(e=[String(e)]);const c=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:f,namespaces:p}=this.extractFromKey(e[e.length-1],l),g=p[p.length-1];let y=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=l.lng||this.language,x=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return x?c?{res:`${g}${y}${f}`,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(l)}:`${g}${y}${f}`:c?{res:f,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(l)}:f;const _=this.resolve(e,l);let j=_?.res;const M=_?.usedKey||f,k=_?.exactUsedKey||f,I=["[object Number]","[object Function]","[object RegExp]"],O=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,A=l.count!==void 0&&!le(l.count),F=Ao.hasDefaultValue(l),K=A?this.pluralResolver.getSuffix(v,l.count,l):"",z=l.ordinal&&A?this.pluralResolver.getSuffix(v,l.count,{ordinal:!1}):"",X=A&&!l.ordinal&&l.count===0,B=X&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${K}`]||l[`defaultValue${z}`]||l.defaultValue;let ee=j;S&&!j&&F&&(ee=B);const ie=xd(ee),Pe=Object.prototype.toString.apply(ee);if(S&&ee&&ie&&I.indexOf(Pe)<0&&!(le(O)&&Array.isArray(ee))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ae=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,ee,{...l,ns:p}):`key '${f} (${this.language})' returned an object instead of string.`;return c?(_.res=ae,_.usedParams=this.getUsedParamsDetails(l),_):ae}if(d){const ae=Array.isArray(ee),Ne=ae?[]:{},at=ae?k:M;for(const $ in ee)if(Object.prototype.hasOwnProperty.call(ee,$)){const Y=`${at}${d}${$}`;F&&!j?Ne[$]=this.translate(Y,{...l,defaultValue:xd(B)?B[$]:void 0,joinArrays:!1,ns:p}):Ne[$]=this.translate(Y,{...l,joinArrays:!1,ns:p}),Ne[$]===Y&&(Ne[$]=ee[$])}j=Ne}}else if(S&&le(O)&&Array.isArray(j))j=j.join(O),j&&(j=this.extendTranslation(j,e,l,i));else{let ae=!1,Ne=!1;!this.isValidLookup(j)&&F&&(ae=!0,j=B),this.isValidLookup(j)||(Ne=!0,j=f);const $=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ne?void 0:j,Y=F&&B!==j&&this.options.updateMissing;if(Ne||ae||Y){if(this.logger.log(Y?"updateKey":"missingKey",v,g,f,Y?B:j),d){const T=this.resolve(f,{...l,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ne=[];const me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(let T=0;T<me.length;T++)ne.push(me[T]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(l.lng||this.language):ne.push(l.lng||this.language);const _e=(T,q,J)=>{const Z=F&&J!==j?J:$;this.options.missingKeyHandler?this.options.missingKeyHandler(T,g,q,Z,Y,l):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(T,g,q,Z,Y,l),this.emit("missingKey",T,g,q,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?ne.forEach(T=>{const q=this.pluralResolver.getSuffixes(T,l);X&&l[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(J=>{_e([T],f+J,l[`defaultValue${J}`]||B)})}):_e(ne,f,B))}j=this.extendTranslation(j,e,l,_,i),Ne&&j===f&&this.options.appendNamespaceToMissingKey&&(j=`${g}${y}${f}`),(Ne||ae)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${f}`:f,ae?j:void 0,l))}return c?(_.res=j,_.usedParams=this.getUsedParamsDetails(l),_):j}extendTranslation(e,s,i,l,c){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const p=le(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=e.match(this.interpolator.nestingRegexp);g=v&&v.length}let y=i.replace&&!le(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,i.lng||this.language||l.usedLng,i),p){const v=e.match(this.interpolator.nestingRegexp),x=v&&v.length;g<x&&(i.nest=!1)}!i.lng&&l&&l.res&&(i.lng=this.language||l.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>c?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${s[0]}`),null):this.translate(...v,s),i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,f=le(d)?[d]:d;return e!=null&&f?.length&&i.applyPostProcessor!==!1&&(e=Xy.handle(f,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,s={}){let i,l,c,d,f;return le(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(p,s),y=g.key;l=y;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const x=s.count!==void 0&&!le(s.count),_=x&&!s.ordinal&&s.count===0,j=s.context!==void 0&&(le(s.context)||typeof s.context=="number")&&s.context!=="",M=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);v.forEach(k=>{this.isValidLookup(i)||(f=k,!l0[`${M[0]}-${k}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(f)&&(l0[`${M[0]}-${k}`]=!0,this.logger.warn(`key "${l}" for languages "${M.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(I=>{if(this.isValidLookup(i))return;d=I;const O=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(O,y,I,k,s);else{let A;x&&(A=this.pluralResolver.getSuffix(I,s.count,s));const F=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(s.ordinal&&A.indexOf(K)===0&&O.push(y+A.replace(K,this.options.pluralSeparator)),O.push(y+A),_&&O.push(y+F)),j){const z=`${y}${this.options.contextSeparator||"_"}${s.context}`;O.push(z),x&&(s.ordinal&&A.indexOf(K)===0&&O.push(z+A.replace(K,this.options.pluralSeparator)),O.push(z+A),_&&O.push(z+F))}}let S;for(;S=O.pop();)this.isValidLookup(i)||(c=S,i=this.getResource(I,k,S,s))}))})}),{res:i,usedKey:l,exactUsedKey:c,usedLng:d,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,i,l={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,s,i,l):this.resourceStore.getResource(e,s,i,l)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!le(e.replace);let l=i?e.replace:e;if(i&&typeof e.count<"u"&&(l.count=e.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!i){l={...l};for(const c of s)delete l[c]}return l}static hasDefaultValue(e){const s="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&s===i.substring(0,s.length)&&e[i]!==void 0)return!0;return!1}}class o0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ln.create("languageUtils")}getScriptPartFromCode(e){if(e=kr(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=kr(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(le(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(i=>{if(s)return;const l=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(l))&&(s=l)}),!s&&this.options.supportedLngs&&e.forEach(i=>{if(s)return;const l=this.getScriptPartFromCode(i);if(this.isSupportedCode(l))return s=l;const c=this.getLanguagePartFromCode(i);if(this.isSupportedCode(c))return s=c;s=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),le(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let i=e[s];return i||(i=e[this.getScriptPartFromCode(s)]),i||(i=e[this.formatLanguageCode(s)]),i||(i=e[this.getLanguagePartFromCode(s)]),i||(i=e.default),i||[]}toResolveHierarchy(e,s){const i=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),l=[],c=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):le(e)&&c(this.formatLanguageCode(e)),i.forEach(d=>{l.indexOf(d)<0&&c(this.formatLanguageCode(d))}),l}}const c0={zero:0,one:1,two:2,few:3,many:4,other:5},u0={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class eS{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=ln.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const i=kr(e==="dev"?"en":e),l=s.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:i,type:l});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(i,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),u0;if(!e.match(/-|_/))return u0;const p=this.languageUtils.getLanguagePartFromCode(e);d=this.getRule(p,s)}return this.pluralRulesCache[c]=d,d}needsPlural(e,s={}){let i=this.getRule(e,s);return i||(i=this.getRule("dev",s)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,s,i={}){return this.getSuffixes(e,i).map(l=>`${s}${l}`)}getSuffixes(e,s={}){let i=this.getRule(e,s);return i||(i=this.getRule("dev",s)),i?i.resolvedOptions().pluralCategories.sort((l,c)=>c0[l]-c0[c]).map(l=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(e,s,i={}){const l=this.getRule(e,i);return l?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${l.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,i))}}const d0=(a,e,s,i=".",l=!0)=>{let c=V_(a,e,s);return!c&&l&&le(s)&&(c=Xd(a,s,i),c===void 0&&(c=Xd(e,s,i))),c},wd=a=>a.replace(/\$/g,"$$$$");class tS{constructor(e={}){this.logger=ln.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:i,useRawValueToEscape:l,prefix:c,prefixEscaped:d,suffix:f,suffixEscaped:p,formatSeparator:g,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:x,nestingPrefixEscaped:_,nestingSuffix:j,nestingSuffixEscaped:M,nestingOptionsSeparator:k,maxReplaces:I,alwaysFormat:O}=e.interpolation;this.escape=s!==void 0?s:K_,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=c?Va(c):d||"{{",this.suffix=f?Va(f):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=x?Va(x):_||Va("$t("),this.nestingSuffix=j?Va(j):M||Va(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=I||1e3,this.alwaysFormat=O!==void 0?O:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,i)=>s?.source===i?(s.lastIndex=0,s):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,s,i,l){let c,d,f;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=_=>{if(_.indexOf(this.formatSeparator)<0){const I=d0(s,p,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,i,{...l,...s,interpolationkey:_}):I}const j=_.split(this.formatSeparator),M=j.shift().trim(),k=j.join(this.formatSeparator).trim();return this.format(d0(s,p,M,this.options.keySeparator,this.options.ignoreJSONStructure),k,i,{...l,...s,interpolationkey:M})};this.resetRegExp();const y=l?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>wd(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?wd(this.escape(_)):wd(_)}].forEach(_=>{for(f=0;c=_.regex.exec(e);){const j=c[1].trim();if(d=g(j),d===void 0)if(typeof y=="function"){const k=y(e,c,l);d=le(k)?k:""}else if(l&&Object.prototype.hasOwnProperty.call(l,j))d="";else if(v){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${e}`),d="";else!le(d)&&!this.useRawValueToEscape&&(d=n0(d));const M=_.safeValue(d);if(e=e.replace(c[0],M),v?(_.regex.lastIndex+=d.length,_.regex.lastIndex-=c[0].length):_.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,s,i={}){let l,c,d;const f=(p,g)=>{const y=this.nestingOptionsSeparator;if(p.indexOf(y)<0)return p;const v=p.split(new RegExp(`${y}[ ]*{`));let x=`{${v[1]}`;p=v[0],x=this.interpolate(x,d);const _=x.match(/'/g),j=x.match(/"/g);((_?.length??0)%2===0&&!j||j.length%2!==0)&&(x=x.replace(/'/g,'"'));try{d=JSON.parse(x),g&&(d={...g,...d})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,M),`${p}${y}${x}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,p};for(;l=this.nestingRegexp.exec(e);){let p=[];d={...i},d=d.replace&&!le(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const g=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(g!==-1&&(p=l[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),l[1]=l[1].slice(0,g)),c=s(f.call(this,l[1].trim(),d),d),c&&l[0]===e&&!le(c))return c;le(c)||(c=n0(c)),c||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${e}`),c=""),p.length&&(c=p.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:l[1].trim()}),c.trim())),e=e.replace(l[0],c),this.regexp.lastIndex=0}return e}}const nS=a=>{let e=a.toLowerCase().trim();const s={};if(a.indexOf("(")>-1){const i=a.split("(");e=i[0].toLowerCase().trim();const l=i[1].substring(0,i[1].length-1);e==="currency"&&l.indexOf(":")<0?s.currency||(s.currency=l.trim()):e==="relativetime"&&l.indexOf(":")<0?s.range||(s.range=l.trim()):l.split(";").forEach(d=>{if(d){const[f,...p]=d.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),y=f.trim();s[y]||(s[y]=g),g==="false"&&(s[y]=!1),g==="true"&&(s[y]=!0),isNaN(g)||(s[y]=parseInt(g,10))}})}return{formatName:e,formatOptions:s}},h0=a=>{const e={};return(s,i,l)=>{let c=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(c={...c,[l.interpolationkey]:void 0});const d=i+JSON.stringify(c);let f=e[d];return f||(f=a(kr(i),l),e[d]=f),f(s)}},sS=a=>(e,s,i)=>a(kr(s),i)(e);class aS{constructor(e={}){this.logger=ln.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const i=s.cacheInBuiltFormats?h0:sS;this.formats={number:i((l,c)=>{const d=new Intl.NumberFormat(l,{...c});return f=>d.format(f)}),currency:i((l,c)=>{const d=new Intl.NumberFormat(l,{...c,style:"currency"});return f=>d.format(f)}),datetime:i((l,c)=>{const d=new Intl.DateTimeFormat(l,{...c});return f=>d.format(f)}),relativetime:i((l,c)=>{const d=new Intl.RelativeTimeFormat(l,{...c});return f=>d.format(f,c.range||"day")}),list:i((l,c)=>{const d=new Intl.ListFormat(l,{...c});return f=>d.format(f)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=h0(s)}format(e,s,i,l={}){const c=s.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(f=>f.indexOf(")")>-1)){const f=c.findIndex(p=>p.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,f)].join(this.formatSeparator)}return c.reduce((f,p)=>{const{formatName:g,formatOptions:y}=nS(p);if(this.formats[g]){let v=f;try{const x=l?.formatParams?.[l.interpolationkey]||{},_=x.locale||x.lng||l.locale||l.lng||i;v=this.formats[g](f,_,{...y,...l,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const iS=(a,e)=>{a.pending[e]!==void 0&&(delete a.pending[e],a.pendingCount--)};class rS extends qo{constructor(e,s,i,l={}){super(),this.backend=e,this.store=s,this.services=i,this.languageUtils=i.languageUtils,this.options=l,this.logger=ln.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,l.backend,l)}queueLoad(e,s,i,l){const c={},d={},f={},p={};return e.forEach(g=>{let y=!0;s.forEach(v=>{const x=`${g}|${v}`;!i.reload&&this.store.hasResourceBundle(g,v)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?d[x]===void 0&&(d[x]=!0):(this.state[x]=1,y=!1,d[x]===void 0&&(d[x]=!0),c[x]===void 0&&(c[x]=!0),p[v]===void 0&&(p[v]=!0)))}),y||(f[g]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(p)}}loaded(e,s,i){const l=e.split("|"),c=l[0],d=l[1];s&&this.emit("failedLoading",c,d,s),!s&&i&&this.store.addResourceBundle(c,d,i,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&i&&(this.state[e]=0);const f={};this.queue.forEach(p=>{q_(p.loaded,[c],d),iS(p,e),s&&p.errors.push(s),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{f[g]||(f[g]={});const y=p.loaded[g];y.length&&y.forEach(v=>{f[g][v]===void 0&&(f[g][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(p=>!p.done)}read(e,s,i,l=0,c=this.retryTimeout,d){if(!e.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:i,tried:l,wait:c,callback:d});return}this.readingCalls++;const f=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&y&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,i,l+1,c*2,d)},c);return}d(g,y)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const g=p(e,s);g&&typeof g.then=="function"?g.then(y=>f(null,y)).catch(f):f(null,g)}catch(g){f(g)}return}return p(e,s,f)}prepareLoading(e,s,i={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),le(s)&&(s=[s]);const c=this.queueLoad(e,s,i,l);if(!c.toLoad.length)return c.pending.length||l(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(e,s,i){this.prepareLoading(e,s,{},i)}reload(e,s,i){this.prepareLoading(e,s,{reload:!0},i)}loadOne(e,s=""){const i=e.split("|"),l=i[0],c=i[1];this.read(l,c,"read",void 0,void 0,(d,f)=>{d&&this.logger.warn(`${s}loading namespace ${c} for language ${l} failed`,d),!d&&f&&this.logger.log(`${s}loaded namespace ${c} for language ${l}`,f),this.loaded(e,d,f)})}saveMissing(e,s,i,l,c,d={},f=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${i}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const p={...d,isUpdate:c},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,s,i,l,p):y=g(e,s,i,l),y&&typeof y.then=="function"?y.then(v=>f(null,v)).catch(f):f(null,y)}catch(y){f(y)}else g(e,s,i,l,f,p)}!e||!e[0]||this.store.addResource(e[0],s,i,l)}}}const f0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let e={};if(typeof a[1]=="object"&&(e=a[1]),le(a[1])&&(e.defaultValue=a[1]),le(a[2])&&(e.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const s=a[3]||a[2];Object.keys(s).forEach(i=>{e[i]=s[i]})}return e},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),m0=a=>(le(a.ns)&&(a.ns=[a.ns]),le(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),le(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a),ho=()=>{},lS=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(s=>{typeof a[s]=="function"&&(a[s]=a[s].bind(a))})};class xr extends qo{constructor(e={},s){if(super(),this.options=m0(e),this.services={},this.logger=ln,this.modules={external:[]},lS(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&(le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=f0();this.options={...i,...this.options,...m0(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const l=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?ln.init(l(this.modules.logger),this.options):ln.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=aS;const y=new o0(this.options);this.store=new r0(this.options.resources,this.options);const v=this.services;v.logger=ln,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new eS(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=l(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new tS(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new rS(l(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...j)=>{this.emit(_,...j)}),this.modules.languageDetector&&(v.languageDetector=l(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=l(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Ao(this.services,this.options),this.translator.on("*",(_,...j)=>{this.emit(_,...j)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,s||(s=ho),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const f=ur(),p=()=>{const g=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(v),s(y,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),f}loadResources(e,s=ho){let i=s;const l=le(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(l?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const c=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(g=>{g!=="cimode"&&c.indexOf(g)<0&&c.push(g)})};l?d(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),this.options.preload?.forEach?.(f=>d(f)),this.services.backendConnector.load(c,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(f)})}else i(null)}reloadResources(e,s,i){const l=ur();return typeof e=="function"&&(i=e,e=void 0),typeof s=="function"&&(i=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),i||(i=ho),this.services.backendConnector.reload(e,s,c=>{l.resolve(),i(c)}),l}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Xy.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const i=this.languages[s];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const i=ur();this.emit("languageChanging",e);const l=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},c=(f,p)=>{p?this.isLanguageChangingTo===e&&(l(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),s&&s(f,(...g)=>this.t(...g))},d=f=>{!e&&!f&&this.services.languageDetector&&(f=[]);const p=le(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(le(f)?[f]:f);g&&(this.language||l(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,y=>{c(y,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),i}getFixedT(e,s,i){const l=(c,d,...f)=>{let p;typeof d!="object"?p=this.options.overloadTranslationOptionHandler([c,d].concat(f)):p={...d},p.lng=p.lng||l.lng,p.lngs=p.lngs||l.lngs,p.ns=p.ns||l.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||l.keyPrefix);const g=this.options.keySeparator||".";let y;return p.keyPrefix&&Array.isArray(c)?y=c.map(v=>(typeof v=="function"&&(v=Zd(v,{...this.options,...d})),`${p.keyPrefix}${g}${v}`)):(typeof c=="function"&&(c=Zd(c,{...this.options,...d})),y=p.keyPrefix?`${p.keyPrefix}${g}${c}`:c),this.t(y,p)};return le(e)?l.lng=e:l.lngs=e,l.ns=s,l.keyPrefix=i,l}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=s.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const d=(f,p)=>{const g=this.services.backendConnector.state[`${f}|${p}`];return g===-1||g===0||g===2};if(s.precheck){const f=s.precheck(this,d);if(f!==void 0)return f}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(i,e)&&(!l||d(c,e)))}loadNamespaces(e,s){const i=ur();return this.options.ns?(le(e)&&(e=[e]),e.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{i.resolve(),s&&s(l)}),i):(s&&s(),Promise.resolve())}loadLanguages(e,s){const i=ur();le(e)&&(e=[e]);const l=this.options.preload||[],c=e.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=l.concat(c),this.loadResources(d=>{i.resolve(),s&&s(d)}),i):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new o0(f0());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){const i=new xr(e,s);return i.createInstance=xr.createInstance,i}cloneInstance(e={},s=ho){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const l={...this.options,...e,isClone:!0},c=new xr(l);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(f=>{c[f]=this[f]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},i){const f=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((y,v)=>(y[v]={...p[g][v]},y),p[g]),p),{});c.store=new r0(f,l),c.services.resourceStore=c.store}return c.translator=new Ao(c.services,l),c.translator.on("*",(f,...p)=>{c.emit(f,...p)}),c.init(l,s),c.translator.options=l,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=xr.createInstance();dt.createInstance;dt.dir;dt.init;dt.loadResources;dt.reloadResources;dt.use;dt.changeLanguage;dt.getFixedT;dt.t;dt.exists;dt.setDefaultNamespace;dt.hasLoadedNamespace;dt.loadNamespaces;dt.loadLanguages;const oS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,cS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},uS=a=>cS[a],dS=a=>a.replace(oS,uS);let p0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:dS};const hS=(a={})=>{p0={...p0,...a}},fS={type:"3rdParty",init(a){hS(a.options.react)}},mS=E.createContext();function pS({i18n:a,defaultNS:e,children:s}){const i=E.useMemo(()=>({i18n:a,defaultNS:e}),[a,e]);return E.createElement(mS.Provider,{value:i},s)}const{slice:gS,forEach:yS}=[];function bS(a){return yS.call(gS.call(arguments,1),e=>{if(e)for(const s in e)a[s]===void 0&&(a[s]=e[s])}),a}function vS(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(a))}const g0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,xS=function(a,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},l=encodeURIComponent(e);let c=`${a}=${l}`;if(i.maxAge>0){const d=i.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(i.domain){if(!g0.test(i.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${i.domain}`}if(i.path){if(!g0.test(i.path))throw new TypeError("option path is invalid");c+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(c+="; HttpOnly"),i.secure&&(c+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(c+="; Partitioned"),c},y0={create(a,e,s,i){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+s*60*1e3)),i&&(l.domain=i),document.cookie=xS(a,e,l)},read(a){const e=`${a}=`,s=document.cookie.split(";");for(let i=0;i<s.length;i++){let l=s[i];for(;l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(e)===0)return l.substring(e.length,l.length)}return null},remove(a,e){this.create(a,"",-1,e)}};var wS={name:"cookie",lookup(a){let{lookupCookie:e}=a;if(e&&typeof document<"u")return y0.read(e)||void 0},cacheUserLanguage(a,e){let{lookupCookie:s,cookieMinutes:i,cookieDomain:l,cookieOptions:c}=e;s&&typeof document<"u"&&y0.create(s,a,i,l,c)}},_S={name:"querystring",lookup(a){let{lookupQuerystring:e}=a,s;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const c=i.substring(1).split("&");for(let d=0;d<c.length;d++){const f=c[d].indexOf("=");f>0&&c[d].substring(0,f)===e&&(s=c[d].substring(f+1))}}return s}},SS={name:"hash",lookup(a){let{lookupHash:e,lookupFromHashIndex:s}=a,i;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const c=l.substring(1);if(e){const d=c.split("&");for(let f=0;f<d.length;f++){const p=d[f].indexOf("=");p>0&&d[f].substring(0,p)===e&&(i=d[f].substring(p+1))}}if(i)return i;if(!i&&s>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof s=="number"?s:0]?.replace("/",""):void 0}}}return i}};let Ga=null;const b0=()=>{if(Ga!==null)return Ga;try{if(Ga=typeof window<"u"&&window.localStorage!==null,!Ga)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{Ga=!1}return Ga};var jS={name:"localStorage",lookup(a){let{lookupLocalStorage:e}=a;if(e&&b0())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupLocalStorage:s}=e;s&&b0()&&window.localStorage.setItem(s,a)}};let Ka=null;const v0=()=>{if(Ka!==null)return Ka;try{if(Ka=typeof window<"u"&&window.sessionStorage!==null,!Ka)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{Ka=!1}return Ka};var NS={name:"sessionStorage",lookup(a){let{lookupSessionStorage:e}=a;if(e&&v0())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupSessionStorage:s}=e;s&&v0()&&window.sessionStorage.setItem(s,a)}},ES={name:"navigator",lookup(a){const e=[];if(typeof navigator<"u"){const{languages:s,userLanguage:i,language:l}=navigator;if(s)for(let c=0;c<s.length;c++)e.push(s[c]);i&&e.push(i),l&&e.push(l)}return e.length>0?e:void 0}},TS={name:"htmlTag",lookup(a){let{htmlTag:e}=a,s;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(s=i.getAttribute("lang")),s}},CS={name:"path",lookup(a){let{lookupFromPathIndex:e}=a;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof e=="number"?e:0]?.replace("/",""):void 0}},AS={name:"subdomain",lookup(a){let{lookupFromSubdomainIndex:e}=a;const s=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[s]}};let Zy=!1;try{document.cookie,Zy=!0}catch{}const Wy=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Zy||Wy.splice(1,1);const kS=()=>({order:Wy,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class eb{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,s)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=bS(s,this.options||{},kS()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=l=>l.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(wS),this.addDetector(_S),this.addDetector(jS),this.addDetector(NS),this.addDetector(ES),this.addDetector(TS),this.addDetector(CS),this.addDetector(AS),this.addDetector(SS)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return e.forEach(i=>{if(this.detectors[i]){let l=this.detectors[i].lookup(this.options);l&&typeof l=="string"&&(l=[l]),l&&(s=s.concat(l))}}),s=s.filter(i=>i!=null&&!vS(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||s.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}eb.type="languageDetector";const x0=Object.assign({}),gr={};Object.keys(x0).forEach(a=>{const e=a.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(e){const[,s]=e,i=x0[a];gr[s]||(gr[s]={translation:{}}),i.default&&(gr[s].translation={...gr[s].translation,...i.default})}});dt.use(eb).use(fS).init({lng:"en",fallbackLng:"en",debug:!1,resources:gr,interpolation:{escapeValue:!1}});var _d={exports:{}},dr={},Sd={exports:{}},jd={};var w0;function RS(){return w0||(w0=1,(function(a){function e($,Y){var ne=$.length;$.push(Y);e:for(;0<ne;){var me=ne-1>>>1,_e=$[me];if(0<l(_e,Y))$[me]=Y,$[ne]=_e,ne=me;else break e}}function s($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Y=$[0],ne=$.pop();if(ne!==Y){$[0]=ne;e:for(var me=0,_e=$.length,T=_e>>>1;me<T;){var q=2*(me+1)-1,J=$[q],Z=q+1,ce=$[Z];if(0>l(J,ne))Z<_e&&0>l(ce,J)?($[me]=ce,$[Z]=ne,me=Z):($[me]=J,$[q]=ne,me=q);else if(Z<_e&&0>l(ce,ne))$[me]=ce,$[Z]=ne,me=Z;else break e}}return Y}function l($,Y){var ne=$.sortIndex-Y.sortIndex;return ne!==0?ne:$.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();a.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,v=null,x=3,_=!1,j=!1,M=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A($){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=$)i(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=s(g)}}function F($){if(M=!1,A($),!j)if(s(p)!==null)j=!0,K||(K=!0,Pe());else{var Y=s(g);Y!==null&&at(F,Y.startTime-$)}}var K=!1,z=-1,X=5,B=-1;function ee(){return k?!0:!(a.unstable_now()-B<X)}function ie(){if(k=!1,K){var $=a.unstable_now();B=$;var Y=!0;try{e:{j=!1,M&&(M=!1,O(z),z=-1),_=!0;var ne=x;try{t:{for(A($),v=s(p);v!==null&&!(v.expirationTime>$&&ee());){var me=v.callback;if(typeof me=="function"){v.callback=null,x=v.priorityLevel;var _e=me(v.expirationTime<=$);if($=a.unstable_now(),typeof _e=="function"){v.callback=_e,A($),Y=!0;break t}v===s(p)&&i(p),A($)}else i(p);v=s(p)}if(v!==null)Y=!0;else{var T=s(g);T!==null&&at(F,T.startTime-$),Y=!1}}break e}finally{v=null,x=ne,_=!1}Y=void 0}}finally{Y?Pe():K=!1}}}var Pe;if(typeof S=="function")Pe=function(){S(ie)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ne=ae.port2;ae.port1.onmessage=ie,Pe=function(){Ne.postMessage(null)}}else Pe=function(){I(ie,0)};function at($,Y){z=I(function(){$(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function($){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var ne=x;x=Y;try{return $()}finally{x=ne}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=x;x=$;try{return Y()}finally{x=ne}},a.unstable_scheduleCallback=function($,Y,ne){var me=a.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,$){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ne+_e,$={id:y++,callback:Y,priorityLevel:$,startTime:ne,expirationTime:_e,sortIndex:-1},ne>me?($.sortIndex=ne,e(g,$),s(p)===null&&$===s(g)&&(M?(O(z),z=-1):M=!0,at(F,ne-me))):($.sortIndex=_e,e(p,$),j||_||(j=!0,K||(K=!0,Pe()))),$},a.unstable_shouldYield=ee,a.unstable_wrapCallback=function($){var Y=x;return function(){var ne=x;x=Y;try{return $.apply(this,arguments)}finally{x=ne}}}})(jd)),jd}var _0;function OS(){return _0||(_0=1,Sd.exports=RS()),Sd.exports}var Nd={exports:{}},ut={};var S0;function IS(){if(S0)return ut;S0=1;var a=wh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:g,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,y)},ut.flushSync=function(p){var g=d.T,y=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=y,i.d.f()}},ut.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},ut.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ut.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):y==="script"&&i.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ut.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},ut.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin);i.d.L(p,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ut.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},ut.requestFormReset=function(p){i.d.r(p)},ut.unstable_batchedUpdates=function(p,g){return p(g)},ut.useFormState=function(p,g,y){return d.H.useFormState(p,g,y)},ut.useFormStatus=function(){return d.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var j0;function DS(){if(j0)return Nd.exports;j0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nd.exports=IS(),Nd.exports}var N0;function LS(){if(N0)return dr;N0=1;var a=OS(),e=wh(),s=DS();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function f(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(i(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(i(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return p(h),t;if(m===o)return p(h),n;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=h,o=m;else{for(var b=!1,w=h.child;w;){if(w===r){b=!0,r=h,o=m;break}if(w===o){b=!0,o=h,r=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===r){b=!0,r=m,o=h;break}if(w===o){b=!0,o=m,r=h;break}w=w.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Pe(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case S:return t.displayName||"Context";case O:return(t._context.displayName||"Context")+".Consumer";case A:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case X:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var at=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},me=[],_e=-1;function T(t){return{current:t}}function q(t){0>_e||(t.current=me[_e],me[_e]=null,_e--)}function J(t,n){_e++,me[_e]=t.current,t.current=n}var Z=T(null),ce=T(null),pe=T(null),Te=T(null);function ht(t,n){switch(J(pe,n),J(ce,t),J(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=wg(n),t=_g(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(Z),J(Z,t)}function qe(){q(Z),q(ce),q(pe)}function gi(t){t.memoizedState!==null&&J(Te,t);var n=Z.current,r=_g(n,t.type);n!==r&&(J(ce,t),J(Z,r))}function Fr(t){ce.current===t&&(q(Z),q(ce)),Te.current===t&&(q(Te),ir._currentValue=ne)}var ec,Xh;function Cs(t){if(ec===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ec=n&&n[1]||"",Xh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+t+Xh}var tc=!1;function nc(t,n){if(!t||tc)return"";tc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(P){var U=P}Reflect.construct(t,[],G)}else{try{G.call()}catch(P){U=P}t.call(G.prototype)}}else{try{throw Error()}catch(P){U=P}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(P){if(P&&U&&typeof P.stack=="string")return[P.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var N=b.split(`
`),L=w.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===L.length)for(o=N.length-1,h=L.length-1;1<=o&&0<=h&&N[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==L[h]){var H=`
`+N[o].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=o&&0<=h);break}}}finally{tc=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Cs(r):""}function fx(t,n){switch(t.tag){case 26:case 27:case 5:return Cs(t.type);case 16:return Cs("Lazy");case 13:return t.child!==n&&n!==null?Cs("Suspense Fallback"):Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 15:return nc(t.type,!1);case 11:return nc(t.type.render,!1);case 1:return nc(t.type,!0);case 31:return Cs("Activity");default:return""}}function Qh(t){try{var n="",r=null;do n+=fx(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var sc=Object.prototype.hasOwnProperty,ac=a.unstable_scheduleCallback,ic=a.unstable_cancelCallback,mx=a.unstable_shouldYield,px=a.unstable_requestPaint,jt=a.unstable_now,gx=a.unstable_getCurrentPriorityLevel,Zh=a.unstable_ImmediatePriority,Wh=a.unstable_UserBlockingPriority,Yr=a.unstable_NormalPriority,yx=a.unstable_LowPriority,ef=a.unstable_IdlePriority,bx=a.log,vx=a.unstable_setDisableYieldValue,yi=null,Nt=null;function Vn(t){if(typeof bx=="function"&&vx(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(yi,t)}catch{}}var Et=Math.clz32?Math.clz32:_x,xx=Math.log,wx=Math.LN2;function _x(t){return t>>>=0,t===0?32:31-(xx(t)/wx|0)|0}var Jr=256,Xr=262144,Qr=4194304;function As(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zr(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?h=As(o):(b&=w,b!==0?h=As(b):r||(r=w&~t,r!==0&&(h=As(r))))):(w=o&~m,w!==0?h=As(w):b!==0?h=As(b):r||(r=o&~t,r!==0&&(h=As(r)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:h}function bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sx(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(){var t=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),t}function rc(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function vi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jx(t,n,r,o,h,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,L=t.hiddenUpdates;for(r=b&~r;0<r;){var H=31-Et(r),G=1<<H;w[H]=0,N[H]=-1;var U=L[H];if(U!==null)for(L[H]=null,H=0;H<U.length;H++){var P=U[H];P!==null&&(P.lane&=-536870913)}r&=~G}o!==0&&nf(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function nf(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function sf(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Et(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function af(t,n){var r=n&-n;return r=(r&42)!==0?1:lc(r),(r&(t.suspendedLanes|n))!==0?0:r}function lc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rf(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:Gg(t.type))}function lf(t,n){var r=Y.p;try{return Y.p=t,n()}finally{Y.p=r}}var Gn=Math.random().toString(36).slice(2),it="__reactFiber$"+Gn,gt="__reactProps$"+Gn,ra="__reactContainer$"+Gn,cc="__reactEvents$"+Gn,Nx="__reactListeners$"+Gn,Ex="__reactHandles$"+Gn,of="__reactResources$"+Gn,xi="__reactMarker$"+Gn;function uc(t){delete t[it],delete t[gt],delete t[cc],delete t[Nx],delete t[Ex]}function la(t){var n=t[it];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ra]||r[it]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ag(t);t!==null;){if(r=t[it])return r;t=Ag(t)}return n}t=r,r=t.parentNode}return null}function oa(t){if(t=t[it]||t[ra]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function ca(t){var n=t[of];return n||(n=t[of]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(t){t[xi]=!0}var cf=new Set,uf={};function ks(t,n){ua(t,n),ua(t+"Capture",n)}function ua(t,n){for(uf[t]=n,t=0;t<n.length;t++)cf.add(n[t])}var Tx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),df={},hf={};function Cx(t){return sc.call(hf,t)?!0:sc.call(df,t)?!1:Tx.test(t)?hf[t]=!0:(df[t]=!0,!1)}function Wr(t,n,r){if(Cx(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function el(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ff(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ax(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function dc(t){if(!t._valueTracker){var n=ff(t)?"checked":"value";t._valueTracker=Ax(t,n,""+t[n])}}function mf(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=ff(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kx=/[\n"\\]/g;function Mt(t){return t.replace(kx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hc(t,n,r,o,h,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?fc(t,b,Ut(n)):r!=null?fc(t,b,Ut(r)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Ut(w):t.removeAttribute("name")}function pf(t,n,r,o,h,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){dc(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,w||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),dc(t)}function fc(t,n,r){n==="number"&&tl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function da(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gf(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function yf(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(i(92));if(at(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),dc(t)}function ha(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Rx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Rx.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function vf(t,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&bf(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&bf(t,m,n[m])}function mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ox=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ix=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nl(t){return Ix.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pn(){}var pc=null;function gc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,ma=null;function xf(t){var n=oa(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(hc(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[gt]||null;if(!h)throw Error(i(90));hc(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&mf(o)}break e;case"textarea":gf(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&da(t,!!r.multiple,n,!1)}}}var yc=!1;function wf(t,n,r){if(yc)return t(n,r);yc=!0;try{var o=t(n);return o}finally{if(yc=!1,(fa!==null||ma!==null)&&(ql(),fa&&(n=fa,t=ma,ma=fa=null,xf(n),t)))for(n=0;n<t.length;n++)xf(t[n])}}function _i(t,n){var r=t.stateNode;if(r===null)return null;var o=r[gt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(gn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{bc=!1}var Kn=null,vc=null,sl=null;function _f(){if(sl)return sl;var t,n=vc,r=n.length,o,h="value"in Kn?Kn.value:Kn.textContent,m=h.length;for(t=0;t<r&&n[t]===h[t];t++);var b=r-t;for(o=1;o<=b&&n[r-o]===h[m-o];o++);return sl=h.slice(t,1<o?1-o:void 0)}function al(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function il(){return!0}function Sf(){return!1}function yt(t){function n(r,o,h,m,b){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?il:Sf,this.isPropagationStopped=Sf,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),n}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=yt(Rs),ji=v({},Rs,{view:0,detail:0}),Dx=yt(ji),xc,wc,Ni,ll=v({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(xc=t.screenX-Ni.screenX,wc=t.screenY-Ni.screenY):wc=xc=0,Ni=t),xc)},movementY:function(t){return"movementY"in t?t.movementY:wc}}),jf=yt(ll),Lx=v({},ll,{dataTransfer:0}),Ux=yt(Lx),Mx=v({},ji,{relatedTarget:0}),_c=yt(Mx),Px=v({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=yt(Px),$x=v({},Rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bx=yt($x),Hx=v({},Rs,{data:0}),Nf=yt(Hx),qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kx(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Gx[t])?!!n[t]:!1}function Sc(){return Kx}var Fx=v({},ji,{key:function(t){if(t.key){var n=qx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(t){return t.type==="keypress"?al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yx=yt(Fx),Jx=v({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=yt(Jx),Xx=v({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),Qx=yt(Xx),Zx=v({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=yt(Zx),ew=v({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tw=yt(ew),nw=v({},Rs,{newState:0,oldState:0}),sw=yt(nw),aw=[9,13,27,32],jc=gn&&"CompositionEvent"in window,Ei=null;gn&&"documentMode"in document&&(Ei=document.documentMode);var iw=gn&&"TextEvent"in window&&!Ei,Tf=gn&&(!jc||Ei&&8<Ei&&11>=Ei),Cf=" ",Af=!1;function kf(t,n){switch(t){case"keyup":return aw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function rw(t,n){switch(t){case"compositionend":return Rf(n);case"keypress":return n.which!==32?null:(Af=!0,Cf);case"textInput":return t=n.data,t===Cf&&Af?null:t;default:return null}}function lw(t,n){if(pa)return t==="compositionend"||!jc&&kf(t,n)?(t=_f(),sl=vc=Kn=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tf&&n.locale!=="ko"?null:n.data;default:return null}}var ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Of(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ow[t.type]:n==="textarea"}function If(t,n,r,o){fa?ma?ma.push(o):ma=[o]:fa=o,n=Xl(n,"onChange"),0<n.length&&(r=new rl("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ti=null,Ci=null;function cw(t){pg(t,0)}function ol(t){var n=wi(t);if(mf(n))return t}function Df(t,n){if(t==="change")return n}var Lf=!1;if(gn){var Nc;if(gn){var Ec="oninput"in document;if(!Ec){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),Ec=typeof Uf.oninput=="function"}Nc=Ec}else Nc=!1;Lf=Nc&&(!document.documentMode||9<document.documentMode)}function Mf(){Ti&&(Ti.detachEvent("onpropertychange",Pf),Ci=Ti=null)}function Pf(t){if(t.propertyName==="value"&&ol(Ci)){var n=[];If(n,Ci,t,gc(t)),wf(cw,n)}}function uw(t,n,r){t==="focusin"?(Mf(),Ti=n,Ci=r,Ti.attachEvent("onpropertychange",Pf)):t==="focusout"&&Mf()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ol(Ci)}function hw(t,n){if(t==="click")return ol(n)}function fw(t,n){if(t==="input"||t==="change")return ol(n)}function mw(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tt=typeof Object.is=="function"?Object.is:mw;function Ai(t,n){if(Tt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!sc.call(n,h)||!Tt(t[h],n[h]))return!1}return!0}function zf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $f(t,n){var r=zf(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zf(r)}}function Bf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=tl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=tl(t.document)}return n}function Tc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pw=gn&&"documentMode"in document&&11>=document.documentMode,ga=null,Cc=null,ki=null,Ac=!1;function qf(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ac||ga==null||ga!==tl(o)||(o=ga,"selectionStart"in o&&Tc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ki&&Ai(ki,o)||(ki=o,o=Xl(Cc,"onSelect"),0<o.length&&(n=new rl("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=ga)))}function Os(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ya={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},kc={},Vf={};gn&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Is(t){if(kc[t])return kc[t];if(!ya[t])return t;var n=ya[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vf)return kc[t]=n[r];return t}var Gf=Is("animationend"),Kf=Is("animationiteration"),Ff=Is("animationstart"),gw=Is("transitionrun"),yw=Is("transitionstart"),bw=Is("transitioncancel"),Yf=Is("transitionend"),Jf=new Map,Rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rc.push("scrollEnd");function Ft(t,n){Jf.set(t,n),ks(n,[t])}var cl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pt=[],ba=0,Oc=0;function ul(){for(var t=ba,n=Oc=ba=0;n<t;){var r=Pt[n];Pt[n++]=null;var o=Pt[n];Pt[n++]=null;var h=Pt[n];Pt[n++]=null;var m=Pt[n];if(Pt[n++]=null,o!==null&&h!==null){var b=o.pending;b===null?h.next=h:(h.next=b.next,b.next=h),o.pending=h}m!==0&&Xf(r,h,m)}}function dl(t,n,r,o){Pt[ba++]=t,Pt[ba++]=n,Pt[ba++]=r,Pt[ba++]=o,Oc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ic(t,n,r,o){return dl(t,n,r,o),hl(t)}function Ds(t,n){return dl(t,null,null,n),hl(t)}function Xf(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-Et(r),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),m):null}function hl(t){if(50<Zi)throw Zi=0,Hu=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var va={};function vw(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,n,r,o){return new vw(t,n,r,o)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,n){var r=t.alternate;return r===null?(r=Ct(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Qf(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fl(t,n,r,o,h,m){var b=0;if(o=t,typeof t=="function")Dc(t)&&(b=1);else if(typeof t=="string")b=j_(t,r,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=Ct(31,r,n,h),t.elementType=B,t.lanes=m,t;case M:return Ls(r.children,h,m,n);case k:b=8,h|=24;break;case I:return t=Ct(12,r,n,h|2),t.elementType=I,t.lanes=m,t;case F:return t=Ct(13,r,n,h),t.elementType=F,t.lanes=m,t;case K:return t=Ct(19,r,n,h),t.elementType=K,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:b=10;break e;case O:b=9;break e;case A:b=11;break e;case z:b=14;break e;case X:b=16,o=null;break e}b=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return n=Ct(b,r,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Ls(t,n,r,o){return t=Ct(7,t,o,n),t.lanes=r,t}function Lc(t,n,r){return t=Ct(6,t,null,n),t.lanes=r,t}function Zf(t){var n=Ct(18,null,null,0);return n.stateNode=t,n}function Uc(t,n,r){return n=Ct(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wf=new WeakMap;function zt(t,n){if(typeof t=="object"&&t!==null){var r=Wf.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Qh(n)},Wf.set(t,n),n)}return{value:t,source:n,stack:Qh(n)}}var xa=[],wa=0,ml=null,Ri=0,$t=[],Bt=0,Fn=null,en=1,tn="";function bn(t,n){xa[wa++]=Ri,xa[wa++]=ml,ml=t,Ri=n}function em(t,n,r){$t[Bt++]=en,$t[Bt++]=tn,$t[Bt++]=Fn,Fn=t;var o=en;t=tn;var h=32-Et(o)-1;o&=~(1<<h),r+=1;var m=32-Et(n)+h;if(30<m){var b=h-h%5;m=(o&(1<<b)-1).toString(32),o>>=b,h-=b,en=1<<32-Et(n)+h|r<<h|o,tn=m+t}else en=1<<m|r<<h|o,tn=t}function Mc(t){t.return!==null&&(bn(t,1),em(t,1,0))}function Pc(t){for(;t===ml;)ml=xa[--wa],xa[wa]=null,Ri=xa[--wa],xa[wa]=null;for(;t===Fn;)Fn=$t[--Bt],$t[Bt]=null,tn=$t[--Bt],$t[Bt]=null,en=$t[--Bt],$t[Bt]=null}function tm(t,n){$t[Bt++]=en,$t[Bt++]=tn,$t[Bt++]=Fn,en=n.id,tn=n.overflow,Fn=t}var rt=null,Ue=null,we=!1,Yn=null,Ht=!1,zc=Error(i(519));function Jn(t){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oi(zt(n,t)),zc}function nm(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[it]=t,n[gt]=o,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(r=0;r<er.length;r++)ye(er[r],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),pf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),yf(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||vg(n.textContent,r)?(o.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),o.onScroll!=null&&ye("scroll",n),o.onScrollEnd!=null&&ye("scrollend",n),o.onClick!=null&&(n.onclick=pn),n=!0):n=!1,n||Jn(t,!0)}function sm(t){for(rt=t.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:rt=rt.return}}function _a(t){if(t!==rt)return!1;if(!we)return sm(t),we=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||sd(t.type,t.memoizedProps)),r=!r),r&&Ue&&Jn(t),sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Ue=Cg(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Ue=Cg(t)}else n===27?(n=Ue,cs(t.type)?(t=od,od=null,Ue=t):Ue=n):Ue=rt?Vt(t.stateNode.nextSibling):null;return!0}function Us(){Ue=rt=null,we=!1}function $c(){var t=Yn;return t!==null&&(wt===null?wt=t:wt.push.apply(wt,t),Yn=null),t}function Oi(t){Yn===null?Yn=[t]:Yn.push(t)}var Bc=T(null),Ms=null,vn=null;function Xn(t,n,r){J(Bc,n._currentValue),n._currentValue=r}function xn(t){t._currentValue=Bc.current,q(Bc)}function Hc(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function qc(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var N=0;N<n.length;N++)if(w.context===n[N]){m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Hc(m.return,r,t),o||(b=null);break e}m=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Hc(b,r,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Sa(t,n,r,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=h.type;Tt(h.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(h===Te.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ir):t=[ir])}h=h.return}t!==null&&qc(n,t,r,o),n.flags|=262144}function pl(t){for(t=t.firstContext;t!==null;){if(!Tt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){Ms=t,vn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lt(t){return am(Ms,t)}function gl(t,n){return Ms===null&&Ps(t),am(t,n)}function am(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vn===null){if(t===null)throw Error(i(308));vn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vn=vn.next=n;return r}var xw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ww=a.unstable_scheduleCallback,_w=a.unstable_NormalPriority,Ke={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new xw,data:new Map,refCount:0}}function Ii(t){t.refCount--,t.refCount===0&&ww(_w,function(){t.controller.abort()})}var Di=null,Gc=0,ja=0,Na=null;function Sw(t,n){if(Di===null){var r=Di=[];Gc=0,ja=Yu(),Na={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Gc++,n.then(im,im),n}function im(){if(--Gc===0&&Di!==null){Na!==null&&(Na.status="fulfilled");var t=Di;Di=null,ja=0,Na=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jw(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var rm=$.S;$.S=function(t,n){qp=jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Sw(t,n),rm!==null&&rm(t,n)};var zs=T(null);function Kc(){var t=zs.current;return t!==null?t:Ie.pooledCache}function yl(t,n){n===null?J(zs,zs.current):J(zs,n.pool)}function lm(){var t=Kc();return t===null?null:{parent:Ke._currentValue,pool:t}}var Ea=Error(i(460)),Fc=Error(i(474)),bl=Error(i(542)),vl={then:function(){}};function om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(pn,pn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dm(t),t;default:if(typeof n.status=="string")n.then(pn,pn);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dm(t),t}throw Bs=n,Ea}}function $s(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Bs=r,Ea):r}}var Bs=null;function um(){if(Bs===null)throw Error(i(459));var t=Bs;return Bs=null,t}function dm(t){if(t===Ea||t===bl)throw Error(i(483))}var Ta=null,Li=0;function xl(t){var n=Li;return Li+=1,Ta===null&&(Ta=[]),cm(Ta,t,n)}function Ui(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function wl(t,n){throw n.$$typeof===x?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hm(t){function n(R,C){if(t){var D=R.deletions;D===null?(R.deletions=[C],R.flags|=16):D.push(C)}}function r(R,C){if(!t)return null;for(;C!==null;)n(R,C),C=C.sibling;return null}function o(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function h(R,C){return R=yn(R,C),R.index=0,R.sibling=null,R}function m(R,C,D){return R.index=D,t?(D=R.alternate,D!==null?(D=D.index,D<C?(R.flags|=67108866,C):D):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function b(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function w(R,C,D,V){return C===null||C.tag!==6?(C=Lc(D,R.mode,V),C.return=R,C):(C=h(C,D),C.return=R,C)}function N(R,C,D,V){var se=D.type;return se===M?H(R,C,D.props.children,V,D.key):C!==null&&(C.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===X&&$s(se)===C.type)?(C=h(C,D.props),Ui(C,D),C.return=R,C):(C=fl(D.type,D.key,D.props,null,R.mode,V),Ui(C,D),C.return=R,C)}function L(R,C,D,V){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=Uc(D,R.mode,V),C.return=R,C):(C=h(C,D.children||[]),C.return=R,C)}function H(R,C,D,V,se){return C===null||C.tag!==7?(C=Ls(D,R.mode,V,se),C.return=R,C):(C=h(C,D),C.return=R,C)}function G(R,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Lc(""+C,R.mode,D),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _:return D=fl(C.type,C.key,C.props,null,R.mode,D),Ui(D,C),D.return=R,D;case j:return C=Uc(C,R.mode,D),C.return=R,C;case X:return C=$s(C),G(R,C,D)}if(at(C)||Pe(C))return C=Ls(C,R.mode,D,null),C.return=R,C;if(typeof C.then=="function")return G(R,xl(C),D);if(C.$$typeof===S)return G(R,gl(R,C),D);wl(R,C)}return null}function U(R,C,D,V){var se=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:w(R,C,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===se?N(R,C,D,V):null;case j:return D.key===se?L(R,C,D,V):null;case X:return D=$s(D),U(R,C,D,V)}if(at(D)||Pe(D))return se!==null?null:H(R,C,D,V,null);if(typeof D.then=="function")return U(R,C,xl(D),V);if(D.$$typeof===S)return U(R,C,gl(R,D),V);wl(R,D)}return null}function P(R,C,D,V,se){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(D)||null,w(C,R,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return R=R.get(V.key===null?D:V.key)||null,N(C,R,V,se);case j:return R=R.get(V.key===null?D:V.key)||null,L(C,R,V,se);case X:return V=$s(V),P(R,C,D,V,se)}if(at(V)||Pe(V))return R=R.get(D)||null,H(C,R,V,se,null);if(typeof V.then=="function")return P(R,C,D,xl(V),se);if(V.$$typeof===S)return P(R,C,D,gl(C,V),se);wl(C,V)}return null}function W(R,C,D,V){for(var se=null,Se=null,te=C,he=C=0,xe=null;te!==null&&he<D.length;he++){te.index>he?(xe=te,te=null):xe=te.sibling;var je=U(R,te,D[he],V);if(je===null){te===null&&(te=xe);break}t&&te&&je.alternate===null&&n(R,te),C=m(je,C,he),Se===null?se=je:Se.sibling=je,Se=je,te=xe}if(he===D.length)return r(R,te),we&&bn(R,he),se;if(te===null){for(;he<D.length;he++)te=G(R,D[he],V),te!==null&&(C=m(te,C,he),Se===null?se=te:Se.sibling=te,Se=te);return we&&bn(R,he),se}for(te=o(te);he<D.length;he++)xe=P(te,R,he,D[he],V),xe!==null&&(t&&xe.alternate!==null&&te.delete(xe.key===null?he:xe.key),C=m(xe,C,he),Se===null?se=xe:Se.sibling=xe,Se=xe);return t&&te.forEach(function(ms){return n(R,ms)}),we&&bn(R,he),se}function re(R,C,D,V){if(D==null)throw Error(i(151));for(var se=null,Se=null,te=C,he=C=0,xe=null,je=D.next();te!==null&&!je.done;he++,je=D.next()){te.index>he?(xe=te,te=null):xe=te.sibling;var ms=U(R,te,je.value,V);if(ms===null){te===null&&(te=xe);break}t&&te&&ms.alternate===null&&n(R,te),C=m(ms,C,he),Se===null?se=ms:Se.sibling=ms,Se=ms,te=xe}if(je.done)return r(R,te),we&&bn(R,he),se;if(te===null){for(;!je.done;he++,je=D.next())je=G(R,je.value,V),je!==null&&(C=m(je,C,he),Se===null?se=je:Se.sibling=je,Se=je);return we&&bn(R,he),se}for(te=o(te);!je.done;he++,je=D.next())je=P(te,R,he,je.value,V),je!==null&&(t&&je.alternate!==null&&te.delete(je.key===null?he:je.key),C=m(je,C,he),Se===null?se=je:Se.sibling=je,Se=je);return t&&te.forEach(function(L_){return n(R,L_)}),we&&bn(R,he),se}function Oe(R,C,D,V){if(typeof D=="object"&&D!==null&&D.type===M&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var se=D.key;C!==null;){if(C.key===se){if(se=D.type,se===M){if(C.tag===7){r(R,C.sibling),V=h(C,D.props.children),V.return=R,R=V;break e}}else if(C.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===X&&$s(se)===C.type){r(R,C.sibling),V=h(C,D.props),Ui(V,D),V.return=R,R=V;break e}r(R,C);break}else n(R,C);C=C.sibling}D.type===M?(V=Ls(D.props.children,R.mode,V,D.key),V.return=R,R=V):(V=fl(D.type,D.key,D.props,null,R.mode,V),Ui(V,D),V.return=R,R=V)}return b(R);case j:e:{for(se=D.key;C!==null;){if(C.key===se)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){r(R,C.sibling),V=h(C,D.children||[]),V.return=R,R=V;break e}else{r(R,C);break}else n(R,C);C=C.sibling}V=Uc(D,R.mode,V),V.return=R,R=V}return b(R);case X:return D=$s(D),Oe(R,C,D,V)}if(at(D))return W(R,C,D,V);if(Pe(D)){if(se=Pe(D),typeof se!="function")throw Error(i(150));return D=se.call(D),re(R,C,D,V)}if(typeof D.then=="function")return Oe(R,C,xl(D),V);if(D.$$typeof===S)return Oe(R,C,gl(R,D),V);wl(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(r(R,C.sibling),V=h(C,D),V.return=R,R=V):(r(R,C),V=Lc(D,R.mode,V),V.return=R,R=V),b(R)):r(R,C)}return function(R,C,D,V){try{Li=0;var se=Oe(R,C,D,V);return Ta=null,se}catch(te){if(te===Ea||te===bl)throw te;var Se=Ct(29,te,null,R.mode);return Se.lanes=V,Se.return=R,Se}finally{}}}var Hs=hm(!0),fm=hm(!1),Qn=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ee&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=hl(t),Xf(t,null,r),n}return dl(t,o,n,r),hl(t)}function Mi(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,sf(t,r)}}function Xc(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?h=m=n:m=m.next=n}else h=m=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Qc=!1;function Pi(){if(Qc){var t=Na;if(t!==null)throw t}}function zi(t,n,r,o){Qc=!1;var h=t.updateQueue;Qn=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,L=N.next;N.next=null,b===null?m=L:b.next=L,b=N;var H=t.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==b&&(w===null?H.firstBaseUpdate=L:w.next=L,H.lastBaseUpdate=N))}if(m!==null){var G=h.baseState;b=0,H=L=N=null,w=m;do{var U=w.lane&-536870913,P=U!==w.lane;if(P?(ve&U)===U:(o&U)===U){U!==0&&U===ja&&(Qc=!0),H!==null&&(H=H.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var W=t,re=w;U=n;var Oe=r;switch(re.tag){case 1:if(W=re.payload,typeof W=="function"){G=W.call(Oe,G,U);break e}G=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=re.payload,U=typeof W=="function"?W.call(Oe,G,U):W,U==null)break e;G=v({},G,U);break e;case 2:Qn=!0}}U=w.callback,U!==null&&(t.flags|=64,P&&(t.flags|=8192),P=h.callbacks,P===null?h.callbacks=[U]:P.push(U))}else P={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(L=H=P,N=G):H=H.next=P,b|=U;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;P=w,w=P.next,P.next=null,h.lastBaseUpdate=P,h.shared.pending=null}}while(!0);H===null&&(N=G),h.baseState=N,h.firstBaseUpdate=L,h.lastBaseUpdate=H,m===null&&(h.shared.lanes=0),as|=b,t.lanes=b,t.memoizedState=G}}function mm(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function pm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)mm(r[t],n)}var Ca=T(null),_l=T(0);function gm(t,n){t=An,J(_l,t),J(Ca,n),An=t|n.baseLanes}function Zc(){J(_l,An),J(Ca,Ca.current)}function Wc(){An=_l.current,q(Ca),q(_l)}var At=T(null),qt=null;function es(t){var n=t.alternate;J(Ve,Ve.current&1),J(At,t),qt===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(qt=t)}function eu(t){J(Ve,Ve.current),J(At,t),qt===null&&(qt=t)}function ym(t){t.tag===22?(J(Ve,Ve.current),J(At,t),qt===null&&(qt=t)):ts()}function ts(){J(Ve,Ve.current),J(At,At.current)}function kt(t){q(At),qt===t&&(qt=null),q(Ve)}var Ve=T(0);function Sl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rd(r)||ld(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wn=0,ue=null,ke=null,Fe=null,jl=!1,Aa=!1,qs=!1,Nl=0,$i=0,ka=null,Nw=0;function Be(){throw Error(i(321))}function tu(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Tt(t[r],n[r]))return!1;return!0}function nu(t,n,r,o,h,m){return wn=m,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?ep:yu,qs=!1,m=r(o,h),qs=!1,Aa&&(m=vm(n,r,o,h)),bm(t),m}function bm(t){$.H=qi;var n=ke!==null&&ke.next!==null;if(wn=0,Fe=ke=ue=null,jl=!1,$i=0,ka=null,n)throw Error(i(300));t===null||Ye||(t=t.dependencies,t!==null&&pl(t)&&(Ye=!0))}function vm(t,n,r,o){ue=t;var h=0;do{if(Aa&&(ka=null),$i=0,Aa=!1,25<=h)throw Error(i(301));if(h+=1,Fe=ke=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=tp,m=n(r,o)}while(Aa);return m}function Ew(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?Bi(n):n,t=t.useState()[0],(ke!==null?ke.memoizedState:null)!==t&&(ue.flags|=1024),n}function su(){var t=Nl!==0;return Nl=0,t}function au(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function iu(t){if(jl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}jl=!1}wn=0,Fe=ke=ue=null,Aa=!1,$i=Nl=0,ka=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ge(){if(ke===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var n=Fe===null?ue.memoizedState:Fe.next;if(n!==null)Fe=n,ke=t;else{if(t===null)throw ue.alternate===null?Error(i(467)):Error(i(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Fe===null?ue.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(t){var n=$i;return $i+=1,ka===null&&(ka=[]),t=cm(ka,t,n),n=ue,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?ep:yu),t}function Tl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bi(t);if(t.$$typeof===S)return lt(t)}throw Error(i(438,String(t)))}function ru(t){var n=null,r=ue.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=ue.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=El(),ue.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=ee;return n.index++,r}function _n(t,n){return typeof n=="function"?n(t):n}function Cl(t){var n=Ge();return lu(n,ke,t)}function lu(t,n,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var w=b=null,N=null,L=n,H=!1;do{var G=L.lane&-536870913;if(G!==L.lane?(ve&G)===G:(wn&G)===G){var U=L.revertLane;if(U===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),G===ja&&(H=!0);else if((wn&U)===U){L=L.next,U===ja&&(H=!0);continue}else G={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=G,b=m):N=N.next=G,ue.lanes|=U,as|=U;G=L.action,qs&&r(m,G),m=L.hasEagerState?L.eagerState:r(m,G)}else U={lane:G,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=U,b=m):N=N.next=U,ue.lanes|=G,as|=G;L=L.next}while(L!==null&&L!==n);if(N===null?b=m:N.next=w,!Tt(m,t.memoizedState)&&(Ye=!0,H&&(r=Na,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=N,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ou(t){var n=Ge(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,m=n.memoizedState;if(h!==null){r.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);Tt(m,n.memoizedState)||(Ye=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function xm(t,n,r){var o=ue,h=Ge(),m=we;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=n();var b=!Tt((ke||h).memoizedState,r);if(b&&(h.memoizedState=r,Ye=!0),h=h.queue,du(Sm.bind(null,o,h,t),[t]),h.getSnapshot!==n||b||Fe!==null&&Fe.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},_m.bind(null,o,h,r,n),null),Ie===null)throw Error(i(349));m||(wn&127)!==0||wm(o,n,r)}return r}function wm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ue.updateQueue,n===null?(n=El(),ue.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _m(t,n,r,o){n.value=r,n.getSnapshot=o,jm(n)&&Nm(t)}function Sm(t,n,r){return r(function(){jm(n)&&Nm(t)})}function jm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Tt(t,r)}catch{return!0}}function Nm(t){var n=Ds(t,2);n!==null&&_t(n,t,2)}function cu(t){var n=ft();if(typeof t=="function"){var r=t;if(t=r(),qs){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},n}function Em(t,n,r,o){return t.baseState=r,lu(t,ke,typeof o=="function"?o:_n)}function Tw(t,n,r,o,h){if(Rl(t))throw Error(i(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};$.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,Tm(n,m)):(m.next=r.next,n.pending=r.next=m)}}function Tm(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=$.T,b={};$.T=b;try{var w=r(h,o),N=$.S;N!==null&&N(b,w),Cm(t,n,w)}catch(L){uu(t,n,L)}finally{m!==null&&b.types!==null&&(m.types=b.types),$.T=m}}else try{m=r(h,o),Cm(t,n,m)}catch(L){uu(t,n,L)}}function Cm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Am(t,n,o)},function(o){return uu(t,n,o)}):Am(t,n,r)}function Am(t,n,r){n.status="fulfilled",n.value=r,km(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tm(t,r)))}function uu(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,km(n),n=n.next;while(n!==o)}t.action=null}function km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rm(t,n){return n}function Om(t,n){if(we){var r=Ie.formState;if(r!==null){e:{var o=ue;if(we){if(Ue){t:{for(var h=Ue,m=Ht;h.nodeType!==8;){if(!m){h=null;break t}if(h=Vt(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ue=Vt(h.nextSibling),o=h.data==="F!";break e}}Jn(o)}o=!1}o&&(n=r[0])}}return r=ft(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:n},r.queue=o,r=Qm.bind(null,ue,o),o.dispatch=r,o=cu(!1),m=gu.bind(null,ue,!1,o.queue),o=ft(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=Tw.bind(null,ue,h,m,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Im(t){var n=Ge();return Dm(n,ke,t)}function Dm(t,n,r){if(n=lu(t,n,Rm)[0],t=Cl(_n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bi(n)}catch(b){throw b===Ea?bl:b}else o=n;n=Ge();var h=n.queue,m=h.dispatch;return r!==n.memoizedState&&(ue.flags|=2048,Ra(9,{destroy:void 0},Cw.bind(null,h,r),null)),[o,m,t]}function Cw(t,n){t.action=n}function Lm(t){var n=Ge(),r=ke;if(r!==null)return Dm(n,r,t);Ge(),n=n.memoizedState,r=Ge();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ra(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=ue.updateQueue,n===null&&(n=El(),ue.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Um(){return Ge().memoizedState}function Al(t,n,r,o){var h=ft();ue.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},r,o===void 0?null:o)}function kl(t,n,r,o){var h=Ge();o=o===void 0?null:o;var m=h.memoizedState.inst;ke!==null&&o!==null&&tu(o,ke.memoizedState.deps)?h.memoizedState=Ra(n,m,r,o):(ue.flags|=t,h.memoizedState=Ra(1|n,m,r,o))}function Mm(t,n){Al(8390656,8,t,n)}function du(t,n){kl(2048,8,t,n)}function Aw(t){ue.flags|=4;var n=ue.updateQueue;if(n===null)n=El(),ue.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Pm(t){var n=Ge().memoizedState;return Aw({ref:n,nextImpl:t}),function(){if((Ee&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function zm(t,n){return kl(4,2,t,n)}function $m(t,n){return kl(4,4,t,n)}function Bm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hm(t,n,r){r=r!=null?r.concat([t]):null,kl(4,4,Bm.bind(null,n,t),r)}function hu(){}function qm(t,n){var r=Ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&tu(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Vm(t,n){var r=Ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&tu(n,o[1]))return o[0];if(o=t(),qs){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[o,n],o}function fu(t,n,r){return r===void 0||(wn&1073741824)!==0&&(ve&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Gp(),ue.lanes|=t,as|=t,r)}function Gm(t,n,r,o){return Tt(r,n)?r:Ca.current!==null?(t=fu(t,r,o),Tt(t,n)||(Ye=!0),t):(wn&42)===0||(wn&1073741824)!==0&&(ve&261930)===0?(Ye=!0,t.memoizedState=r):(t=Gp(),ue.lanes|=t,as|=t,n)}function Km(t,n,r,o,h){var m=Y.p;Y.p=m!==0&&8>m?m:8;var b=$.T,w={};$.T=w,gu(t,!1,n,r);try{var N=h(),L=$.S;if(L!==null&&L(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=jw(N,o);Hi(t,n,H,It(t))}else Hi(t,n,o,It(t))}catch(G){Hi(t,n,{then:function(){},status:"rejected",reason:G},It())}finally{Y.p=m,b!==null&&w.types!==null&&(b.types=w.types),$.T=b}}function kw(){}function mu(t,n,r,o){if(t.tag!==5)throw Error(i(476));var h=Fm(t).queue;Km(t,h,n,ne,r===null?kw:function(){return Ym(t),r(o)})}function Fm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:ne},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ym(t){var n=Fm(t);n.next===null&&(n=t.alternate.memoizedState),Hi(t,n.next.queue,{},It())}function pu(){return lt(ir)}function Jm(){return Ge().memoizedState}function Xm(){return Ge().memoizedState}function Rw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=It();t=Zn(r);var o=Wn(n,t,r);o!==null&&(_t(o,n,r),Mi(o,n,r)),n={cache:Vc()},t.payload=n;return}n=n.return}}function Ow(t,n,r){var o=It();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rl(t)?Zm(n,r):(r=Ic(t,n,r,o),r!==null&&(_t(r,t,o),Wm(r,n,o)))}function Qm(t,n,r){var o=It();Hi(t,n,r,o)}function Hi(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rl(t))Zm(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,w=m(b,r);if(h.hasEagerState=!0,h.eagerState=w,Tt(w,b))return dl(t,n,h,0),Ie===null&&ul(),!1}catch{}finally{}if(r=Ic(t,n,h,o),r!==null)return _t(r,t,o),Wm(r,n,o),!0}return!1}function gu(t,n,r,o){if(o={lane:2,revertLane:Yu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rl(t)){if(n)throw Error(i(479))}else n=Ic(t,r,o,2),n!==null&&_t(n,t,2)}function Rl(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function Zm(t,n){Aa=jl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wm(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,sf(t,r)}}var qi={readContext:lt,use:Tl,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};qi.useEffectEvent=Be;var ep={readContext:lt,use:Tl,useCallback:function(t,n){return ft().memoizedState=[t,n===void 0?null:n],t},useContext:lt,useEffect:Mm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Al(4194308,4,Bm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Al(4194308,4,t,n)},useInsertionEffect:function(t,n){Al(4,2,t,n)},useMemo:function(t,n){var r=ft();n=n===void 0?null:n;var o=t();if(qs){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=ft();if(r!==void 0){var h=r(n);if(qs){Vn(!0);try{r(n)}finally{Vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Ow.bind(null,ue,t),[o.memoizedState,t]},useRef:function(t){var n=ft();return t={current:t},n.memoizedState=t},useState:function(t){t=cu(t);var n=t.queue,r=Qm.bind(null,ue,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:hu,useDeferredValue:function(t,n){var r=ft();return fu(r,t,n)},useTransition:function(){var t=cu(!1);return t=Km.bind(null,ue,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=ue,h=ft();if(we){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),Ie===null)throw Error(i(349));(ve&127)!==0||wm(o,n,r)}h.memoizedState=r;var m={value:r,getSnapshot:n};return h.queue=m,Mm(Sm.bind(null,o,m,t),[t]),o.flags|=2048,Ra(9,{destroy:void 0},_m.bind(null,o,m,r,n),null),r},useId:function(){var t=ft(),n=Ie.identifierPrefix;if(we){var r=tn,o=en;r=(o&~(1<<32-Et(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Nl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Nw++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:pu,useFormState:Om,useActionState:Om,useOptimistic:function(t){var n=ft();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gu.bind(null,ue,!0,r),r.dispatch=n,[t,n]},useMemoCache:ru,useCacheRefresh:function(){return ft().memoizedState=Rw.bind(null,ue)},useEffectEvent:function(t){var n=ft(),r={impl:t};return n.memoizedState=r,function(){if((Ee&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},yu={readContext:lt,use:Tl,useCallback:qm,useContext:lt,useEffect:du,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:$m,useMemo:Vm,useReducer:Cl,useRef:Um,useState:function(){return Cl(_n)},useDebugValue:hu,useDeferredValue:function(t,n){var r=Ge();return Gm(r,ke.memoizedState,t,n)},useTransition:function(){var t=Cl(_n)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:Bi(t),n]},useSyncExternalStore:xm,useId:Jm,useHostTransitionStatus:pu,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var r=Ge();return Em(r,ke,t,n)},useMemoCache:ru,useCacheRefresh:Xm};yu.useEffectEvent=Pm;var tp={readContext:lt,use:Tl,useCallback:qm,useContext:lt,useEffect:du,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:$m,useMemo:Vm,useReducer:ou,useRef:Um,useState:function(){return ou(_n)},useDebugValue:hu,useDeferredValue:function(t,n){var r=Ge();return ke===null?fu(r,t,n):Gm(r,ke.memoizedState,t,n)},useTransition:function(){var t=ou(_n)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:Bi(t),n]},useSyncExternalStore:xm,useId:Jm,useHostTransitionStatus:pu,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var r=Ge();return ke!==null?Em(r,ke,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ru,useCacheRefresh:Xm};tp.useEffectEvent=Pm;function bu(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:v({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vu={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=It(),h=Zn(o);h.payload=n,r!=null&&(h.callback=r),n=Wn(t,h,o),n!==null&&(_t(n,t,o),Mi(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=It(),h=Zn(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Wn(t,h,o),n!==null&&(_t(n,t,o),Mi(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=It(),o=Zn(r);o.tag=2,n!=null&&(o.callback=n),n=Wn(t,o,r),n!==null&&(_t(n,t,r),Mi(n,t,r))}};function np(t,n,r,o,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):n.prototype&&n.prototype.isPureReactComponent?!Ai(r,o)||!Ai(h,m):!0}function sp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&vu.enqueueReplaceState(n,n.state,null)}function Vs(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=v({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ap(t){cl(t)}function ip(t){console.error(t)}function rp(t){cl(t)}function Ol(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xu(t,n,r){return r=Zn(r),r.tag=3,r.payload={element:null},r.callback=function(){Ol(t,n)},r}function op(t){return t=Zn(t),t.tag=3,t}function cp(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){lp(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){lp(n,r,o),typeof h!="function"&&(is===null?is=new Set([this]):is.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Iw(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Sa(n,r,h,!0),r=At.current,r!==null){switch(r.tag){case 31:case 13:return qt===null?Vl():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===vl?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Gu(t,o,h)),!1;case 22:return r.flags|=65536,o===vl?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Gu(t,o,h)),!1}throw Error(i(435,r.tag))}return Gu(t,o,h),Vl(),!1}if(we)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zc&&(t=Error(i(422),{cause:o}),Oi(zt(t,r)))):(o!==zc&&(n=Error(i(423),{cause:o}),Oi(zt(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=zt(o,r),h=xu(t.stateNode,o,h),Xc(t,h),He!==4&&(He=2)),!1;var m=Error(i(520),{cause:o});if(m=zt(m,r),Qi===null?Qi=[m]:Qi.push(m),He!==4&&(He=2),n===null)return!0;o=zt(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=xu(r.stateNode,o,t),Xc(r,t),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=op(h),cp(h,t,r,o),Xc(r,h),!1}r=r.return}while(r!==null);return!1}var wu=Error(i(461)),Ye=!1;function ot(t,n,r,o){n.child=t===null?fm(n,null,r,o):Hs(n,t.child,r,o)}function up(t,n,r,o,h){r=r.render;var m=n.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return Ps(n),o=nu(t,n,r,b,m,h),w=su(),t!==null&&!Ye?(au(t,n,h),Sn(t,n,h)):(we&&w&&Mc(n),n.flags|=1,ot(t,n,o,h),n.child)}function dp(t,n,r,o,h){if(t===null){var m=r.type;return typeof m=="function"&&!Dc(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,hp(t,n,m,o,h)):(t=fl(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Au(t,h)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:Ai,r(b,o)&&t.ref===n.ref)return Sn(t,n,h)}return n.flags|=1,t=yn(m,o),t.ref=n.ref,t.return=n,n.child=t}function hp(t,n,r,o,h){if(t!==null){var m=t.memoizedProps;if(Ai(m,o)&&t.ref===n.ref)if(Ye=!1,n.pendingProps=o=m,Au(t,h))(t.flags&131072)!==0&&(Ye=!0);else return n.lanes=t.lanes,Sn(t,n,h)}return _u(t,n,r,o,h)}function fp(t,n,r,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return mp(t,n,m,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yl(n,m!==null?m.cachePool:null),m!==null?gm(n,m):Zc(),ym(n);else return o=n.lanes=536870912,mp(t,n,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(yl(n,m.cachePool),gm(n,m),ts(),n.memoizedState=null):(t!==null&&yl(n,null),Zc(),ts());return ot(t,n,h,r),n.child}function Vi(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function mp(t,n,r,o,h){var m=Kc();return m=m===null?null:{parent:Ke._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},t!==null&&yl(n,null),Zc(),ym(n),t!==null&&Sa(t,n,o,!0),n.childLanes=h,null}function Il(t,n){return n=Ll({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function pp(t,n,r){return Hs(n,t.child,null,r),t=Il(n,n.pendingProps),t.flags|=2,kt(n),n.memoizedState=null,t}function Dw(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(we){if(o.mode==="hidden")return t=Il(n,o),n.lanes=536870912,Vi(null,t);if(eu(n),(t=Ue)?(t=Tg(t,Ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},r=Zf(t),r.return=n,n.child=r,rt=n,Ue=null)):t=null,t===null)throw Jn(n);return n.lanes=536870912,null}return Il(n,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(eu(n),h)if(n.flags&256)n.flags&=-257,n=pp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(i(558));else if(Ye||Sa(t,n,r,!1),h=(r&t.childLanes)!==0,Ye||h){if(o=Ie,o!==null&&(b=af(o,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ds(t,b),_t(o,t,b),wu;Vl(),n=pp(t,n,r)}else t=m.treeContext,Ue=Vt(b.nextSibling),rt=n,we=!0,Yn=null,Ht=!1,t!==null&&tm(n,t),n=Il(n,o),n.flags|=4096;return n}return t=yn(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Dl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function _u(t,n,r,o,h){return Ps(n),r=nu(t,n,r,o,void 0,h),o=su(),t!==null&&!Ye?(au(t,n,h),Sn(t,n,h)):(we&&o&&Mc(n),n.flags|=1,ot(t,n,r,h),n.child)}function gp(t,n,r,o,h,m){return Ps(n),n.updateQueue=null,r=vm(n,o,r,h),bm(t),o=su(),t!==null&&!Ye?(au(t,n,m),Sn(t,n,m)):(we&&o&&Mc(n),n.flags|=1,ot(t,n,r,m),n.child)}function yp(t,n,r,o,h){if(Ps(n),n.stateNode===null){var m=va,b=r.contextType;typeof b=="object"&&b!==null&&(m=lt(b)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Yc(n),b=r.contextType,m.context=typeof b=="object"&&b!==null?lt(b):va,m.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(bu(n,r,b,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&vu.enqueueReplaceState(m,m.state,null),zi(n,o,m,h),Pi(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var w=n.memoizedProps,N=Vs(r,w);m.props=N;var L=m.context,H=r.contextType;b=va,typeof H=="object"&&H!==null&&(b=lt(H));var G=r.getDerivedStateFromProps;H=typeof G=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||L!==b)&&sp(n,m,o,b),Qn=!1;var U=n.memoizedState;m.state=U,zi(n,o,m,h),Pi(),L=n.memoizedState,w||U!==L||Qn?(typeof G=="function"&&(bu(n,r,G,o),L=n.memoizedState),(N=Qn||np(n,r,N,o,U,L,b))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),m.props=o,m.state=L,m.context=b,o=N):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Jc(t,n),b=n.memoizedProps,H=Vs(r,b),m.props=H,G=n.pendingProps,U=m.context,L=r.contextType,N=va,typeof L=="object"&&L!==null&&(N=lt(L)),w=r.getDerivedStateFromProps,(L=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==G||U!==N)&&sp(n,m,o,N),Qn=!1,U=n.memoizedState,m.state=U,zi(n,o,m,h),Pi();var P=n.memoizedState;b!==G||U!==P||Qn||t!==null&&t.dependencies!==null&&pl(t.dependencies)?(typeof w=="function"&&(bu(n,r,w,o),P=n.memoizedState),(H=Qn||np(n,r,H,o,U,P,N)||t!==null&&t.dependencies!==null&&pl(t.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,P,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,P,N)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=P),m.props=o,m.state=P,m.context=N,o=H):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Dl(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Hs(n,t.child,null,h),n.child=Hs(n,null,r,h)):ot(t,n,r,h),n.memoizedState=m.state,t=n.child):t=Sn(t,n,h),t}function bp(t,n,r,o){return Us(),n.flags|=256,ot(t,n,r,o),n.child}var Su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(t){return{baseLanes:t,cachePool:lm()}}function Nu(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ot),t}function vp(t,n,r){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(we){if(h?es(n):ts(),(t=Ue)?(t=Tg(t,Ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},r=Zf(t),r.return=n,n.child=r,rt=n,Ue=null)):t=null,t===null)throw Jn(n);return ld(t)?n.lanes=32:n.lanes=536870912,null}var w=o.children;return o=o.fallback,h?(ts(),h=n.mode,w=Ll({mode:"hidden",children:w},h),o=Ls(o,h,r,null),w.return=n,o.return=n,w.sibling=o,n.child=w,o=n.child,o.memoizedState=ju(r),o.childLanes=Nu(t,b,r),n.memoizedState=Su,Vi(null,o)):(es(n),Eu(n,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(m)n.flags&256?(es(n),n.flags&=-257,n=Tu(t,n,r)):n.memoizedState!==null?(ts(),n.child=t.child,n.flags|=128,n=null):(ts(),w=o.fallback,h=n.mode,o=Ll({mode:"visible",children:o.children},h),w=Ls(w,h,r,null),w.flags|=2,o.return=n,w.return=n,o.sibling=w,n.child=o,Hs(n,t.child,null,r),o=n.child,o.memoizedState=ju(r),o.childLanes=Nu(t,b,r),n.memoizedState=Su,n=Vi(null,o));else if(es(n),ld(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var L=b.dgst;b=L,o=Error(i(419)),o.stack="",o.digest=b,Oi({value:o,source:null,stack:null}),n=Tu(t,n,r)}else if(Ye||Sa(t,n,r,!1),b=(r&t.childLanes)!==0,Ye||b){if(b=Ie,b!==null&&(o=af(b,r),o!==0&&o!==N.retryLane))throw N.retryLane=o,Ds(t,o),_t(b,t,o),wu;rd(w)||Vl(),n=Tu(t,n,r)}else rd(w)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,Ue=Vt(w.nextSibling),rt=n,we=!0,Yn=null,Ht=!1,t!==null&&tm(n,t),n=Eu(n,o.children),n.flags|=4096);return n}return h?(ts(),w=o.fallback,h=n.mode,N=t.child,L=N.sibling,o=yn(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,L!==null?w=yn(L,w):(w=Ls(w,h,r,null),w.flags|=2),w.return=n,o.return=n,o.sibling=w,n.child=o,Vi(null,o),o=n.child,w=t.child.memoizedState,w===null?w=ju(r):(h=w.cachePool,h!==null?(N=Ke._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=lm(),w={baseLanes:w.baseLanes|r,cachePool:h}),o.memoizedState=w,o.childLanes=Nu(t,b,r),n.memoizedState=Su,Vi(t.child,o)):(es(n),r=t.child,t=r.sibling,r=yn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=r,n.memoizedState=null,r)}function Eu(t,n){return n=Ll({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ll(t,n){return t=Ct(22,t,null,n),t.lanes=0,t}function Tu(t,n,r){return Hs(n,t.child,null,r),t=Eu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xp(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Hc(t.return,n,r)}function Cu(t,n,r,o,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=h,b.treeForkCount=m)}function wp(t,n,r){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var b=Ve.current,w=(b&2)!==0;if(w?(b=b&1|2,n.flags|=128):b&=1,J(Ve,b),ot(t,n,o,r),o=we?Ri:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xp(t,r,n);else if(t.tag===19)xp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Sl(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Cu(n,!1,h,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Sl(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Cu(n,!0,r,null,m,o);break;case"together":Cu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Sn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),as|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Sa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,r=yn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Au(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pl(t)))}function Lw(t,n,r){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Xn(n,Ke,t.memoizedState.cache),Us();break;case 27:case 5:gi(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,eu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(es(n),n.flags|=128,null):(r&n.child.childLanes)!==0?vp(t,n,r):(es(n),t=Sn(t,n,r),t!==null?t.sibling:null);es(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Sa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return wp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ve,Ve.current),o)break;return null;case 22:return n.lanes=0,fp(t,n,r,n.pendingProps);case 24:Xn(n,Ke,t.memoizedState.cache)}return Sn(t,n,r)}function _p(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Au(t,r)&&(n.flags&128)===0)return Ye=!1,Lw(t,n,r);Ye=(t.flags&131072)!==0}else Ye=!1,we&&(n.flags&1048576)!==0&&em(n,Ri,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=$s(n.elementType),n.type=t,typeof t=="function")Dc(t)?(o=Vs(t,o),n.tag=1,n=yp(null,n,t,o,r)):(n.tag=0,n=_u(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===A){n.tag=11,n=up(null,n,t,o,r);break e}else if(h===z){n.tag=14,n=dp(null,n,t,o,r);break e}}throw n=Ne(t)||t,Error(i(306,n,""))}}return n;case 0:return _u(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Vs(o,n.pendingProps),yp(t,n,o,h,r);case 3:e:{if(ht(n,n.stateNode.containerInfo),t===null)throw Error(i(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Jc(t,n),zi(n,o,null,r);var b=n.memoizedState;if(o=b.cache,Xn(n,Ke,o),o!==m.cache&&qc(n,[Ke],r,!0),Pi(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=bp(t,n,o,r);break e}else if(o!==h){h=zt(Error(i(424)),n),Oi(h),n=bp(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ue=Vt(t.firstChild),rt=n,we=!0,Yn=null,Ht=!0,r=fm(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Us(),o===h){n=Sn(t,n,r);break e}ot(t,n,o,r)}n=n.child}return n;case 26:return Dl(t,n),t===null?(r=Ig(n.type,null,n.pendingProps,null))?n.memoizedState=r:we||(r=n.type,t=n.pendingProps,o=Ql(pe.current).createElement(r),o[it]=n,o[gt]=t,ct(o,r,t),tt(o),n.stateNode=o):n.memoizedState=Ig(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return gi(n),t===null&&we&&(o=n.stateNode=kg(n.type,n.pendingProps,pe.current),rt=n,Ht=!0,h=Ue,cs(n.type)?(od=h,Ue=Vt(o.firstChild)):Ue=h),ot(t,n,n.pendingProps.children,r),Dl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&we&&((h=o=Ue)&&(o=d_(o,n.type,n.pendingProps,Ht),o!==null?(n.stateNode=o,rt=n,Ue=Vt(o.firstChild),Ht=!1,h=!0):h=!1),h||Jn(n)),gi(n),h=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,sd(h,m)?o=null:b!==null&&sd(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=nu(t,n,Ew,null,null,r),ir._currentValue=h),Dl(t,n),ot(t,n,o,r),n.child;case 6:return t===null&&we&&((t=r=Ue)&&(r=h_(r,n.pendingProps,Ht),r!==null?(n.stateNode=r,rt=n,Ue=null,t=!0):t=!1),t||Jn(n)),null;case 13:return vp(t,n,r);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Hs(n,null,o,r):ot(t,n,o,r),n.child;case 11:return up(t,n,n.type,n.pendingProps,r);case 7:return ot(t,n,n.pendingProps,r),n.child;case 8:return ot(t,n,n.pendingProps.children,r),n.child;case 12:return ot(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Xn(n,n.type,o.value),ot(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ps(n),h=lt(h),o=o(h),n.flags|=1,ot(t,n,o,r),n.child;case 14:return dp(t,n,n.type,n.pendingProps,r);case 15:return hp(t,n,n.type,n.pendingProps,r);case 19:return wp(t,n,r);case 31:return Dw(t,n,r);case 22:return fp(t,n,r,n.pendingProps);case 24:return Ps(n),o=lt(Ke),t===null?(h=Kc(),h===null&&(h=Ie,m=Vc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),n.memoizedState={parent:o,cache:h},Yc(n),Xn(n,Ke,h)):((t.lanes&r)!==0&&(Jc(t,n),zi(n,null,null,r),Pi()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xn(n,Ke,o)):(o=m.cache,Xn(n,Ke,o),o!==h.cache&&qc(n,[Ke],r,!0))),ot(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function jn(t){t.flags|=4}function ku(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jp())t.flags|=8192;else throw Bs=vl,Fc}else t.flags&=-16777217}function Sp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pg(n))if(Jp())t.flags|=8192;else throw Bs=vl,Fc}function Ul(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tf():536870912,t.lanes|=n,La|=n)}function Gi(t,n){if(!we)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Me(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function Uw(t,n,r){var o=n.pendingProps;switch(Pc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(n),null;case 1:return Me(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xn(Ke),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(n)?jn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),Me(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(jn(n),m!==null?(Me(n),Sp(n,m)):(Me(n),ku(n,h,null,o,r))):m?m!==t.memoizedState?(jn(n),Me(n),Sp(n,m)):(Me(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&jn(n),Me(n),ku(n,h,t,o,r)),null;case 27:if(Fr(n),r=pe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&jn(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Me(n),null}t=Z.current,_a(n)?nm(n):(t=kg(h,o,r),n.stateNode=t,jn(n))}return Me(n),null;case 5:if(Fr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&jn(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Me(n),null}if(m=Z.current,_a(n))nm(n);else{var b=Ql(pe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(h,{is:o.is}):b.createElement(h)}}m[it]=n,m[gt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(ct(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&jn(n)}}return Me(n),ku(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&jn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(t=pe.current,_a(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=rt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[it]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||vg(t.nodeValue,r)),t||Jn(n,!0)}else t=Ql(t).createTextNode(o),t[it]=n,n.stateNode=t}return Me(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=_a(n),r!==null){if(t===null){if(!o)throw Error(i(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[it]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Me(n),t=!1}else r=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Me(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[it]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Me(n),h=!1}else h=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Ul(n,n.updateQueue),Me(n),null);case 4:return qe(),t===null&&Zu(n.stateNode.containerInfo),Me(n),null;case 10:return xn(n.type),Me(n),null;case 19:if(q(Ve),o=n.memoizedState,o===null)return Me(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)Gi(o,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Sl(t),m!==null){for(n.flags|=128,Gi(o,!1),t=m.updateQueue,n.updateQueue=t,Ul(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Qf(r,t),r=r.sibling;return J(Ve,Ve.current&1|2),we&&bn(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&jt()>Bl&&(n.flags|=128,h=!0,Gi(o,!1),n.lanes=4194304)}else{if(!h)if(t=Sl(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ul(n,t),Gi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!we)return Me(n),null}else 2*jt()-o.renderingStartTime>Bl&&r!==536870912&&(n.flags|=128,h=!0,Gi(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=jt(),t.sibling=null,r=Ve.current,J(Ve,h?r&1|2:r&1),we&&bn(n,o.treeForkCount),t):(Me(n),null);case 22:case 23:return kt(n),Wc(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Me(n),n.subtreeFlags&6&&(n.flags|=8192)):Me(n),r=n.updateQueue,r!==null&&Ul(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&q(zs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xn(Ke),Me(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Mw(t,n){switch(Pc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xn(Ke),qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fr(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(i(340));Us()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Us()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(Ve),null;case 4:return qe(),null;case 10:return xn(n.type),null;case 22:case 23:return kt(n),Wc(),t!==null&&q(zs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xn(Ke),null;case 25:return null;default:return null}}function jp(t,n){switch(Pc(n),n.tag){case 3:xn(Ke),qe();break;case 26:case 27:case 5:Fr(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:q(Ve);break;case 10:xn(n.type);break;case 22:case 23:kt(n),Wc(),t!==null&&q(zs);break;case 24:xn(Ke)}}function Ki(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var m=r.create,b=r.inst;o=m(),b.destroy=o}r=r.next}while(r!==h)}}catch(w){Ae(n,n.return,w)}}function ns(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=n;var N=r,L=w;try{L()}catch(H){Ae(h,N,H)}}}o=o.next}while(o!==m)}}catch(H){Ae(n,n.return,H)}}function Np(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{pm(n,r)}catch(o){Ae(t,t.return,o)}}}function Ep(t,n,r){r.props=Vs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Ae(t,n,o)}}function Fi(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){Ae(t,n,h)}}function nn(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Ae(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ae(t,n,h)}else r.current=null}function Tp(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Ae(t,t.return,h)}}function Ru(t,n,r){try{var o=t.stateNode;i_(o,t.type,r,n),o[gt]=n}catch(h){Ae(t,t.return,h)}}function Cp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cs(t.type)||t.tag===4}function Ou(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iu(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=pn));else if(o!==4&&(o===27&&cs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Iu(t,n,r),t=t.sibling;t!==null;)Iu(t,n,r),t=t.sibling}function Ml(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&cs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ml(t,n,r),t=t.sibling;t!==null;)Ml(t,n,r),t=t.sibling}function Ap(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ct(n,o,r),n[it]=t,n[gt]=r}catch(m){Ae(t,t.return,m)}}var Nn=!1,Je=!1,Du=!1,kp=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Pw(t,n){if(t=t.containerInfo,td=ao,t=Hf(t),Tc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,w=-1,N=-1,L=0,H=0,G=t,U=null;t:for(;;){for(var P;G!==r||h!==0&&G.nodeType!==3||(w=b+h),G!==m||o!==0&&G.nodeType!==3||(N=b+o),G.nodeType===3&&(b+=G.nodeValue.length),(P=G.firstChild)!==null;)U=G,G=P;for(;;){if(G===t)break t;if(U===r&&++L===h&&(w=b),U===m&&++H===o&&(N=b),(P=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=P}r=w===-1||N===-1?null:{start:w,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(nd={focusedElem:t,selectionRange:r},ao=!1,nt=n;nt!==null;)if(n=nt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nt=t;else for(;nt!==null;){switch(n=nt,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=n,h=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var W=Vs(r.type,h);t=o.getSnapshotBeforeUpdate(W,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(re){Ae(r,r.return,re)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)id(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,nt=t;break}nt=n.return}}function Rp(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Tn(t,r),o&4&&Ki(5,r);break;case 1:if(Tn(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(b){Ae(r,r.return,b)}else{var h=Vs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Ae(r,r.return,b)}}o&64&&Np(r),o&512&&Fi(r,r.return);break;case 3:if(Tn(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pm(t,n)}catch(b){Ae(r,r.return,b)}}break;case 27:n===null&&o&4&&Ap(r);case 26:case 5:Tn(t,r),n===null&&o&4&&Tp(r),o&512&&Fi(r,r.return);break;case 12:Tn(t,r);break;case 31:Tn(t,r),o&4&&Dp(t,r);break;case 13:Tn(t,r),o&4&&Lp(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Fw.bind(null,r),f_(t,r))));break;case 22:if(o=r.memoizedState!==null||Nn,!o){n=n!==null&&n.memoizedState!==null||Je,h=Nn;var m=Je;Nn=o,(Je=n)&&!m?Cn(t,r,(r.subtreeFlags&8772)!==0):Tn(t,r),Nn=h,Je=m}break;case 30:break;default:Tn(t,r)}}function Op(t){var n=t.alternate;n!==null&&(t.alternate=null,Op(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&uc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,bt=!1;function En(t,n,r){for(r=r.child;r!==null;)Ip(t,n,r),r=r.sibling}function Ip(t,n,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(yi,r)}catch{}switch(r.tag){case 26:Je||nn(r,n),En(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Je||nn(r,n);var o=ze,h=bt;cs(r.type)&&(ze=r.stateNode,bt=!1),En(t,n,r),nr(r.stateNode),ze=o,bt=h;break;case 5:Je||nn(r,n);case 6:if(o=ze,h=bt,ze=null,En(t,n,r),ze=o,bt=h,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(m){Ae(r,n,m)}else try{ze.removeChild(r.stateNode)}catch(m){Ae(r,n,m)}break;case 18:ze!==null&&(bt?(t=ze,Ng(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),qa(t)):Ng(ze,r.stateNode));break;case 4:o=ze,h=bt,ze=r.stateNode.containerInfo,bt=!0,En(t,n,r),ze=o,bt=h;break;case 0:case 11:case 14:case 15:ns(2,r,n),Je||ns(4,r,n),En(t,n,r);break;case 1:Je||(nn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ep(r,n,o)),En(t,n,r);break;case 21:En(t,n,r);break;case 22:Je=(o=Je)||r.memoizedState!==null,En(t,n,r),Je=o;break;default:En(t,n,r)}}function Dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(r){Ae(n,n.return,r)}}}function Lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(r){Ae(n,n.return,r)}}function zw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kp),n;default:throw Error(i(435,t.tag))}}function Pl(t,n){var r=zw(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Yw.bind(null,t,o);o.then(h,h)}})}function vt(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],m=t,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(cs(w.type)){ze=w.stateNode,bt=!1;break e}break;case 5:ze=w.stateNode,bt=!1;break e;case 3:case 4:ze=w.stateNode.containerInfo,bt=!0;break e}w=w.return}if(ze===null)throw Error(i(160));Ip(m,b,h),ze=null,bt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,t),n=n.sibling}var Yt=null;function Up(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vt(n,t),xt(t),o&4&&(ns(3,t,t.return),Ki(3,t),ns(5,t,t.return));break;case 1:vt(n,t),xt(t),o&512&&(Je||r===null||nn(r,r.return)),o&64&&Nn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Yt;if(vt(n,t),xt(t),o&512&&(Je||r===null||nn(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[xi]||m[it]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),ct(m,o,r),m[it]=t,tt(m),o=m;break e;case"link":var b=Ug("link","href",h).get(o+(r.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(w,1);break t}}m=h.createElement(o),ct(m,o,r),h.head.appendChild(m);break;case"meta":if(b=Ug("meta","content",h).get(o+(r.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(w,1);break t}}m=h.createElement(o),ct(m,o,r),h.head.appendChild(m);break;default:throw Error(i(468,o))}m[it]=t,tt(m),o=m}t.stateNode=o}else Mg(h,t.type,t.stateNode);else t.stateNode=Lg(h,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Mg(h,t.type,t.stateNode):Lg(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ru(t,t.memoizedProps,r.memoizedProps)}break;case 27:vt(n,t),xt(t),o&512&&(Je||r===null||nn(r,r.return)),r!==null&&o&4&&Ru(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vt(n,t),xt(t),o&512&&(Je||r===null||nn(r,r.return)),t.flags&32){h=t.stateNode;try{ha(h,"")}catch(W){Ae(t,t.return,W)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ru(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Du=!0);break;case 6:if(vt(n,t),xt(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(W){Ae(t,t.return,W)}}break;case 3:if(eo=null,h=Yt,Yt=Zl(n.containerInfo),vt(n,t),Yt=h,xt(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(W){Ae(t,t.return,W)}Du&&(Du=!1,Mp(t));break;case 4:o=Yt,Yt=Zl(t.stateNode.containerInfo),vt(n,t),xt(t),Yt=o;break;case 12:vt(n,t),xt(t);break;case 31:vt(n,t),xt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pl(t,o)));break;case 13:vt(n,t),xt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($l=jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pl(t,o)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,L=Nn,H=Je;if(Nn=L||h,Je=H||N,vt(n,t),Je=H,Nn=L,xt(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||Nn||Je||Gs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(m=N.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=N.stateNode;var G=N.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;w.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(W){Ae(N,N.return,W)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(W){Ae(N,N.return,W)}}}else if(n.tag===18){if(r===null){N=n;try{var P=N.stateNode;h?Eg(P,!0):Eg(N.stateNode,!1)}catch(W){Ae(N,N.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Pl(t,r))));break;case 19:vt(n,t),xt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pl(t,o)));break;case 30:break;case 21:break;default:vt(n,t),xt(t)}}function xt(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Cp(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var h=r.stateNode,m=Ou(t);Ml(t,m,h);break;case 5:var b=r.stateNode;r.flags&32&&(ha(b,""),r.flags&=-33);var w=Ou(t);Ml(t,w,b);break;case 3:case 4:var N=r.stateNode.containerInfo,L=Ou(t);Iu(t,L,N);break;default:throw Error(i(161))}}catch(H){Ae(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Tn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rp(t,n.alternate,n),n=n.sibling}function Gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ns(4,n,n.return),Gs(n);break;case 1:nn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ep(n,n.return,r),Gs(n);break;case 27:nr(n.stateNode);case 26:case 5:nn(n,n.return),Gs(n);break;case 22:n.memoizedState===null&&Gs(n);break;case 30:Gs(n);break;default:Gs(n)}t=t.sibling}}function Cn(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Cn(h,m,r),Ki(4,m);break;case 1:if(Cn(h,m,r),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Ae(o,o.return,L)}if(o=m,h=o.updateQueue,h!==null){var w=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)mm(N[h],w)}catch(L){Ae(o,o.return,L)}}r&&b&64&&Np(m),Fi(m,m.return);break;case 27:Ap(m);case 26:case 5:Cn(h,m,r),r&&o===null&&b&4&&Tp(m),Fi(m,m.return);break;case 12:Cn(h,m,r);break;case 31:Cn(h,m,r),r&&b&4&&Dp(h,m);break;case 13:Cn(h,m,r),r&&b&4&&Lp(h,m);break;case 22:m.memoizedState===null&&Cn(h,m,r),Fi(m,m.return);break;case 30:break;default:Cn(h,m,r)}n=n.sibling}}function Lu(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ii(r))}function Uu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ii(t))}function Jt(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(t,n,r,o),n=n.sibling}function Pp(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jt(t,n,r,o),h&2048&&Ki(9,n);break;case 1:Jt(t,n,r,o);break;case 3:Jt(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ii(t)));break;case 12:if(h&2048){Jt(t,n,r,o),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ae(n,n.return,N)}}else Jt(t,n,r,o);break;case 31:Jt(t,n,r,o);break;case 13:Jt(t,n,r,o);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?Jt(t,n,r,o):Yi(t,n):m._visibility&2?Jt(t,n,r,o):(m._visibility|=2,Oa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Lu(b,n);break;case 24:Jt(t,n,r,o),h&2048&&Uu(n.alternate,n);break;default:Jt(t,n,r,o)}}function Oa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,b=n,w=r,N=o,L=b.flags;switch(b.tag){case 0:case 11:case 15:Oa(m,b,w,N,h),Ki(8,b);break;case 23:break;case 22:var H=b.stateNode;b.memoizedState!==null?H._visibility&2?Oa(m,b,w,N,h):Yi(m,b):(H._visibility|=2,Oa(m,b,w,N,h)),h&&L&2048&&Lu(b.alternate,b);break;case 24:Oa(m,b,w,N,h),h&&L&2048&&Uu(b.alternate,b);break;default:Oa(m,b,w,N,h)}n=n.sibling}}function Yi(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:Yi(r,o),h&2048&&Lu(o.alternate,o);break;case 24:Yi(r,o),h&2048&&Uu(o.alternate,o);break;default:Yi(r,o)}n=n.sibling}}var Ji=8192;function Ia(t,n,r){if(t.subtreeFlags&Ji)for(t=t.child;t!==null;)zp(t,n,r),t=t.sibling}function zp(t,n,r){switch(t.tag){case 26:Ia(t,n,r),t.flags&Ji&&t.memoizedState!==null&&N_(r,Yt,t.memoizedState,t.memoizedProps);break;case 5:Ia(t,n,r);break;case 3:case 4:var o=Yt;Yt=Zl(t.stateNode.containerInfo),Ia(t,n,r),Yt=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ji,Ji=16777216,Ia(t,n,r),Ji=o):Ia(t,n,r));break;default:Ia(t,n,r)}}function $p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Xi(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];nt=o,Hp(o,t)}$p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bp(t),t=t.sibling}function Bp(t){switch(t.tag){case 0:case 11:case 15:Xi(t),t.flags&2048&&ns(9,t,t.return);break;case 3:Xi(t);break;case 12:Xi(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,zl(t)):Xi(t);break;default:Xi(t)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];nt=o,Hp(o,t)}$p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ns(8,n,n.return),zl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,zl(n));break;default:zl(n)}t=t.sibling}}function Hp(t,n){for(;nt!==null;){var r=nt;switch(r.tag){case 0:case 11:case 15:ns(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ii(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,nt=o;else e:for(r=t;nt!==null;){o=nt;var h=o.sibling,m=o.return;if(Op(o),o===r){nt=null;break e}if(h!==null){h.return=m,nt=h;break e}nt=m}}}var $w={getCacheForType:function(t){var n=lt(Ke),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return lt(Ke).controller.signal}},Bw=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ie=null,ge=null,ve=0,Ce=0,Rt=null,ss=!1,Da=!1,Mu=!1,An=0,He=0,as=0,Ks=0,Pu=0,Ot=0,La=0,Qi=null,wt=null,zu=!1,$l=0,qp=0,Bl=1/0,Hl=null,is=null,Qe=0,rs=null,Ua=null,kn=0,$u=0,Bu=null,Vp=null,Zi=0,Hu=null;function It(){return(Ee&2)!==0&&ve!==0?ve&-ve:$.T!==null?Yu():rf()}function Gp(){if(Ot===0)if((ve&536870912)===0||we){var t=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Ot=t}else Ot=536870912;return t=At.current,t!==null&&(t.flags|=32),Ot}function _t(t,n,r){(t===Ie&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),ls(t,ve,Ot,!1)),vi(t,r),((Ee&2)===0||t!==Ie)&&(t===Ie&&((Ee&2)===0&&(Ks|=r),He===4&&ls(t,ve,Ot,!1)),sn(t))}function Kp(t,n,r){if((Ee&6)!==0)throw Error(i(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||bi(t,n),h=o?Vw(t,n):Vu(t,n,!0),m=o;do{if(h===0){Da&&!o&&ls(t,n,0,!1);break}else{if(r=t.current.alternate,m&&!Hw(r)){h=Vu(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=t;h=Qi;var N=w.current.memoizedState.isDehydrated;if(N&&(Ma(w,b).flags|=256),b=Vu(w,b,!1),b!==2){if(Mu&&!N){w.errorRecoveryDisabledLanes|=m,Ks|=m,h=4;break e}m=wt,wt=h,m!==null&&(wt===null?wt=m:wt.push.apply(wt,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Ma(t,0),ls(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:ls(o,n,Ot,!ss);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(h=$l+300-jt(),10<h)){if(ls(o,n,Ot,!ss),Zr(o,0,!0)!==0)break e;kn=n,o.timeoutHandle=Sg(Fp.bind(null,o,r,wt,Hl,zu,n,Ot,Ks,La,ss,m,"Throttled",-0,0),h);break e}Fp(o,r,wt,Hl,zu,n,Ot,Ks,La,ss,m,null,-0,0)}}break}while(!0);sn(t)}function Fp(t,n,r,o,h,m,b,w,N,L,H,G,U,P){if(t.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},zp(n,m,G);var W=(m&62914560)===m?$l-jt():(m&4194048)===m?qp-jt():0;if(W=E_(G,W),W!==null){kn=m,t.cancelPendingCommit=W(tg.bind(null,t,n,m,r,o,h,b,w,N,H,G,null,U,P)),ls(t,m,b,!L);return}}tg(t,n,m,r,o,h,b,w,N)}function Hw(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],m=h.getSnapshot;h=h.value;try{if(!Tt(m(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ls(t,n,r,o){n&=~Pu,n&=~Ks,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-Et(h),b=1<<m;o[m]=-1,h&=~b}r!==0&&nf(t,r,n)}function ql(){return(Ee&6)===0?(Wi(0),!1):!0}function qu(){if(ge!==null){if(Ce===0)var t=ge.return;else t=ge,vn=Ms=null,iu(t),Ta=null,Li=0,t=ge;for(;t!==null;)jp(t.alternate,t),t=t.return;ge=null}}function Ma(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,o_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),kn=0,qu(),Ie=t,ge=r=yn(t.current,null),ve=n,Ce=0,Rt=null,ss=!1,Da=bi(t,n),Mu=!1,La=Ot=Pu=Ks=as=He=0,wt=Qi=null,zu=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Et(o),m=1<<h;n|=t[h],o&=~m}return An=n,ul(),r}function Yp(t,n){ue=null,$.H=qi,n===Ea||n===bl?(n=um(),Ce=3):n===Fc?(n=um(),Ce=4):Ce=n===wu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rt=n,ge===null&&(He=1,Ol(t,zt(n,t.current)))}function Jp(){var t=At.current;return t===null?!0:(ve&4194048)===ve?qt===null:(ve&62914560)===ve||(ve&536870912)!==0?t===qt:!1}function Xp(){var t=$.H;return $.H=qi,t===null?qi:t}function Qp(){var t=$.A;return $.A=$w,t}function Vl(){He=4,ss||(ve&4194048)!==ve&&At.current!==null||(Da=!0),(as&134217727)===0&&(Ks&134217727)===0||Ie===null||ls(Ie,ve,Ot,!1)}function Vu(t,n,r){var o=Ee;Ee|=2;var h=Xp(),m=Qp();(Ie!==t||ve!==n)&&(Hl=null,Ma(t,n)),n=!1;var b=He;e:do try{if(Ce!==0&&ge!==null){var w=ge,N=Rt;switch(Ce){case 8:qu(),b=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var L=Ce;if(Ce=0,Rt=null,Pa(t,w,N,L),r&&Da){b=0;break e}break;default:L=Ce,Ce=0,Rt=null,Pa(t,w,N,L)}}qw(),b=He;break}catch(H){Yp(t,H)}while(!0);return n&&t.shellSuspendCounter++,vn=Ms=null,Ee=o,$.H=h,$.A=m,ge===null&&(Ie=null,ve=0,ul()),b}function qw(){for(;ge!==null;)Zp(ge)}function Vw(t,n){var r=Ee;Ee|=2;var o=Xp(),h=Qp();Ie!==t||ve!==n?(Hl=null,Bl=jt()+500,Ma(t,n)):Da=bi(t,n);e:do try{if(Ce!==0&&ge!==null){n=ge;var m=Rt;t:switch(Ce){case 1:Ce=0,Rt=null,Pa(t,n,m,1);break;case 2:case 9:if(om(m)){Ce=0,Rt=null,Wp(n);break}n=function(){Ce!==2&&Ce!==9||Ie!==t||(Ce=7),sn(t)},m.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:om(m)?(Ce=0,Rt=null,Wp(n)):(Ce=0,Rt=null,Pa(t,n,m,7));break;case 5:var b=null;switch(ge.tag){case 26:b=ge.memoizedState;case 5:case 27:var w=ge;if(b?Pg(b):w.stateNode.complete){Ce=0,Rt=null;var N=w.sibling;if(N!==null)ge=N;else{var L=w.return;L!==null?(ge=L,Gl(L)):ge=null}break t}}Ce=0,Rt=null,Pa(t,n,m,5);break;case 6:Ce=0,Rt=null,Pa(t,n,m,6);break;case 8:qu(),He=6;break e;default:throw Error(i(462))}}Gw();break}catch(H){Yp(t,H)}while(!0);return vn=Ms=null,$.H=o,$.A=h,Ee=r,ge!==null?0:(Ie=null,ve=0,ul(),He)}function Gw(){for(;ge!==null&&!mx();)Zp(ge)}function Zp(t){var n=_p(t.alternate,t,An);t.memoizedProps=t.pendingProps,n===null?Gl(t):ge=n}function Wp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=gp(r,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=gp(r,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:iu(n);default:jp(r,n),n=ge=Qf(n,An),n=_p(r,n,An)}t.memoizedProps=t.pendingProps,n===null?Gl(t):ge=n}function Pa(t,n,r,o){vn=Ms=null,iu(n),Ta=null,Li=0;var h=n.return;try{if(Iw(t,h,n,r,ve)){He=1,Ol(t,zt(r,t.current)),ge=null;return}}catch(m){if(h!==null)throw ge=h,m;He=1,Ol(t,zt(r,t.current)),ge=null;return}n.flags&32768?(we||o===1?t=!0:Da||(ve&536870912)!==0?t=!1:(ss=t=!0,(o===2||o===9||o===3||o===6)&&(o=At.current,o!==null&&o.tag===13&&(o.flags|=16384))),eg(n,t)):Gl(n)}function Gl(t){var n=t;do{if((n.flags&32768)!==0){eg(n,ss);return}t=n.return;var r=Uw(n.alternate,n,An);if(r!==null){ge=r;return}if(n=n.sibling,n!==null){ge=n;return}ge=n=t}while(n!==null);He===0&&(He=5)}function eg(t,n){do{var r=Mw(t.alternate,t);if(r!==null){r.flags&=32767,ge=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ge=t;return}ge=t=r}while(t!==null);He=6,ge=null}function tg(t,n,r,o,h,m,b,w,N){t.cancelPendingCommit=null;do Kl();while(Qe!==0);if((Ee&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(m=n.lanes|n.childLanes,m|=Oc,jx(t,r,m,b,w,N),t===Ie&&(ge=Ie=null,ve=0),Ua=n,rs=t,kn=r,$u=m,Bu=h,Vp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jw(Yr,function(){return rg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=Y.p,Y.p=2,b=Ee,Ee|=4;try{Pw(t,n,r)}finally{Ee=b,Y.p=h,$.T=o}}Qe=1,ng(),sg(),ag()}}function ng(){if(Qe===1){Qe=0;var t=rs,n=Ua,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var o=Y.p;Y.p=2;var h=Ee;Ee|=4;try{Up(n,t);var m=nd,b=Hf(t.containerInfo),w=m.focusedElem,N=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Bf(w.ownerDocument.documentElement,w)){if(N!==null&&Tc(w)){var L=N.start,H=N.end;if(H===void 0&&(H=L),"selectionStart"in w)w.selectionStart=L,w.selectionEnd=Math.min(H,w.value.length);else{var G=w.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var P=U.getSelection(),W=w.textContent.length,re=Math.min(N.start,W),Oe=N.end===void 0?re:Math.min(N.end,W);!P.extend&&re>Oe&&(b=Oe,Oe=re,re=b);var R=$f(w,re),C=$f(w,Oe);if(R&&C&&(P.rangeCount!==1||P.anchorNode!==R.node||P.anchorOffset!==R.offset||P.focusNode!==C.node||P.focusOffset!==C.offset)){var D=G.createRange();D.setStart(R.node,R.offset),P.removeAllRanges(),re>Oe?(P.addRange(D),P.extend(C.node,C.offset)):(D.setEnd(C.node,C.offset),P.addRange(D))}}}}for(G=[],P=w;P=P.parentNode;)P.nodeType===1&&G.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<G.length;w++){var V=G[w];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ao=!!td,nd=td=null}finally{Ee=h,Y.p=o,$.T=r}}t.current=n,Qe=2}}function sg(){if(Qe===2){Qe=0;var t=rs,n=Ua,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var o=Y.p;Y.p=2;var h=Ee;Ee|=4;try{Rp(t,n.alternate,n)}finally{Ee=h,Y.p=o,$.T=r}}Qe=3}}function ag(){if(Qe===4||Qe===3){Qe=0,px();var t=rs,n=Ua,r=kn,o=Vp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Ua=rs=null,ig(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(is=null),oc(r),n=n.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(yi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,h=Y.p,Y.p=2,$.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var w=o[b];m(w.value,{componentStack:w.stack})}}finally{$.T=n,Y.p=h}}(kn&3)!==0&&Kl(),sn(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Hu?Zi++:(Zi=0,Hu=t):Zi=0,Wi(0)}}function ig(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ii(n)))}function Kl(){return ng(),sg(),ag(),rg()}function rg(){if(Qe!==5)return!1;var t=rs,n=$u;$u=0;var r=oc(kn),o=$.T,h=Y.p;try{Y.p=32>r?32:r,$.T=null,r=Bu,Bu=null;var m=rs,b=kn;if(Qe=0,Ua=rs=null,kn=0,(Ee&6)!==0)throw Error(i(331));var w=Ee;if(Ee|=4,Bp(m.current),Pp(m,m.current,b,r),Ee=w,Wi(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(yi,m)}catch{}return!0}finally{Y.p=h,$.T=o,ig(t,n)}}function lg(t,n,r){n=zt(r,n),n=xu(t.stateNode,n,2),t=Wn(t,n,2),t!==null&&(vi(t,2),sn(t))}function Ae(t,n,r){if(t.tag===3)lg(t,t,r);else for(;n!==null;){if(n.tag===3){lg(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(is===null||!is.has(o))){t=zt(r,t),r=op(2),o=Wn(n,r,2),o!==null&&(cp(r,o,n,t),vi(o,2),sn(o));break}}n=n.return}}function Gu(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Bw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Mu=!0,h.add(r),t=Kw.bind(null,t,n,r),n.then(t,t))}function Kw(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ie===t&&(ve&r)===r&&(He===4||He===3&&(ve&62914560)===ve&&300>jt()-$l?(Ee&2)===0&&Ma(t,0):Pu|=r,La===ve&&(La=0)),sn(t)}function og(t,n){n===0&&(n=tf()),t=Ds(t,n),t!==null&&(vi(t,n),sn(t))}function Fw(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),og(t,r)}function Yw(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),og(t,r)}function Jw(t,n){return ac(t,n)}var Fl=null,za=null,Ku=!1,Yl=!1,Fu=!1,os=0;function sn(t){t!==za&&t.next===null&&(za===null?Fl=za=t:za=za.next=t),Yl=!0,Ku||(Ku=!0,Qw())}function Wi(t,n){if(!Fu&&Yl){Fu=!0;do for(var r=!1,o=Fl;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var b=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-Et(42|t)+1)-1,m&=h&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,hg(o,m))}else m=ve,m=Zr(o,o===Ie?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||bi(o,m)||(r=!0,hg(o,m));o=o.next}while(r);Fu=!1}}function Xw(){cg()}function cg(){Yl=Ku=!1;var t=0;os!==0&&l_()&&(t=os);for(var n=jt(),r=null,o=Fl;o!==null;){var h=o.next,m=ug(o,n);m===0?(o.next=null,r===null?Fl=h:r.next=h,h===null&&(za=r)):(r=o,(t!==0||(m&3)!==0)&&(Yl=!0)),o=h}Qe!==0&&Qe!==5||Wi(t),os!==0&&(os=0)}function ug(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Et(m),w=1<<b,N=h[b];N===-1?((w&r)===0||(w&o)!==0)&&(h[b]=Sx(w,n)):N<=n&&(t.expiredLanes|=w),m&=~w}if(n=Ie,r=ve,r=Zr(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ic(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&ic(o),oc(r)){case 2:case 8:r=Wh;break;case 32:r=Yr;break;case 268435456:r=ef;break;default:r=Yr}return o=dg.bind(null,t),r=ac(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&ic(o),t.callbackPriority=2,t.callbackNode=null,2}function dg(t,n){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Kl()&&t.callbackNode!==r)return null;var o=ve;return o=Zr(t,t===Ie?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Kp(t,o,n),ug(t,jt()),t.callbackNode!=null&&t.callbackNode===r?dg.bind(null,t):null)}function hg(t,n){if(Kl())return null;Kp(t,n,!0)}function Qw(){c_(function(){(Ee&6)!==0?ac(Zh,Xw):cg()})}function Yu(){if(os===0){var t=ja;t===0&&(t=Jr,Jr<<=1,(Jr&261888)===0&&(Jr=256)),os=t}return os}function fg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:nl(""+t)}function mg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Zw(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var m=fg((h[gt]||null).action),b=o.submitter;b&&(n=(n=b[gt]||null)?fg(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var w=new rl("action","action",null,o,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(os!==0){var N=b?mg(h,b):new FormData(h);mu(r,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=b?mg(h,b):new FormData(h),mu(r,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var Ju=0;Ju<Rc.length;Ju++){var Xu=Rc[Ju],Ww=Xu.toLowerCase(),e_=Xu[0].toUpperCase()+Xu.slice(1);Ft(Ww,"on"+e_)}Ft(Gf,"onAnimationEnd"),Ft(Kf,"onAnimationIteration"),Ft(Ff,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(gw,"onTransitionRun"),Ft(yw,"onTransitionStart"),Ft(bw,"onTransitionCancel"),Ft(Yf,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(er));function pg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var b=o.length-1;0<=b;b--){var w=o[b],N=w.instance,L=w.currentTarget;if(w=w.listener,N!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=L;try{m(h)}catch(H){cl(H)}h.currentTarget=null,m=N}else for(b=0;b<o.length;b++){if(w=o[b],N=w.instance,L=w.currentTarget,w=w.listener,N!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=L;try{m(h)}catch(H){cl(H)}h.currentTarget=null,m=N}}}}function ye(t,n){var r=n[cc];r===void 0&&(r=n[cc]=new Set);var o=t+"__bubble";r.has(o)||(gg(n,t,2,!1),r.add(o))}function Qu(t,n,r){var o=0;n&&(o|=4),gg(r,t,o,n)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Zu(t){if(!t[Jl]){t[Jl]=!0,cf.forEach(function(r){r!=="selectionchange"&&(t_.has(r)||Qu(r,!1,t),Qu(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Jl]||(n[Jl]=!0,Qu("selectionchange",!1,n))}}function gg(t,n,r,o){switch(Gg(n)){case 2:var h=A_;break;case 8:h=k_;break;default:h=fd}r=h.bind(null,n,r,t),h=void 0,!bc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Wu(t,n,r,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=o.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=la(w),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){o=m=b;continue e}w=w.parentNode}}o=o.return}wf(function(){var L=m,H=gc(r),G=[];e:{var U=Jf.get(t);if(U!==void 0){var P=rl,W=t;switch(t){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":P=Yx;break;case"focusin":W="focus",P=_c;break;case"focusout":W="blur",P=_c;break;case"beforeblur":case"afterblur":P=_c;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Qx;break;case Gf:case Kf:case Ff:P=zx;break;case Yf:P=Wx;break;case"scroll":case"scrollend":P=Dx;break;case"wheel":P=tw;break;case"copy":case"cut":case"paste":P=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ef;break;case"toggle":case"beforetoggle":P=sw}var re=(n&4)!==0,Oe=!re&&(t==="scroll"||t==="scrollend"),R=re?U!==null?U+"Capture":null:U;re=[];for(var C=L,D;C!==null;){var V=C;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||R===null||(V=_i(C,R),V!=null&&re.push(tr(C,V,D))),Oe)break;C=C.return}0<re.length&&(U=new P(U,W,null,r,H),G.push({event:U,listeners:re}))}}if((n&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",U&&r!==pc&&(W=r.relatedTarget||r.fromElement)&&(la(W)||W[ra]))break e;if((P||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,P?(W=r.relatedTarget||r.toElement,P=L,W=W?la(W):null,W!==null&&(Oe=c(W),re=W.tag,W!==Oe||re!==5&&re!==27&&re!==6)&&(W=null)):(P=null,W=L),P!==W)){if(re=jf,V="onMouseLeave",R="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(re=Ef,V="onPointerLeave",R="onPointerEnter",C="pointer"),Oe=P==null?U:wi(P),D=W==null?U:wi(W),U=new re(V,C+"leave",P,r,H),U.target=Oe,U.relatedTarget=D,V=null,la(H)===L&&(re=new re(R,C+"enter",W,r,H),re.target=D,re.relatedTarget=Oe,V=re),Oe=V,P&&W)t:{for(re=n_,R=P,C=W,D=0,V=R;V;V=re(V))D++;V=0;for(var se=C;se;se=re(se))V++;for(;0<D-V;)R=re(R),D--;for(;0<V-D;)C=re(C),V--;for(;D--;){if(R===C||C!==null&&R===C.alternate){re=R;break t}R=re(R),C=re(C)}re=null}else re=null;P!==null&&yg(G,U,P,re,!1),W!==null&&Oe!==null&&yg(G,Oe,W,re,!0)}}e:{if(U=L?wi(L):window,P=U.nodeName&&U.nodeName.toLowerCase(),P==="select"||P==="input"&&U.type==="file")var Se=Df;else if(Of(U))if(Lf)Se=fw;else{Se=dw;var te=uw}else P=U.nodeName,!P||P.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?L&&mc(L.elementType)&&(Se=Df):Se=hw;if(Se&&(Se=Se(t,L))){If(G,Se,r,H);break e}te&&te(t,U,L),t==="focusout"&&L&&U.type==="number"&&L.memoizedProps.value!=null&&fc(U,"number",U.value)}switch(te=L?wi(L):window,t){case"focusin":(Of(te)||te.contentEditable==="true")&&(ga=te,Cc=L,ki=null);break;case"focusout":ki=Cc=ga=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,qf(G,r,H);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":qf(G,r,H)}var he;if(jc)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else pa?kf(t,r)&&(xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(xe="onCompositionStart");xe&&(Tf&&r.locale!=="ko"&&(pa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&pa&&(he=_f()):(Kn=H,vc="value"in Kn?Kn.value:Kn.textContent,pa=!0)),te=Xl(L,xe),0<te.length&&(xe=new Nf(xe,t,null,r,H),G.push({event:xe,listeners:te}),he?xe.data=he:(he=Rf(r),he!==null&&(xe.data=he)))),(he=iw?rw(t,r):lw(t,r))&&(xe=Xl(L,"onBeforeInput"),0<xe.length&&(te=new Nf("onBeforeInput","beforeinput",null,r,H),G.push({event:te,listeners:xe}),te.data=he)),Zw(G,t,L,r,H)}pg(G,n)})}function tr(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Xl(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=_i(t,r),h!=null&&o.unshift(tr(t,h,m)),h=_i(t,n),h!=null&&o.push(tr(t,h,m))),t.tag===3)return o;t=t.return}return[]}function n_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yg(t,n,r,o,h){for(var m=n._reactName,b=[];r!==null&&r!==o;){var w=r,N=w.alternate,L=w.stateNode;if(w=w.tag,N!==null&&N===o)break;w!==5&&w!==26&&w!==27||L===null||(N=L,h?(L=_i(r,m),L!=null&&b.unshift(tr(r,L,N))):h||(L=_i(r,m),L!=null&&b.push(tr(r,L,N)))),r=r.return}b.length!==0&&t.push({event:n,listeners:b})}var s_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function bg(t){return(typeof t=="string"?t:""+t).replace(s_,`
`).replace(a_,"")}function vg(t,n){return n=bg(n),bg(t)===n}function Re(t,n,r,o,h,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ha(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ha(t,""+o);break;case"className":el(t,"class",o);break;case"tabIndex":el(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":el(t,r,o);break;case"style":vf(t,o,m);break;case"data":if(n!=="object"){el(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=nl(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&Re(t,n,"name",h.name,h,null),Re(t,n,"formEncType",h.formEncType,h,null),Re(t,n,"formMethod",h.formMethod,h,null),Re(t,n,"formTarget",h.formTarget,h,null)):(Re(t,n,"encType",h.encType,h,null),Re(t,n,"method",h.method,h,null),Re(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=nl(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=pn);break;case"onScroll":o!=null&&ye("scroll",t);break;case"onScrollEnd":o!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=nl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ye("beforetoggle",t),ye("toggle",t),Wr(t,"popover",o);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ox.get(r)||r,Wr(t,r,o))}}function ed(t,n,r,o,h,m){switch(r){case"style":vf(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?ha(t,o):(typeof o=="number"||typeof o=="bigint")&&ha(t,""+o);break;case"onScroll":o!=null&&ye("scroll",t);break;case"onScrollEnd":o!=null&&ye("scrollend",t);break;case"onClick":o!=null&&(t.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),m=t[gt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Wr(t,r,o)}}}function ct(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var o=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Re(t,n,m,b,r,null)}}h&&Re(t,n,"srcSet",r.srcSet,r,null),o&&Re(t,n,"src",r.src,r,null);return;case"input":ye("invalid",t);var w=m=b=h=null,N=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":b=H;break;case"checked":N=H;break;case"defaultChecked":L=H;break;case"value":m=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:Re(t,n,o,H,r,null)}}pf(t,m,w,N,L,b,h,!1);return;case"select":ye("invalid",t),o=b=m=null;for(h in r)if(r.hasOwnProperty(h)&&(w=r[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:Re(t,n,h,w,r,null)}n=m,r=b,t.multiple=!!o,n!=null?da(t,!!o,n,!1):r!=null&&da(t,!!o,r,!0);return;case"textarea":ye("invalid",t),m=h=o=null;for(b in r)if(r.hasOwnProperty(b)&&(w=r[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Re(t,n,b,w,r,null)}yf(t,o,h,m);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(o=r[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Re(t,n,N,o,r,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(o=0;o<er.length;o++)ye(er[o],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Re(t,n,L,o,r,null)}return;default:if(mc(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ed(t,n,H,o,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(o=r[w],o!=null&&Re(t,n,w,o,r,null))}function i_(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,w=null,N=null,L=null,H=null;for(P in r){var G=r[P];if(r.hasOwnProperty(P)&&G!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":N=G;default:o.hasOwnProperty(P)||Re(t,n,P,null,o,G)}}for(var U in o){var P=o[U];if(G=r[U],o.hasOwnProperty(U)&&(P!=null||G!=null))switch(U){case"type":m=P;break;case"name":h=P;break;case"checked":L=P;break;case"defaultChecked":H=P;break;case"value":b=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,n));break;default:P!==G&&Re(t,n,U,P,o,G)}}hc(t,b,w,N,L,H,m,h);return;case"select":P=b=w=U=null;for(m in r)if(N=r[m],r.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":P=N;default:o.hasOwnProperty(m)||Re(t,n,m,null,o,N)}for(h in o)if(m=o[h],N=r[h],o.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":U=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==N&&Re(t,n,h,m,o,N)}n=w,r=b,o=P,U!=null?da(t,!!r,U,!1):!!o!=!!r&&(n!=null?da(t,!!r,n,!0):da(t,!!r,r?[]:"",!1));return;case"textarea":P=U=null;for(w in r)if(h=r[w],r.hasOwnProperty(w)&&h!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Re(t,n,w,null,o,h)}for(b in o)if(h=o[b],m=r[b],o.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":U=h;break;case"defaultValue":P=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&Re(t,n,b,h,o,m)}gf(t,U,P);return;case"option":for(var W in r)if(U=r[W],r.hasOwnProperty(W)&&U!=null&&!o.hasOwnProperty(W))switch(W){case"selected":t.selected=!1;break;default:Re(t,n,W,null,o,U)}for(N in o)if(U=o[N],P=r[N],o.hasOwnProperty(N)&&U!==P&&(U!=null||P!=null))switch(N){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Re(t,n,N,U,o,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in r)U=r[re],r.hasOwnProperty(re)&&U!=null&&!o.hasOwnProperty(re)&&Re(t,n,re,null,o,U);for(L in o)if(U=o[L],P=r[L],o.hasOwnProperty(L)&&U!==P&&(U!=null||P!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,n));break;default:Re(t,n,L,U,o,P)}return;default:if(mc(n)){for(var Oe in r)U=r[Oe],r.hasOwnProperty(Oe)&&U!==void 0&&!o.hasOwnProperty(Oe)&&ed(t,n,Oe,void 0,o,U);for(H in o)U=o[H],P=r[H],!o.hasOwnProperty(H)||U===P||U===void 0&&P===void 0||ed(t,n,H,U,o,P);return}}for(var R in r)U=r[R],r.hasOwnProperty(R)&&U!=null&&!o.hasOwnProperty(R)&&Re(t,n,R,null,o,U);for(G in o)U=o[G],P=r[G],!o.hasOwnProperty(G)||U===P||U==null&&P==null||Re(t,n,G,U,o,P)}function xg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],m=h.transferSize,b=h.initiatorType,w=h.duration;if(m&&w&&xg(b)){for(b=0,w=h.responseEnd,o+=1;o<r.length;o++){var N=r[o],L=N.startTime;if(L>w)break;var H=N.transferSize,G=N.initiatorType;H&&xg(G)&&(N=N.responseEnd,b+=H*(N<w?1:(w-L)/(N-L)))}if(--o,n+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var td=null,nd=null;function Ql(t){return t.nodeType===9?t:t.ownerDocument}function wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _g(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function l_(){var t=window.event;return t&&t.type==="popstate"?t===ad?!1:(ad=t,!0):(ad=null,!1)}var Sg=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(t){return jg.resolve(null).then(t).catch(u_)}:Sg;function u_(t){setTimeout(function(){throw t})}function cs(t){return t==="head"}function Ng(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),qa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")nr(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,nr(r);for(var m=r.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[xi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&nr(t.ownerDocument.body);r=h}while(r);qa(n)}function Eg(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":id(r),uc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function d_(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function h_(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vt(t.nextSibling),t===null))return null;return t}function Tg(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vt(t.nextSibling),t===null))return null;return t}function rd(t){return t.data==="$?"||t.data==="$~"}function ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function f_(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var od=null;function Cg(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Vt(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Ag(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function kg(t,n,r){switch(n=Ql(r),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function nr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);uc(t)}var Gt=new Map,Rg=new Set;function Zl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rn=Y.d;Y.d={f:m_,r:p_,D:g_,C:y_,L:b_,m:v_,X:w_,S:x_,M:__};function m_(){var t=Rn.f(),n=ql();return t||n}function p_(t){var n=oa(t);n!==null&&n.tag===5&&n.type==="form"?Ym(n):Rn.r(t)}var $a=typeof document>"u"?null:document;function Og(t,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=Mt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Rg.has(h)||(Rg.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ct(n,"link",t),tt(n),o.head.appendChild(n)))}}function g_(t){Rn.D(t),Og("dns-prefetch",t,null)}function y_(t,n){Rn.C(t,n),Og("preconnect",t,n)}function b_(t,n,r){Rn.L(t,n,r);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Mt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Mt(r.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var m=h;switch(n){case"style":m=Ba(t);break;case"script":m=Ha(t)}Gt.has(m)||(t=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Gt.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(sr(m))||n==="script"&&o.querySelector(ar(m))||(n=o.createElement("link"),ct(n,"link",t),tt(n),o.head.appendChild(n)))}}function v_(t,n){Rn.m(t,n);var r=$a;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Mt(o)+'"][href="'+Mt(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ha(t)}if(!Gt.has(m)&&(t=v({rel:"modulepreload",href:t},n),Gt.set(m,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ar(m)))return}o=r.createElement("link"),ct(o,"link",t),tt(o),r.head.appendChild(o)}}}function x_(t,n,r){Rn.S(t,n,r);var o=$a;if(o&&t){var h=ca(o).hoistableStyles,m=Ba(t);n=n||"default";var b=h.get(m);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(sr(m)))w.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Gt.get(m))&&cd(t,r);var N=b=o.createElement("link");tt(N),ct(N,"link",t),N._p=new Promise(function(L,H){N.onload=L,N.onerror=H}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wl(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(m,b)}}}function w_(t,n){Rn.X(t,n);var r=$a;if(r&&t){var o=ca(r).hoistableScripts,h=Ha(t),m=o.get(h);m||(m=r.querySelector(ar(h)),m||(t=v({src:t,async:!0},n),(n=Gt.get(h))&&ud(t,n),m=r.createElement("script"),tt(m),ct(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function __(t,n){Rn.M(t,n);var r=$a;if(r&&t){var o=ca(r).hoistableScripts,h=Ha(t),m=o.get(h);m||(m=r.querySelector(ar(h)),m||(t=v({src:t,async:!0,type:"module"},n),(n=Gt.get(h))&&ud(t,n),m=r.createElement("script"),tt(m),ct(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Ig(t,n,r,o){var h=(h=pe.current)?Zl(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=ca(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ba(r.href);var m=ca(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(sr(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Gt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gt.set(t,r),m||S_(h,t,r,b.state))),n&&o===null)throw Error(i(528,""));return b}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(r),r=ca(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ba(t){return'href="'+Mt(t)+'"'}function sr(t){return'link[rel="stylesheet"]['+t+"]"}function Dg(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function S_(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ct(n,"link",r),tt(n),t.head.appendChild(n))}function Ha(t){return'[src="'+Mt(t)+'"]'}function ar(t){return"script[async]"+t}function Lg(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Mt(r.href)+'"]');if(o)return n.instance=o,tt(o),o;var h=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),tt(o),ct(o,"style",h),Wl(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ba(r.href);var m=t.querySelector(sr(h));if(m)return n.state.loading|=4,n.instance=m,tt(m),m;o=Dg(r),(h=Gt.get(h))&&cd(o,h),m=(t.ownerDocument||t).createElement("link"),tt(m);var b=m;return b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),ct(m,"link",o),n.state.loading|=4,Wl(m,r.precedence,t),n.instance=m;case"script":return m=Ha(r.src),(h=t.querySelector(ar(m)))?(n.instance=h,tt(h),h):(o=r,(h=Gt.get(m))&&(o=v({},r),ud(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),tt(h),ct(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Wl(o,r.precedence,t));return n.instance}function Wl(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===n)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var eo=null;function Ug(t,n,r){if(eo===null){var o=new Map,h=eo=new Map;h.set(r,o)}else h=eo,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var m=r[h];if(!(m[xi]||m[it]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var w=o.get(b);w?w.push(m):o.set(b,[m])}}return o}function Mg(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function j_(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Pg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function N_(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(o.href),m=n.querySelector(sr(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=to.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=m,tt(m);return}m=n.ownerDocument||n,o=Dg(o),(h=Gt.get(h))&&cd(o,h),m=m.createElement("link"),tt(m);var b=m;b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),ct(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=to.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var dd=0;function E_(t,n){return t.stylesheets&&t.count===0&&so(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&so(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&dd===0&&(dd=62500*r_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&so(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var no=null;function so(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,no=new Map,n.forEach(T_,t),no=null,to.call(t))}function T_(t,n){if(!(n.state.loading&4)){var r=no.get(t);if(r)var o=r.get(null);else{r=new Map,no.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}h=n.instance,b=h.getAttribute("data-precedence"),m=r.get(b)||o,m===o&&r.set(null,h),r.set(b,h),this.count++,o=to.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ir={$$typeof:S,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function C_(t,n,r,o,h,m,b,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.hiddenUpdates=rc(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function zg(t,n,r,o,h,m,b,w,N,L,H,G){return t=new C_(t,n,r,b,N,L,H,G,w),n=1,m===!0&&(n|=24),m=Ct(3,null,null,n),t.current=m,m.stateNode=t,n=Vc(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},Yc(m),t}function $g(t){return t?(t=va,t):va}function Bg(t,n,r,o,h,m){h=$g(h),o.context===null?o.context=h:o.pendingContext=h,o=Zn(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Wn(t,o,n),r!==null&&(_t(r,t,n),Mi(r,t,n))}function Hg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function hd(t,n){Hg(t,n),(t=t.alternate)&&Hg(t,n)}function qg(t){if(t.tag===13||t.tag===31){var n=Ds(t,67108864);n!==null&&_t(n,t,67108864),hd(t,67108864)}}function Vg(t){if(t.tag===13||t.tag===31){var n=It();n=lc(n);var r=Ds(t,n);r!==null&&_t(r,t,n),hd(t,n)}}var ao=!0;function A_(t,n,r,o){var h=$.T;$.T=null;var m=Y.p;try{Y.p=2,fd(t,n,r,o)}finally{Y.p=m,$.T=h}}function k_(t,n,r,o){var h=$.T;$.T=null;var m=Y.p;try{Y.p=8,fd(t,n,r,o)}finally{Y.p=m,$.T=h}}function fd(t,n,r,o){if(ao){var h=md(o);if(h===null)Wu(t,n,o,io,r),Kg(t,o);else if(O_(h,t,n,r,o))o.stopPropagation();else if(Kg(t,o),n&4&&-1<R_.indexOf(t)){for(;h!==null;){var m=oa(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=As(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var N=1<<31-Et(b);w.entanglements[1]|=N,b&=~N}sn(m),(Ee&6)===0&&(Bl=jt()+500,Wi(0))}}break;case 31:case 13:w=Ds(m,2),w!==null&&_t(w,m,2),ql(),hd(m,2)}if(m=md(o),m===null&&Wu(t,n,o,io,r),m===h)break;h=m}h!==null&&o.stopPropagation()}else Wu(t,n,o,null,r)}}function md(t){return t=gc(t),pd(t)}var io=null;function pd(t){if(io=null,t=la(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=f(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return io=t,null}function Gg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gx()){case Zh:return 2;case Wh:return 8;case Yr:case yx:return 32;case ef:return 268435456;default:return 32}default:return 32}}var gd=!1,us=null,ds=null,hs=null,rr=new Map,lr=new Map,fs=[],R_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(t,n){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":rr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(n.pointerId)}}function or(t,n,r,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=oa(n),n!==null&&qg(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function O_(t,n,r,o,h){switch(n){case"focusin":return us=or(us,t,n,r,o,h),!0;case"dragenter":return ds=or(ds,t,n,r,o,h),!0;case"mouseover":return hs=or(hs,t,n,r,o,h),!0;case"pointerover":var m=h.pointerId;return rr.set(m,or(rr.get(m)||null,t,n,r,o,h)),!0;case"gotpointercapture":return m=h.pointerId,lr.set(m,or(lr.get(m)||null,t,n,r,o,h)),!0}return!1}function Fg(t){var n=la(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,lf(t.priority,function(){Vg(r)});return}}else if(n===31){if(n=f(r),n!==null){t.blockedOn=n,lf(t.priority,function(){Vg(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ro(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=md(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);pc=o,r.target.dispatchEvent(o),pc=null}else return n=oa(r),n!==null&&qg(n),t.blockedOn=r,!1;n.shift()}return!0}function Yg(t,n,r){ro(t)&&r.delete(n)}function I_(){gd=!1,us!==null&&ro(us)&&(us=null),ds!==null&&ro(ds)&&(ds=null),hs!==null&&ro(hs)&&(hs=null),rr.forEach(Yg),lr.forEach(Yg)}function lo(t,n){t.blockedOn===n&&(t.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,I_)))}var oo=null;function Jg(t){oo!==t&&(oo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){oo===t&&(oo=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(pd(o||r)===null)continue;break}var m=oa(r);m!==null&&(t.splice(n,3),n-=3,mu(m,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function qa(t){function n(N){return lo(N,t)}us!==null&&lo(us,t),ds!==null&&lo(ds,t),hs!==null&&lo(hs,t),rr.forEach(n),lr.forEach(n);for(var r=0;r<fs.length;r++){var o=fs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)Fg(r),r.blockedOn===null&&fs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],m=r[o+1],b=h[gt]||null;if(typeof m=="function")b||Jg(r);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[gt]||null)w=b.formAction;else if(pd(h)!==null)continue}else w=b.action;typeof w=="function"?r[o+1]=w:(r.splice(o,3),o-=3),Jg(r)}}}function Xg(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(t){this._internalRoot=t}co.prototype.render=yd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,o=It();Bg(r,o,t,n,null,null)},co.prototype.unmount=yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Bg(t.current,2,null,t,null,null),ql(),n[ra]=null}};function co(t){this._internalRoot=t}co.prototype.unstable_scheduleHydration=function(t){if(t){var n=rf();t={blockedOn:null,target:t,priority:n};for(var r=0;r<fs.length&&n!==0&&n<fs[r].priority;r++);fs.splice(r,0,t),r===0&&Fg(t)}};var Qg=e.version;if(Qg!=="19.2.0")throw Error(i(527,Qg,"19.2.0"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var D_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{yi=uo.inject(D_),Nt=uo}catch{}}return dr.createRoot=function(t,n){if(!l(t))throw Error(i(299));var r=!1,o="",h=ap,m=ip,b=rp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=zg(t,1,!1,null,null,r,o,null,h,m,b,Xg),t[ra]=n.current,Zu(t),new yd(n)},dr.hydrateRoot=function(t,n,r){if(!l(t))throw Error(i(299));var o=!1,h="",m=ap,b=ip,w=rp,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=zg(t,1,!0,n,r??null,o,h,N,m,b,w,Xg),n.context=$g(null),r=n.current,o=It(),o=lc(o),h=Zn(o),h.callback=null,Wn(r,h,o),r=o,n.current.lanes=r,vi(n,r),sn(n),t[ra]=n.current,Zu(t),new co(n)},dr.version="19.2.0",dr}var E0;function US(){if(E0)return _d.exports;E0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),_d.exports=LS(),_d.exports}var MS=US();var T0="popstate";function PS(a={}){function e(i,l){let{pathname:c,search:d,hash:f}=i.location;return Wd("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){return typeof l=="string"?l:Rr(l)}return $S(e,s,null,a)}function et(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Kt(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function C0(a,e){return{usr:a.state,key:a.key,idx:e}}function Wd(a,e,s=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Mr(e):e,state:s,key:e&&e.key||i||zS()}}function Rr({pathname:a="/",search:e="",hash:s=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function Mr(a){let e={};if(a){let s=a.indexOf("#");s>=0&&(e.hash=a.substring(s),a=a.substring(0,s));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function $S(a,e,s,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,d=l.history,f="POP",p=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function v(){f="POP";let k=y(),I=k==null?null:k-g;g=k,p&&p({action:f,location:M.location,delta:I})}function x(k,I){f="PUSH";let O=Wd(M.location,k,I);g=y()+1;let S=C0(O,g),A=M.createHref(O);try{d.pushState(S,"",A)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(A)}c&&p&&p({action:f,location:M.location,delta:1})}function _(k,I){f="REPLACE";let O=Wd(M.location,k,I);g=y();let S=C0(O,g),A=M.createHref(O);d.replaceState(S,"",A),c&&p&&p({action:f,location:M.location,delta:0})}function j(k){return BS(k)}let M={get action(){return f},get location(){return a(l,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(T0,v),p=k,()=>{l.removeEventListener(T0,v),p=null}},createHref(k){return e(l,k)},createURL:j,encodeLocation(k){let I=j(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:_,go(k){return d.go(k)}};return M}function BS(a,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),et(s,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Rr(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function tb(a,e,s="/"){return HS(a,e,s,!1)}function HS(a,e,s,i){let l=typeof e=="string"?Mr(e):e,c=Mn(l.pathname||"/",s);if(c==null)return null;let d=nb(a);qS(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=e1(c);f=ZS(d[p],g,i)}return f}function nb(a,e=[],s=[],i="",l=!1){let c=(d,f,p=l,g)=>{let y={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&p)return;et(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Un([i,y.relativePath]),x=s.concat(y);d.children&&d.children.length>0&&(et(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),nb(d.children,e,x,v,p)),!(d.path==null&&!d.index)&&e.push({path:v,score:XS(v,d.index),routesMeta:x})};return a.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let p of sb(d.path))c(d,f,!0,p)}),e}function sb(a){let e=a.split("/");if(e.length===0)return[];let[s,...i]=e,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let d=sb(i.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&f.push(...d),f.map(p=>a.startsWith("/")&&p===""?"/":p)}function qS(a){a.sort((e,s)=>e.score!==s.score?s.score-e.score:QS(e.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var VS=/^:[\w-]+$/,GS=3,KS=2,FS=1,YS=10,JS=-2,A0=a=>a==="*";function XS(a,e){let s=a.split("/"),i=s.length;return s.some(A0)&&(i+=JS),e&&(i+=KS),s.filter(l=>!A0(l)).reduce((l,c)=>l+(VS.test(c)?GS:c===""?FS:YS),i)}function QS(a,e){return a.length===e.length&&a.slice(0,-1).every((i,l)=>i===e[l])?a[a.length-1]-e[e.length-1]:0}function ZS(a,e,s=!1){let{routesMeta:i}=a,l={},c="/",d=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=ko({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),x=p.route;if(!v&&g&&s&&!i[i.length-1].route.index&&(v=ko({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(l,v.params),d.push({params:l,pathname:Un([c,v.pathname]),pathnameBase:i1(Un([c,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(c=Un([c,v.pathnameBase]))}return d}function ko(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,i]=WS(a.path,a.caseSensitive,a.end),l=e.match(s);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let j=f[x]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const _=f[x];return v&&!_?g[y]=void 0:g[y]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:a}}function WS(a,e=!1,s=!0){Kt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function e1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Mn(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,i=a.charAt(s);return i&&i!=="/"?null:a.slice(s)||"/"}var t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n1=a=>t1.test(a);function s1(a,e="/"){let{pathname:s,search:i="",hash:l=""}=typeof a=="string"?Mr(a):a,c;if(s)if(n1(s))c=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Kt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?c=k0(s.substring(1),"/"):c=k0(s,e)}else c=e;return{pathname:c,search:r1(i),hash:l1(l)}}function k0(a,e){let s=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Ed(a,e,s,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a1(a){return a.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function ab(a){let e=a1(a);return e.map((s,i)=>i===e.length-1?s.pathname:s.pathnameBase)}function ib(a,e,s,i=!1){let l;typeof a=="string"?l=Mr(a):(l={...a},et(!l.pathname||!l.pathname.includes("?"),Ed("?","pathname","search",l)),et(!l.pathname||!l.pathname.includes("#"),Ed("#","pathname","hash",l)),et(!l.search||!l.search.includes("#"),Ed("#","search","hash",l)));let c=a===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=s;else{let v=e.length-1;if(!i&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),v-=1;l.pathname=x.join("/")}f=v>=0?e[v]:"/"}let p=s1(l,f),g=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Un=a=>a.join("/").replace(/\/\/+/g,"/"),i1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),r1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,l1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function o1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rb=["POST","PUT","PATCH","DELETE"];new Set(rb);var c1=["GET",...rb];new Set(c1);var hi=E.createContext(null);hi.displayName="DataRouter";var Vo=E.createContext(null);Vo.displayName="DataRouterState";E.createContext(!1);var lb=E.createContext({isTransitioning:!1});lb.displayName="ViewTransition";var u1=E.createContext(new Map);u1.displayName="Fetchers";var d1=E.createContext(null);d1.displayName="Await";var un=E.createContext(null);un.displayName="Navigation";var Go=E.createContext(null);Go.displayName="Location";var Hn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var _h=E.createContext(null);_h.displayName="RouteError";function h1(a,{relative:e}={}){et(Pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=E.useContext(un),{hash:l,pathname:c,search:d}=zr(a,{relative:e}),f=c;return s!=="/"&&(f=c==="/"?s:Un([s,c])),i.createHref({pathname:f,search:d,hash:l})}function Pr(){return E.useContext(Go)!=null}function dn(){return et(Pr(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Go).location}var ob="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cb(a){E.useContext(un).static||E.useLayoutEffect(a)}function $e(){let{isDataRoute:a}=E.useContext(Hn);return a?N1():f1()}function f1(){et(Pr(),"useNavigate() may be used only in the context of a <Router> component.");let a=E.useContext(hi),{basename:e,navigator:s}=E.useContext(un),{matches:i}=E.useContext(Hn),{pathname:l}=dn(),c=JSON.stringify(ab(i)),d=E.useRef(!1);return cb(()=>{d.current=!0}),E.useCallback((p,g={})=>{if(Kt(d.current,ob),!d.current)return;if(typeof p=="number"){s.go(p);return}let y=ib(p,JSON.parse(c),l,g.relative==="path");a==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Un([e,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[e,s,c,l,a])}E.createContext(null);function zr(a,{relative:e}={}){let{matches:s}=E.useContext(Hn),{pathname:i}=dn(),l=JSON.stringify(ab(s));return E.useMemo(()=>ib(a,JSON.parse(l),i,e==="path"),[a,l,i,e])}function m1(a,e){return ub(a)}function ub(a,e,s,i,l){et(Pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(un),{matches:d}=E.useContext(Hn),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let O=v&&v.path||"";db(g,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=dn(),_;_=x;let j=_.pathname||"/",M=j;if(y!=="/"){let O=y.replace(/^\//,"").split("/");M="/"+j.replace(/^\//,"").split("/").slice(O.length).join("/")}let k=tb(a,{pathname:M});return Kt(v||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Kt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),v1(k&&k.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:Un([y,c.encodeLocation?c.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Un([y,c.encodeLocation?c.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),d,s,i,l)}function p1(){let a=j1(),e=o1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),s?E.createElement("pre",{style:l},s):null,d)}var g1=E.createElement(p1,null),y1=class extends E.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?E.createElement(Hn.Provider,{value:this.props.routeContext},E.createElement(_h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b1({routeContext:a,match:e,children:s}){let i=E.useContext(hi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Hn.Provider,{value:a},s)}function v1(a,e=[],s=null,i=null,l=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,d=s?.errors;if(d!=null){let y=c.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,p=-1;if(s)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:x,errors:_}=s,j=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||j){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=s&&i?(y,v)=>{i(y,{location:s.location,params:s.matches?.[0]?.params??{},errorInfo:v})}:void 0;return c.reduceRight((y,v,x)=>{let _,j=!1,M=null,k=null;s&&(_=d&&v.route.id?d[v.route.id]:void 0,M=v.route.errorElement||g1,f&&(p<0&&x===0?(db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===x&&(j=!0,k=v.route.hydrateFallbackElement||null)));let I=e.concat(c.slice(0,x+1)),O=()=>{let S;return _?S=M:j?S=k:v.route.Component?S=E.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=y,E.createElement(b1,{match:v,routeContext:{outlet:y,matches:I,isDataRoute:s!=null},children:S})};return s&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?E.createElement(y1,{location:s.location,revalidation:s.revalidation,component:M,error:_,children:O(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):O()},null)}function Sh(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(a){let e=E.useContext(hi);return et(e,Sh(a)),e}function w1(a){let e=E.useContext(Vo);return et(e,Sh(a)),e}function _1(a){let e=E.useContext(Hn);return et(e,Sh(a)),e}function jh(a){let e=_1(a),s=e.matches[e.matches.length-1];return et(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function S1(){return jh("useRouteId")}function j1(){let a=E.useContext(_h),e=w1("useRouteError"),s=jh("useRouteError");return a!==void 0?a:e.errors?.[s]}function N1(){let{router:a}=x1("useNavigate"),e=jh("useNavigate"),s=E.useRef(!1);return cb(()=>{s.current=!0}),E.useCallback(async(l,c={})=>{Kt(s.current,ob),s.current&&(typeof l=="number"?a.navigate(l):await a.navigate(l,{fromRouteId:e,...c}))},[a,e])}var R0={};function db(a,e,s){!e&&!R0[a]&&(R0[a]=!0,Kt(!1,s))}E.memo(E1);function E1({routes:a,future:e,state:s,unstable_onError:i}){return ub(a,void 0,s,i,e)}function T1({basename:a="/",children:e=null,location:s,navigationType:i="POP",navigator:l,static:c=!1}){et(!Pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof s=="string"&&(s=Mr(s));let{pathname:p="/",search:g="",hash:y="",state:v=null,key:x="default"}=s,_=E.useMemo(()=>{let j=Mn(p,d);return j==null?null:{location:{pathname:j,search:g,hash:y,state:v,key:x},navigationType:i}},[d,p,g,y,v,x,i]);return Kt(_!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(un.Provider,{value:f},E.createElement(Go.Provider,{children:e,value:_}))}var wo="get",_o="application/x-www-form-urlencoded";function Ko(a){return a!=null&&typeof a.tagName=="string"}function C1(a){return Ko(a)&&a.tagName.toLowerCase()==="button"}function A1(a){return Ko(a)&&a.tagName.toLowerCase()==="form"}function k1(a){return Ko(a)&&a.tagName.toLowerCase()==="input"}function R1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function O1(a,e){return a.button===0&&(!e||e==="_self")&&!R1(a)}function eh(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,s)=>{let i=a[s];return e.concat(Array.isArray(i)?i.map(l=>[s,l]):[[s,i]])},[]))}function I1(a,e){let s=eh(a);return e&&e.forEach((i,l)=>{s.has(l)||e.getAll(l).forEach(c=>{s.append(l,c)})}),s}var fo=null;function D1(){if(fo===null)try{new FormData(document.createElement("form"),0),fo=!1}catch{fo=!0}return fo}var L1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Td(a){return a!=null&&!L1.has(a)?(Kt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_o}"`),null):a}function U1(a,e){let s,i,l,c,d;if(A1(a)){let f=a.getAttribute("action");i=f?Mn(f,e):null,s=a.getAttribute("method")||wo,l=Td(a.getAttribute("enctype"))||_o,c=new FormData(a)}else if(C1(a)||k1(a)&&(a.type==="submit"||a.type==="image")){let f=a.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||f.getAttribute("action");if(i=p?Mn(p,e):null,s=a.getAttribute("formmethod")||f.getAttribute("method")||wo,l=Td(a.getAttribute("formenctype"))||Td(f.getAttribute("enctype"))||_o,c=new FormData(f,a),!D1()){let{name:g,type:y,value:v}=a;if(y==="image"){let x=g?`${g}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else g&&c.append(g,v)}}else{if(Ko(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=wo,i=null,l=_o,d=a}return c&&l==="text/plain"&&(d=c,c=void 0),{action:i,method:s.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nh(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function M1(a,e,s){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${s}`:e&&Mn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function P1(a,e){if(a.id in e)return e[a.id];try{let s=await import(a.module);return e[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function $1(a,e,s){let i=await Promise.all(a.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await P1(c,s);return d.links?d.links():[]}return[]}));return V1(i.flat(1).filter(z1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function O0(a,e,s,i,l,c){let d=(p,g)=>s[g]?p.route.id!==s[g].route.id:!0,f=(p,g)=>s[g].pathname!==p.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>d(p,g)||f(p,g)):c==="data"?e.filter((p,g)=>{let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function B1(a,e,{includeHydrateFallback:s}={}){return H1(a.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function H1(a){return[...new Set(a)]}function q1(a){let e={},s=Object.keys(a).sort();for(let i of s)e[i]=a[i];return e}function V1(a,e){let s=new Set;return new Set(e),a.reduce((i,l)=>{let c=JSON.stringify(q1(l));return s.has(c)||(s.add(c),i.push({key:c,link:l})),i},[])}function hb(){let a=E.useContext(hi);return Nh(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function G1(){let a=E.useContext(Vo);return Nh(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Eh=E.createContext(void 0);Eh.displayName="FrameworkContext";function fb(){let a=E.useContext(Eh);return Nh(a,"You must render this element inside a <HydratedRouter> element"),a}function K1(a,e){let s=E.useContext(Eh),[i,l]=E.useState(!1),[c,d]=E.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=e,x=E.useRef(null);E.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let M=I=>{I.forEach(O=>{d(O.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[a]),E.useEffect(()=>{if(i){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[i]);let _=()=>{l(!0)},j=()=>{l(!1),d(!1)};return s?a!=="intent"?[c,x,{}]:[c,x,{onFocus:hr(f,_),onBlur:hr(p,j),onMouseEnter:hr(g,_),onMouseLeave:hr(y,j),onTouchStart:hr(v,_)}]:[!1,x,{}]}function hr(a,e){return s=>{a&&a(s),s.defaultPrevented||e(s)}}function F1({page:a,...e}){let{router:s}=hb(),i=E.useMemo(()=>tb(s.routes,a,s.basename),[s.routes,a,s.basename]);return i?E.createElement(J1,{page:a,matches:i,...e}):null}function Y1(a){let{manifest:e,routeModules:s}=fb(),[i,l]=E.useState([]);return E.useEffect(()=>{let c=!1;return $1(a,e,s).then(d=>{c||l(d)}),()=>{c=!0}},[a,e,s]),i}function J1({page:a,matches:e,...s}){let i=dn(),{manifest:l,routeModules:c}=fb(),{basename:d}=hb(),{loaderData:f,matches:p}=G1(),g=E.useMemo(()=>O0(a,e,p,l,i,"data"),[a,e,p,l,i]),y=E.useMemo(()=>O0(a,e,p,l,i,"assets"),[a,e,p,l,i]),v=E.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let j=new Set,M=!1;if(e.forEach(I=>{let O=l.routes[I.route.id];!O||!O.hasLoader||(!g.some(S=>S.route.id===I.route.id)&&I.route.id in f&&c[I.route.id]?.shouldRevalidate||O.hasClientLoader?M=!0:j.add(I.route.id))}),j.size===0)return[];let k=M1(a,d,"data");return M&&j.size>0&&k.searchParams.set("_routes",e.filter(I=>j.has(I.route.id)).map(I=>I.route.id).join(",")),[k.pathname+k.search]},[d,f,i,l,g,e,a,c]),x=E.useMemo(()=>B1(y,l),[y,l]),_=Y1(y);return E.createElement(E.Fragment,null,v.map(j=>E.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),x.map(j=>E.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),_.map(({key:j,link:M})=>E.createElement("link",{key:j,nonce:s.nonce,...M})))}function X1(...a){return e=>{a.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mb&&(window.__reactRouterVersion="7.9.6")}catch{}function Q1({basename:a,children:e,window:s}){let i=E.useRef();i.current==null&&(i.current=PS({window:s,v5Compat:!0}));let l=i.current,[c,d]=E.useState({action:l.action,location:l.location}),f=E.useCallback(p=>{E.startTransition(()=>d(p))},[d]);return E.useLayoutEffect(()=>l.listen(f),[l,f]),E.createElement(T1,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:l})}var pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gb=E.forwardRef(function({onClick:e,discover:s="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:y,viewTransition:v,...x},_){let{basename:j}=E.useContext(un),M=typeof g=="string"&&pb.test(g),k,I=!1;if(typeof g=="string"&&M&&(k=g,mb))try{let B=new URL(window.location.href),ee=g.startsWith("//")?new URL(B.protocol+g):new URL(g),ie=Mn(ee.pathname,j);ee.origin===B.origin&&ie!=null?g=ie+ee.search+ee.hash:I=!0}catch{Kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=h1(g,{relative:l}),[S,A,F]=K1(i,x),K=tj(g,{replace:d,state:f,target:p,preventScrollReset:y,relative:l,viewTransition:v});function z(B){e&&e(B),B.defaultPrevented||K(B)}let X=E.createElement("a",{...x,...F,href:k||O,onClick:I||c?e:z,ref:X1(_,A),target:p,"data-discover":!M&&s==="render"?"true":void 0});return S&&!M?E.createElement(E.Fragment,null,X,E.createElement(F1,{page:O})):X});gb.displayName="Link";var Z1=E.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:f,children:p,...g},y){let v=zr(d,{relative:g.relative}),x=dn(),_=E.useContext(Vo),{navigator:j,basename:M}=E.useContext(un),k=_!=null&&rj(v)&&f===!0,I=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,O=x.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(O=O.toLowerCase(),S=S?S.toLowerCase():null,I=I.toLowerCase()),S&&M&&(S=Mn(S,M)||S);const A=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=O===I||!l&&O.startsWith(I)&&O.charAt(A)==="/",K=S!=null&&(S===I||!l&&S.startsWith(I)&&S.charAt(I.length)==="/"),z={isActive:F,isPending:K,isTransitioning:k},X=F?e:void 0,B;typeof i=="function"?B=i(z):B=[i,F?"active":null,K?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ee=typeof c=="function"?c(z):c;return E.createElement(gb,{...g,"aria-current":X,className:B,ref:y,style:ee,to:d,viewTransition:f},typeof p=="function"?p(z):p)});Z1.displayName="NavLink";var W1=E.forwardRef(({discover:a="render",fetcherKey:e,navigate:s,reloadDocument:i,replace:l,state:c,method:d=wo,action:f,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:v,...x},_)=>{let j=aj(),M=ij(f,{relative:g}),k=d.toLowerCase()==="get"?"get":"post",I=typeof f=="string"&&pb.test(f),O=S=>{if(p&&p(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,F=A?.getAttribute("formmethod")||d;j(A||S.currentTarget,{fetcherKey:e,method:F,navigate:s,replace:l,state:c,relative:g,preventScrollReset:y,viewTransition:v})};return E.createElement("form",{ref:_,method:k,action:M,onSubmit:i?p:O,...x,"data-discover":!I&&a==="render"?"true":void 0})});W1.displayName="Form";function ej(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(a){let e=E.useContext(hi);return et(e,ej(a)),e}function tj(a,{target:e,replace:s,state:i,preventScrollReset:l,relative:c,viewTransition:d}={}){let f=$e(),p=dn(),g=zr(a,{relative:c});return E.useCallback(y=>{if(O1(y,e)){y.preventDefault();let v=s!==void 0?s:Rr(p)===Rr(g);f(a,{replace:v,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[p,f,g,s,i,e,a,l,c,d])}function bb(a){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(eh(a)),s=E.useRef(!1),i=dn(),l=E.useMemo(()=>I1(i.search,s.current?null:e.current),[i.search]),c=$e(),d=E.useCallback((f,p)=>{const g=eh(typeof f=="function"?f(new URLSearchParams(l)):f);s.current=!0,c("?"+g,p)},[c,l]);return[l,d]}var nj=0,sj=()=>`__${String(++nj)}__`;function aj(){let{router:a}=yb("useSubmit"),{basename:e}=E.useContext(un),s=S1();return E.useCallback(async(i,l={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=U1(i,e);if(l.navigate===!1){let y=l.fetcherKey||sj();await a.fetch(y,s,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await a.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,e,s])}function ij(a,{relative:e}={}){let{basename:s}=E.useContext(un),i=E.useContext(Hn);et(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...zr(a||".",{relative:e})},d=dn();if(a==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Un([s,c.pathname])),Rr(c)}function rj(a,{relative:e}={}){let s=E.useContext(lb);et(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yb("useViewTransitionState"),l=zr(a,{relative:e});if(!s.isTransitioning)return!1;let c=Mn(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=Mn(s.nextLocation.pathname,i)||s.nextLocation.pathname;return ko(l.pathname,d)!=null||ko(l.pathname,c)!=null}function lj(){return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[u.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),u.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),u.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const oj="modulepreload",cj=function(a){return"/"+a},I0={},$r=function(e,s,i){let l=Promise.resolve();if(s&&s.length>0){let g=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var d=g;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");l=g(s.map(y=>{if(y=cj(y),y in I0)return;I0[y]=!0;const v=y.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":oj,v||(_.as="script"),_.crossOrigin="",_.href=y,p&&_.setAttribute("nonce",p),document.head.appendChild(_),v)return new Promise((j,M)=>{_.addEventListener("load",j),_.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return l.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})},uj=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...s)=>$r(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},[]).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class Th extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class dj extends Th{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class D0 extends Th{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class L0 extends Th{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var th;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(th||(th={}));var hj=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};class fj{constructor(e,{headers:s={},customFetch:i,region:l=th.Any}={}){this.url=e,this.headers=s,this.region=l,this.fetch=uj(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var i;return hj(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:d}=s;let f={},{region:p}=s;p||(p=this.region);const g=new URL(`${this.url}/${e}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(f["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(f["Content-Type"]="application/json",y=JSON.stringify(d)));const v=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y}).catch(M=>{throw new dj(M)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new D0(v);if(!v.ok)throw new L0(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield v.json():_==="application/octet-stream"?j=yield v.blob():_==="text/event-stream"?j=v:_==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof L0||l instanceof D0?l.context:void 0}}})}}var st={},Fa={},Ya={},Ja={},Xa={},Qa={},mj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ui=mj();const pj=ui.fetch,vb=ui.fetch.bind(ui),xb=ui.Headers,gj=ui.Request,yj=ui.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:xb,Request:gj,Response:yj,default:vb,fetch:pj},Symbol.toStringTag,{value:"Module"})),bj=M_(fi);var mo={},U0;function wb(){if(U0)return mo;U0=1,Object.defineProperty(mo,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return mo.default=a,mo}var M0;function _b(){if(M0)return Qa;M0=1;var a=Qa&&Qa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Qa,"__esModule",{value:!0});const e=a(bj),s=a(wb());class i{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,x,_;let j=null,M=null,k=null,I=g.status,O=g.statusText;if(g.ok){if(this.method!=="HEAD"){const K=await g.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?M=K:M=JSON.parse(K))}const A=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),F=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&F&&F.length>1&&(k=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(j={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,k=null,I=406,O="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const A=await g.text();try{j=JSON.parse(A),Array.isArray(j)&&g.status===404&&(M=[],j=null,I=200,O="OK")}catch{g.status===404&&A===""?(I=204,O="No Content"):j={message:A}}if(j&&this.isMaybeSingle&&(!((_=j?.details)===null||_===void 0)&&_.includes("0 rows"))&&(j=null,I=200,O="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:M,count:k,status:I,statusText:O}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,v,x;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=g?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return Qa.default=i,Qa}var P0;function Sb(){if(P0)return Xa;P0=1;var a=Xa&&Xa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xa,"__esModule",{value:!0});const e=a(_b());class s extends e.default{select(l){let c=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,c,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(g,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var y;const v=[l?"analyze":null,c?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Xa.default=s,Xa}var z0;function Ch(){if(z0)return Ja;z0=1;var a=Ja&&Ja.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ja,"__esModule",{value:!0});const e=a(Sb());class s extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Ja.default=s,Ja}var $0;function jb(){if($0)return Ya;$0=1;var a=Ya&&Ya.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ya,"__esModule",{value:!0});const e=a(Ch());class s{constructor(l,{headers:c={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(c),this.schema=d,this.fetch=f}select(l,{head:c=!1,count:d}={}){const f=c?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((x,_)=>x.concat(Object.keys(_)),[]);if(v.length>0){const x=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:c}={}){var d;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var c;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ya.default=s,Ya}var B0;function vj(){if(B0)return Fa;B0=1;var a=Fa&&Fa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fa,"__esModule",{value:!0});const e=a(jb()),s=a(Ch());class i{constructor(c,{headers:d={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:f=!1,get:p=!1,count:g}={}){var y;let v;const x=new URL(`${this.url}/rpc/${c}`);let _;f||p?(v=f?"HEAD":"GET",Object.entries(d).filter(([M,k])=>k!==void 0).map(([M,k])=>[M,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([M,k])=>{x.searchParams.append(M,k)})):(v="POST",_=d);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new s.default({method:v,url:x,headers:j,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Fa.default=i,Fa}var H0;function xj(){if(H0)return st;H0=1;var a=st&&st.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const e=a(vj());st.PostgrestClient=e.default;const s=a(jb());st.PostgrestQueryBuilder=s.default;const i=a(Ch());st.PostgrestFilterBuilder=i.default;const l=a(Sb());st.PostgrestTransformBuilder=l.default;const c=a(_b());st.PostgrestBuilder=c.default;const d=a(wb());return st.PostgrestError=d.default,st.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:d.default},st}var wj=xj();const _j=U_(wj),{PostgrestClient:Sj,PostgrestQueryBuilder:RR,PostgrestFilterBuilder:OR,PostgrestTransformBuilder:IR,PostgrestBuilder:DR,PostgrestError:LR}=_j;class jj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Nj="2.15.5",Ej=`realtime-js/${Nj}`,Tj="1.0.0",nh=1e4,Cj=1e3,Aj=100;var wr;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(wr||(wr={}));var Ze;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ze||(Ze={}));var Qt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Qt||(Qt={}));var sh;(function(a){a.websocket="websocket"})(sh||(sh={}));var Qs;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Qs||(Qs={}));class kj{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const l=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const f=i.decode(e.slice(d,d+l));d=d+l;const p=i.decode(e.slice(d,d+c));d=d+c;const g=JSON.parse(i.decode(e.slice(d,e.byteLength)));return{ref:null,topic:f,event:p,payload:g}}}class Nb{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Le||(Le={}));const q0=(a,e,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((c,d)=>(c[d]=Rj(d,a,e,l),c),{})},Rj=(a,e,s,i)=>{const l=e.find(f=>f.name===a),c=l?.type,d=s[a];return c&&!i.includes(c)?Eb(c,d):ah(d)},Eb=(a,e)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return Lj(e,s)}switch(a){case Le.bool:return Oj(e);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Ij(e);case Le.json:case Le.jsonb:return Dj(e);case Le.timestamp:return Uj(e);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return ah(e);default:return ah(e)}},ah=a=>a,Oj=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Ij=a=>{if(typeof a=="string"){const e=parseFloat(a);if(!Number.isNaN(e))return e}return a},Dj=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(e){return console.log(`JSON parse error: ${e}`),a}return a},Lj=(a,e)=>{if(typeof a!="string")return a;const s=a.length-1,i=a[s];if(a[0]==="{"&&i==="}"){let c;const d=a.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Eb(e,f))}return a},Uj=a=>typeof a=="string"?a.replace(" ","T"):a,Tb=a=>{let e=a;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Cd{constructor(e,s,i={},l=nh){this.channel=e,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var V0;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(V0||(V0={}));class _r{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_r.syncState(this.state,l,c,d),this.pendingDiffs.forEach(p=>{this.state=_r.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=_r.syncDiff(this.state,l,c,d),f())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,l){const c=this.cloneDeep(e),d=this.transformState(s),f={},p={};return this.map(c,(g,y)=>{d[g]||(p[g]=y)}),this.map(d,(g,y)=>{const v=c[g];if(v){const x=y.map(k=>k.presence_ref),_=v.map(k=>k.presence_ref),j=y.filter(k=>_.indexOf(k.presence_ref)<0),M=v.filter(k=>x.indexOf(k.presence_ref)<0);j.length>0&&(f[g]=j),M.length>0&&(p[g]=M)}else f[g]=y}),this.syncDiff(c,{joins:f,leaves:p},i,l)}static syncDiff(e,s,i,l){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(f,p)=>{var g;const y=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(p),y.length>0){const v=e[f].map(_=>_.presence_ref),x=y.filter(_=>v.indexOf(_.presence_ref)<0);e[f].unshift(...x)}i(f,y,p)}),this.map(d,(f,p)=>{let g=e[f];if(!g)return;const y=p.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),e[f]=g,l(f,g,p),g.length===0&&delete e[f]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const l=e[i];return"metas"in l?s[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=l,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G0;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(G0||(G0={}));var Sr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Sr||(Sr={}));var In;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(In||(In={}));class Ah{constructor(e,s={config:{}},i){this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Cd(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Nb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new _r(this),this.broadcastEndpointURL=Tb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var i,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Sr.PRESENCE]&&this.bindings[Sr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},x={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(In.CHANNEL_ERROR,_)),this._onClose(()=>e?.(In.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket.setAuth(),_===void 0){e?.(In.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,k=(j=M?.length)!==null&&j!==void 0?j:0,I=[];for(let O=0;O<k;O++){const S=M[O],{filter:{event:A,schema:F,table:K,filter:z}}=S,X=_&&_[O];if(X&&X.event===A&&X.schema===F&&X.table===K&&X.filter===z)I.push(Object.assign(Object.assign({},S),{id:X.id}));else{this.unsubscribe(),this.state=Ze.errored,e?.(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(In.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ze.errored,e?.(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===Ze.joined&&e===Sr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,p;const g=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Cd(this,Qt.leave,{},e),i.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),d}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Cd(this,e,s,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Aj){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var l,c;const d=e.toLocaleLowerCase(),{close:f,error:p,leave:g,join:y}=Qt;if(i&&[f,p,g,y].indexOf(d)>=0&&i!==this._joinRef())return;let x=this._onMessage(d,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var j,M,k;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(M=_.filter)===null||M===void 0?void 0:M.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(_=>_.callback(x,i)):(c=this.bindings[d])===null||c===void 0||c.filter(_=>{var j,M,k,I,O,S;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const A=_.id,F=(j=_.filter)===null||j===void 0?void 0:j.event;return A&&((M=s.ids)===null||M===void 0?void 0:M.includes(A))&&(F==="*"||F?.toLocaleLowerCase()===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(O=(I=_?.filter)===null||I===void 0?void 0:I.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return A==="*"||A===((S=s?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:M,table:k,commit_timestamp:I,type:O,errors:S}=j;x=Object.assign(Object.assign({},{schema:M,table:k,commit_timestamp:I,eventType:O,new:{},old:{},errors:S}),this._getPayloadRecords(j))}_.callback(x,i)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const l=e.toLocaleLowerCase(),c={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Ah.isEqual(l.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=q0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=q0(e.columns,e.old_record)),s}}const Ad=()=>{},po={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mj=[1e3,2e3,5e3,1e4],Pj=1e4,zj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $j{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nh,this.transport=null,this.heartbeatIntervalMs=po.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ad,this.ref=0,this.reconnectTimer=null,this.logger=Ad,this.conn=null,this.sendBuffer=[],this.serializer=new kj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>$r(async()=>{const{default:f}=await Promise.resolve().then(()=>fi);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${sh.websocket}`,this.httpEndpoint=Tb(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Tj}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Qs.Connecting;case wr.open:return Qs.Open;case wr.closing:return Qs.Closing;default:return Qs.Closed}}isConnected(){return this.connectionState()===Qs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new Ah(`realtime:${e}`,s,this);return this.channels.push(c),c}}push(e){const{topic:s,event:i,payload:l,ref:c}=e,d=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${i} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Cj,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},po.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:c,ref:d}=s,f=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${i} ${l} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(l,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${e}${i}${l}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([zj],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const l={access_token:s,version:Ej};s&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Qt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Nb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},po.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,l,c,d,f,p,g,y;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:nh,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:po.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Ad,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(v=>Mj[v-1]||Pj),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((v,x)=>x(JSON.stringify(v))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class kh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function We(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Bj extends kh{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ih extends kh{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Hj=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};const Cb=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...s)=>$r(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},qj=()=>Hj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $r(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),rh=a=>{if(Array.isArray(a))return a.map(s=>rh(s));if(typeof a=="function"||a!==Object(a))return a;const e={};return Object.entries(a).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=rh(i)}),e},Vj=a=>{if(typeof a!="object"||a===null)return!1;const e=Object.getPrototypeOf(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var aa=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};const kd=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Gj=(a,e,s)=>aa(void 0,void 0,void 0,function*(){const i=yield qj();a instanceof i&&!s?.noResolveJson?a.json().then(l=>{const c=a.status||500,d=l?.statusCode||c+"";e(new Bj(kd(l),c,d))}).catch(l=>{e(new ih(kd(l),l))}):e(new ih(kd(a),a))}),Kj=(a,e,s,i)=>{const l={method:a,headers:e?.headers||{}};return a==="GET"||!i?l:(Vj(i)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(i)):l.body=i,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),s))};function Br(a,e,s,i,l,c){return aa(this,void 0,void 0,function*(){return new Promise((d,f)=>{a(s,Kj(e,i,l,c)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Gj(p,f,i))})})}function Ro(a,e,s,i){return aa(this,void 0,void 0,function*(){return Br(a,"GET",e,s,i)})}function an(a,e,s,i,l){return aa(this,void 0,void 0,function*(){return Br(a,"POST",e,i,l,s)})}function lh(a,e,s,i,l){return aa(this,void 0,void 0,function*(){return Br(a,"PUT",e,i,l,s)})}function Fj(a,e,s,i){return aa(this,void 0,void 0,function*(){return Br(a,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Ab(a,e,s,i,l){return aa(this,void 0,void 0,function*(){return Br(a,"DELETE",e,i,l,s)})}var mt=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};const Yj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jj{constructor(e,s={},i,l){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=Cb(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,l){return mt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},K0),l);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=i,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),v=yield(e=="PUT"?lh:an)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(We(c))return{data:null,error:c};throw c}})}upload(e,s,i){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,l){return mt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:K0.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield lh(this.fetch,f.toString(),p,{headers:y});return{data:{path:c,fullPath:v.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(We(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,s){return mt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const c=yield an(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+c.url),f=d.searchParams.get("token");if(!f)throw new kh("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}})}update(e,s,i){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return mt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}copy(e,s,i){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}createSignedUrl(e,s,i){return mt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield an(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}createSignedUrls(e,s,i){return mt(this,void 0,void 0,function*(){try{const l=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}download(e,s){return mt(this,void 0,void 0,function*(){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),d=c?`?${c}`:"";try{const f=this._getFinalPath(e);return{data:yield(yield Ro(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(We(f))return{data:null,error:f};throw f}})}info(e){return mt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield Ro(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}})}exists(e){return mt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Fj(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i)&&i instanceof ih){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),l=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const f=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&l.push(p);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${g}`)}}}remove(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}list(e,s,i){return mt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Yj),s),{prefix:e||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}listV2(e,s){return mt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield an(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Xj="2.12.1",Qj={"X-Client-Info":`storage-js/${Xj}`};var Za=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};class Zj{constructor(e,s={},i,l){this.shouldThrowOnError=!1;const c=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Qj),s),this.fetch=Cb(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Za(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}getBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Za(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}})}updateBucket(e,s){return Za(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}class Wj extends Zj{constructor(e,s={},i,l){super(e,s,i,l)}from(e){return new Jj(this.url,this.headers,e,this.fetch)}}const eN="2.57.4";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const tN={"X-Client-Info":`supabase-js-${yr}/${eN}`},nN={headers:tN},sN={schema:"public"},aN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iN={};var rN=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};const lN=a=>{let e;return a?e=a:typeof fetch>"u"?e=vb:e=fetch,(...s)=>e(...s)},oN=()=>typeof Headers>"u"?xb:Headers,cN=(a,e,s)=>{const i=lN(s),l=oN();return(c,d)=>rN(void 0,void 0,void 0,function*(){var f;const p=(f=yield e())!==null&&f!==void 0?f:a;let g=new l(d?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(c,Object.assign(Object.assign({},d),{headers:g}))})};var uN=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};function dN(a){return a.endsWith("/")?a:a+"/"}function hN(a,e){var s,i;const{db:l,auth:c,realtime:d,global:f}=a,{db:p,auth:g,realtime:y,global:v}=e,x={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(s=v?.headers)!==null&&s!==void 0?s:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>uN(this,void 0,void 0,function*(){return""})};return a.accessToken?x.accessToken=a.accessToken:delete x.accessToken,x}function fN(a){const e=a?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kb="2.71.1",ai=30*1e3,oh=3,Rd=oh*ai,mN="http://localhost:9999",pN="supabase.auth.token",gN={"X-Client-Info":`gotrue-js/${kb}`},ch="X-Supabase-Api-Version",Rb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bN=600*1e3;class Rh extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function de(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class vN extends Rh{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function xN(a){return de(a)&&a.name==="AuthApiError"}class Ob extends Rh{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Es extends Rh{constructor(e,s,i,l){super(e,i,l),this.name=s,this.status=i}}class ys extends Es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wN(a){return de(a)&&a.name==="AuthSessionMissingError"}class go extends Es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yo extends Es{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bo extends Es{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _N(a){return de(a)&&a.name==="AuthImplicitGrantRedirectError"}class F0 extends Es{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uh extends Es{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Od(a){return de(a)&&a.name==="AuthRetryableFetchError"}class Y0 extends Es{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class dh extends Es{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J0=` 	
\r=`.split(""),SN=(()=>{const a=new Array(128);for(let e=0;e<a.length;e+=1)a[e]=-1;for(let e=0;e<J0.length;e+=1)a[J0[e].charCodeAt(0)]=-2;for(let e=0;e<Oo.length;e+=1)a[Oo[e].charCodeAt(0)]=e;return a})();function X0(a,e,s){if(a!==null)for(e.queue=e.queue<<8|a,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Oo[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Oo[i]),e.queuedBits-=6}}function Ib(a,e,s){const i=SN[a];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Q0(a){const e=[],s=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{EN(d,i,s)};for(let d=0;d<a.length;d+=1)Ib(a.charCodeAt(d),l,c);return e.join("")}function jN(a,e){if(a<=127){e(a);return}else if(a<=2047){e(192|a>>6),e(128|a&63);return}else if(a<=65535){e(224|a>>12),e(128|a>>6&63),e(128|a&63);return}else if(a<=1114111){e(240|a>>18),e(128|a>>12&63),e(128|a>>6&63),e(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function NN(a,e){for(let s=0;s<a.length;s+=1){let i=a.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(a.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}jN(i,e)}}function EN(a,e,s){if(e.utf8seq===0){if(a<=127){s(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=a&31;else if(e.utf8seq===3)e.codepoint=a&15;else if(e.utf8seq===4)e.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|a&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function TN(a){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<a.length;l+=1)Ib(a.charCodeAt(l),s,i);return new Uint8Array(e)}function CN(a){const e=[];return NN(a,s=>e.push(s)),new Uint8Array(e)}function AN(a){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};return a.forEach(l=>X0(l,s,i)),X0(null,s,i),e.join("")}function kN(a){return Math.round(Date.now()/1e3)+a}function RN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const e=Math.random()*16|0;return(a=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",Fs={tested:!1,writable:!1},Db=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fs.tested)return Fs.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Fs.tested=!0,Fs.writable=!0}catch{Fs.tested=!0,Fs.writable=!1}return Fs.writable};function ON(a){const e={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return s.searchParams.forEach((i,l)=>{e[l]=i}),e}const Lb=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...s)=>$r(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},IN=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",ii=async(a,e,s)=>{await a.setItem(e,JSON.stringify(s))},Ys=async(a,e)=>{const s=await a.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ps=async(a,e)=>{await a.removeItem(e)};let Ub=class Mb{constructor(){this.promise=new Mb.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}};Ub.promiseConstructor=Promise;function Id(a){const e=a.split(".");if(e.length!==3)throw new dh("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!yN.test(e[i]))throw new dh("JWT not in base64url format");return{header:JSON.parse(Q0(e[0])),payload:JSON.parse(Q0(e[1])),signature:TN(e[2]),raw:{header:e[0],payload:e[1]}}}async function DN(a){return await new Promise(e=>{setTimeout(()=>e(null),a)})}function LN(a,e){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await a(c);if(!e(c,null,d)){i(d);return}}catch(d){if(!e(c,d)){l(d);return}}})()})}function UN(a){return("0"+a.toString(16)).substr(-2)}function MN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,UN).join("")}async function PN(a){const s=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function zN(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await PN(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wa(a,e,s=!1){const i=MN();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await ii(a,`${e}-code-verifier`,l);const c=await zN(i);return[c,i===c?"plain":"s256"]}const $N=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BN(a){const e=a.headers.get(ch);if(!e||!e.match($N))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function HN(a){if(!a)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(a<=e)throw new Error("JWT has expired")}function qN(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ei(a){if(!VN.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dd(){const a={};return new Proxy(a,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z0(a){return JSON.parse(JSON.stringify(a))}var GN=function(a,e){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(s[i[l]]=a[i[l]]);return s};const Js=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),KN=[502,503,504];async function W0(a){var e;if(!IN(a))throw new uh(Js(a),0);if(KN.includes(a.status))throw new uh(Js(a),a.status);let s;try{s=await a.json()}catch(c){throw new Ob(Js(c),c)}let i;const l=BN(a);if(l&&l.getTime()>=Rb["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Y0(Js(s),a.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ys}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Y0(Js(s),a.status,s.weak_password.reasons);throw new vN(Js(s),a.status||500,i)}const FN=(a,e,s,i)=>{const l={method:a,headers:e?.headers||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function be(a,e,s,i){var l;const c=Object.assign({},i?.headers);c[ch]||(c[ch]=Rb["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const d=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await YN(a,e,s+f,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function YN(a,e,s,i,l,c){const d=FN(e,i,l,c);let f;try{f=await a(s,Object.assign({},d))}catch(p){throw console.error(p),new uh(Js(p),0)}if(f.ok||await W0(f),i?.noResolveJson)return f;try{return await f.json()}catch(p){await W0(p)}}function On(a){var e;let s=null;ZN(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=kN(a.expires_in)));const i=(e=a.user)!==null&&e!==void 0?e:a;return{data:{session:s,user:i},error:null}}function ey(a){const e=On(a);return!e.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=a.weak_password),e}function bs(a){var e;return{data:{user:(e=a.user)!==null&&e!==void 0?e:a},error:null}}function JN(a){return{data:a,error:null}}function XN(a){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c}=a,d=GN(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function QN(a){return a}function ZN(a){return a.access_token&&a.refresh_token&&a.expires_in}const Ld=["global","local","others"];var WN=function(a,e){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(s[i[l]]=a[i[l]]);return s};class e2{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=Lb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Ld[0]){if(Ld.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ld.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:bs})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=WN(e,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:XN,redirectTo:s?.redirectTo})}catch(s){if(de(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bs})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,l,c,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:QN});if(y.error)throw y.error;const v=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(j=>{const M=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);g[`${k}Page`]=M}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(de(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){ei(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bs})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){ei(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:bs})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){ei(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:bs})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ei(e.userId);try{const{data:s,error:i}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(de(s))return{data:null,error:s};throw s}}async _deleteFactor(e){ei(e.userId),ei(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}}function ty(a={}){return{getItem:e=>a[e]||null,setItem:(e,s)=>{a[e]=s},removeItem:e=>{delete a[e]}}}function t2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ti={debug:!!(globalThis&&Db()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n2 extends Pb{}async function s2(a,e,s){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await s()}finally{ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(e===0)throw ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new n2(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(ti.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}t2();const a2={url:mN,storageKey:pN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ny(a,e,s){return await s()}const ni={};class Or{constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Or.nextInstanceID,Or.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},a2),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new e2({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Lb(l.fetch),this.lock=l.lock||ny,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Xt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=s2:this.lock=ny,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Db()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ty(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=ty(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){ni[this.storageKey]=Object.assign(Object.assign({},ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ni[this.storageKey]=Object.assign(Object.assign({},ni[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=ON(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),Xt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),_N(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return de(s)?{error:s}:{error:new Ob("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,l;try{const c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:On}),{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(de(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var s,i,l;try{let c;if("email"in e){const{email:y,password:v,options:x}=e;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await Wa(this.storage,this.storageKey)),c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:v,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:_,code_challenge_method:j},xform:On})}else if("phone"in e){const{phone:y,password:v,options:x}=e;c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(l=x?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:On})}else throw new yo("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(de(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let s;if("email"in e){const{email:c,password:d,options:f}=e;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ey})}else if("phone"in e){const{phone:c,password:d,options:f}=e;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ey})}else throw new yo("You must provide either an email or phone number and a password");const{data:i,error:l}=s;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new go}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,i,l,c,d,f,p,g,y,v,x,_;let j,M;if("message"in e)j=e.message,M=e.signature;else{const{chain:k,wallet:I,statement:O,options:S}=e;let A;if(Xt())if(typeof I=="object")A=I;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))A=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=I}const F=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in A&&A.signIn){const K=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),O?{statement:O}:null));let z;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")z=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)z=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)j=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),M=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${F.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(l=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=S?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((f=S?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((p=S?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((g=S?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((v=(y=S?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...S.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const K=await A.signMessage(new TextEncoder().encode(j),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=K}}try{const{data:k,error:I}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:AN(M)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:On});if(I)throw I;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new go}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:I})}catch(k){if(de(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const s=await Ys(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:On});if(await ps(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new go}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(de(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:s,provider:i,token:l,access_token:c,nonce:d}=e,f=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:On}),{data:p,error:g}=f;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new go}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,l,c,d;try{if("email"in e){const{email:f,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Wa(this.storage,this.storageKey));const{error:v}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:f,options:p}=e,{data:g,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new yo("You must provide either an email or phone number.")}catch(f){if(de(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var s,i;try{let l,c;"options"in e&&(l=(s=e.options)===null||s===void 0?void 0:s.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:On});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var s,i,l;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Wa(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:JN})}catch(c){if(de(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new ys;const{error:l}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:c}=e,{error:d}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:i,type:l,options:c}=e,{data:d,error:f}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new yo("You must provide either an email or phone number and a type")}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await Ys(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=Dd()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:e},error:null}}const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bs}):await this._useSession(async s=>{var i,l,c;const{data:d,error:f}=s;if(f)throw f;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:bs})})}catch(s){if(de(s))return wN(s)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new ys;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Wa(this.storage,this.storageKey));const{data:g,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:bs});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ys;const s=Date.now()/1e3;let i=s,l=!0,c=null;const{payload:d}=Id(e.access_token);if(d.exp&&(i=d.exp,l=i<=s),l){const{session:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(de(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:d,error:f}=s;if(f)throw f;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new ys;const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Xt())throw new bo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new F0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new F0("No code detected.");const{data:O,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=e;if(!c||!f||!d||!g)throw new bo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let x=y+v;p&&(x=parseInt(p));const _=x-y;_*1e3<=ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const j=x-v;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,y);const{data:M,error:k}=await this._getUser(c);if(k)throw k;const I={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:v,expires_at:x,refresh_token:d,token_type:g,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(i){if(de(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return{error:c};const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:f}=await this.admin.signOut(d,e);if(f&&!(xN(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=RN(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,l;try{const{data:{session:c},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Wa(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(de(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:i,error:l}=await this._useSession(async c=>{var d,f,p,g,y;const{data:v,error:x}=c;if(x)throw x;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Xt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(de(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:d}=s;if(d)throw d;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await LN(async l=>(l>0&&await DN(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:On})),(l,c)=>{const d=200*Math.pow(2,l);return c&&Od(c)&&Date.now()+d-i<ai})}catch(i){if(this._debug(s,"error",i),de(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),Xt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Ys(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await ii(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d?.user)!==null&&e!==void 0?e:Dd()}else if(l&&!l.user&&!l.user){const d=await Ys(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await ps(this.storage,this.storageKey+"-user"),await ii(this.storage,this.storageKey,l)):l.user=Dd()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Rd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${Rd}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Od(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ub;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new ys;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),de(c)){const d={session:null,error:c};return Od(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,s,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,s)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await ii(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Z0(l);await ii(this.storage,this.storageKey,c)}else{const l=Z0(s);await ii(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ai);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${ai}ms, refresh threshold is ${oh} ticks`),l<=oh&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,d]=await Wa(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?{data:null,error:c}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:d}=s;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:g}=await be(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(s){if(de(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?{data:null,error:c}:await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(de(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=e?.factors||[],l=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:l},error:c}=e;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Id(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((i=(s=l.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(f=>f.kid===e);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+bN>l)return i;const{data:c,error:d}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,i=c.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:_,error:j}=await this.getSession();if(j||!_.session)return{data:null,error:j};i=_.session.access_token}const{header:l,payload:c,signature:d,raw:{header:f,payload:p}}=Id(i);s?.allowExpired||HN(c.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:c,header:l,signature:d},error:null}}const y=qN(l.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,d,CN(`${f}.${p}`)))throw new dh("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}}Or.nextInstanceID=0;const i2=Or;class r2 extends i2{constructor(e){super(e)}}var l2=function(a,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(y){try{g(i.next(y))}catch(v){d(v)}}function p(y){try{g(i.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):l(y.value).then(f,p)}g((i=i.apply(a,e||[])).next())})};class o2{constructor(e,s,i){var l,c,d;this.supabaseUrl=e,this.supabaseKey=s;const f=fN(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:sN,realtime:iN,auth:Object.assign(Object.assign({},aN),{storageKey:p}),global:nN},y=hN(i??{},g);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=cN(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Sj(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Wj(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new fj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return l2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:d,flowType:f,lock:p,debug:g},y,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r2({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:d,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:c,flowType:f,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $j(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const c2=(a,e,s)=>new o2(a,e,s);function u2(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const e=a.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}u2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zb="https://ytffobltrwkgxiedorsd.supabase.co",$b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0ZmZvYmx0cndrZ3hpZWRvcnNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyNTAxODcsImV4cCI6MjA3OTgyNjE4N30.LT6RINgyyjIriwdBV4DGP3GeXl2AVRetT1rStFFXpn8";console.log(" Supabase Configuration Debug:");console.log("URL:",` ${zb.substring(0,30)}...`);console.log("ANON_KEY:",` ${$b.substring(0,30)}...`);const fe=c2(zb,$b),fr={signInWithEmail:async(a,e)=>{const{data:s,error:i}=await fe.auth.signInWithPassword({email:a,password:e});return{data:s,error:i}},signUp:async(a,e,s)=>{const{data:i,error:l}=await fe.auth.signUp({email:a,password:e,options:{data:{name:s}}});return{data:i,error:l}},signOut:async()=>{const{error:a}=await fe.auth.signOut();return{error:a}},getSession:async()=>{const{data:a,error:e}=await fe.auth.getSession();return{data:a,error:e}},getCurrentUser:async()=>{const{data:{user:a},error:e}=await fe.auth.getUser();return{user:a,error:e}},onAuthStateChange:a=>fe.auth.onAuthStateChange(a)},d2={findUserByPhoneNumber:async a=>{try{console.log("   :",a);const{data:e,error:s}=await fe.from("users").select("*").eq("phone_number",a),i=e&&e.length>0?e[0]:null;if(console.log(" Supabase :",{hasUser:!!i,errorMessage:s?.message,errorCode:s?.code}),s)throw s;return{user:i,error:null}}catch(e){return console.error("   :",e),{user:null,error:e}}},findUserByFirebaseUid:async a=>{try{console.log(" Firebase UID  :",a);const{data:e,error:s}=await fe.from("users").select("*").eq("firebase_uid",a),i=e&&e.length>0?e[0]:null;if(s)throw s;return{user:i,error:null}}catch(e){return console.error(" Firebase UID  :",e),{user:null,error:e}}},createUserProfile:async a=>{try{console.log("    :",a.phone_number);const{data:e,error:s}=await fe.from("users").insert([a]).select(),i=e&&e.length>0?e[0]:null;if(s)throw s;return console.log("    :",i),{data:i,error:null}}catch(e){return console.error("    :",e),{data:null,error:e}}},updateUserProfile:async(a,e)=>{try{const{data:s,error:i}=await fe.from("users").update(e).eq("id",a).select(),l=s&&s.length>0?s[0]:null;if(i)throw i;return{data:l,error:null}}catch(s){return console.error("   :",s),{data:null,error:s}}}},Bb=E.createContext(void 0);function h2({children:a}){const[e,s]=E.useState(null),i=!1;E.useEffect(()=>{let p=!0;fr.getSession().then(({data:y,error:v})=>{p&&(v&&console.error("Session error:",v),s(y.session?.user??null))}).catch(y=>{p&&console.error("Session check failed:",y)});const{data:{subscription:g}}=fr.onAuthStateChange((y,v)=>{p&&s(v?.user??null)});return()=>{p=!1,g.unsubscribe()}},[]);const f={user:e,loading:i,signIn:async(p,g)=>{const{data:y,error:v}=await fr.signInWithEmail(p,g);return y.user&&s(y.user),{error:v}},signUp:async(p,g,y)=>{const{data:v,error:x}=await fr.signUp(p,g,y);return v.user&&s(v.user),{error:x}},signOut:async()=>{await fr.signOut(),s(null)}};return u.jsx(Bb.Provider,{value:f,children:a})}function Fo(){const a=E.useContext(Bb);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}function f2({coins:a=0}){const e=$e(),[s,i]=E.useState(!1),l=2,c=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),e("/login")};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"fixed top-0 left-0 right-0 glass z-50 transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 max-w-screen-xl mx-auto",children:[u.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:u.jsxs("h1",{className:"flex items-center space-x-2 group",children:[u.jsxs("div",{className:"relative transform transition-transform group-hover:scale-110 duration-300",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg shadow-primary-500/30",children:u.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-xl animate-pulse-soft"})})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary-400 rounded-full border-2 border-white animate-bounce"})]}),u.jsx("span",{className:"text-2xl font-bold font-display bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent tracking-tight",children:"Attract"})]})}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("button",{onClick:()=>e("/coin-shop"),className:"group flex items-center space-x-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white px-4 py-2 rounded-full hover:from-primary-600 hover:to-primary-700 transition-all duration-300 shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transform hover:-translate-y-0.5",children:[u.jsx("i",{className:"ri-copper-coin-fill text-lg group-hover:rotate-12 transition-transform"}),u.jsx("span",{className:"text-sm font-bold font-display",children:a.toLocaleString()})]}),u.jsxs("button",{onClick:()=>e("/notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors relative group",children:[u.jsx("i",{className:"ri-notification-line text-slate-600 text-xl group-hover:text-primary-600 transition-colors"}),u.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center border-2 border-white shadow-sm",children:l})]}),u.jsx("button",{onClick:()=>i(!s),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors group",children:u.jsx("i",{className:`ri-menu-line text-slate-600 text-xl group-hover:text-primary-600 transition-colors ${s?"rotate-90":""} duration-300`})})]})]})}),s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40 animate-fade-in",onClick:()=>i(!1)}),u.jsxs("div",{className:"fixed top-20 right-4 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl py-2 w-56 z-50 animate-slide-up border border-white/20",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-slate-100",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"!"}),u.jsx("p",{className:"font-bold text-slate-800",children:""})]}),u.jsx("div",{className:"py-2",children:[{icon:"ri-user-line",label:"",action:()=>{}},{icon:"ri-settings-line",label:"",action:()=>{}},{icon:"ri-question-line",label:"FAQ",action:()=>{}},{icon:"ri-customer-service-line",label:"1:1",action:()=>{}}].map((d,f)=>u.jsxs("button",{onClick:d.action,className:"w-full text-left px-4 py-2.5 hover:bg-primary-50 text-slate-600 hover:text-primary-600 transition-colors flex items-center space-x-3 group",children:[u.jsx("i",{className:`${d.icon} text-lg group-hover:scale-110 transition-transform`}),u.jsx("span",{className:"font-medium",children:d.label})]},f))}),u.jsx("div",{className:"border-t border-slate-100 mt-1 pt-1",children:u.jsxs("button",{onClick:c,className:"w-full text-left px-4 py-2.5 hover:bg-red-50 text-red-500 hover:text-red-600 transition-colors flex items-center space-x-3 group",children:[u.jsx("i",{className:"ri-logout-box-line text-lg group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-medium",children:""})]})})]})]})]})}function m2({activeTab:a,onTabChange:e}){const s=[{id:"matching",icon:"ri-heart-3-line",activeIcon:"ri-heart-3-fill",label:""},{id:"community",icon:"ri-group-line",activeIcon:"ri-group-fill",label:""},{id:"chat",icon:"ri-chat-3-line",activeIcon:"ri-chat-3-fill",label:""},{id:"profile",icon:"ri-user-line",activeIcon:"ri-user-fill",label:"My"}];return u.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50 px-4 flex justify-center pointer-events-none",children:u.jsx("div",{className:"glass rounded-full px-6 py-3 flex items-center justify-between shadow-2xl shadow-primary-500/20 pointer-events-auto max-w-md w-full",children:s.map(i=>{const l=a===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`relative flex flex-col items-center justify-center w-14 h-14 rounded-full transition-all duration-300 group ${l?"text-primary-600 -translate-y-2":"text-slate-400 hover:text-slate-600"}`,children:[l&&u.jsx("span",{className:"absolute -top-2 w-1 h-1 bg-primary-500 rounded-full animate-bounce"}),u.jsx("i",{className:`text-2xl transition-all duration-300 ${l?`${i.activeIcon} scale-110 drop-shadow-md`:`${i.icon} group-hover:scale-110`}`}),u.jsx("span",{className:`text-[10px] font-medium mt-1 transition-all duration-300 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-2 absolute"}`,children:i.label}),l&&u.jsx("div",{className:"absolute inset-0 bg-primary-50 rounded-full -z-10 scale-0 animate-ping opacity-20"})]},i.id)})})})}const p2=a=>a===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function sy(){const a=$e(),[e,s]=E.useState(""),[i,l]=E.useState(!1),[c,d]=E.useState(!1),[f,p]=E.useState(""),[g,y]=E.useState(!0);E.useEffect(()=>{v()},[e]);const v=async()=>{y(!0);try{const I=localStorage.getItem("user");let O=null;I&&(O=JSON.parse(I).id);let S=fe.from("users").select("*");O&&(S=S.neq("id",O)),e&&(S=S.eq("gender",e));const{data:A,error:F}=await S;if(F)throw F;if(A){const K=A.map(z=>({id:z.id,name:z.name||"  ",age:z.age||20,gender:z.gender||"",location:z.location||" ",school:z.school||" ",mbti:z.mbti||"MBTI",character:z.avatar_url||"",bio:z.bio||" .",hasLikedMe:!1}));_(K)}}catch(I){console.error("  :",I),_([])}finally{y(!1)}},[x,_]=E.useState([]),j=x.filter(I=>I.gender===e),M=I=>{p(I),d(!0)},k=I=>{a("/profile-detail",{state:{profile:I}})};return g?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})]}),u.jsx("div",{className:"text-sm font-medium text-slate-500",children:"  ..."})]}):j.length===0?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4 px-4",children:[u.jsx("i",{className:"ri-search-line text-6xl text-slate-300"}),u.jsx("p",{className:"text-center text-slate-600 font-medium",children:"   "})]}):u.jsxs("div",{className:"px-4 py-6 min-h-screen",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:()=>s(""),className:`px-6 py-2.5 rounded-full font-bold transition-all duration-300 whitespace-nowrap cursor-pointer shadow-sm ${e===""?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-primary-500/30 shadow-lg scale-105":"bg-white text-slate-500 hover:bg-slate-50"}`,children:""}),u.jsx("button",{onClick:()=>s(""),className:`px-6 py-2.5 rounded-full font-bold transition-all duration-300 whitespace-nowrap cursor-pointer shadow-sm ${e===""?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-primary-500/30 shadow-lg scale-105":"bg-white text-slate-500 hover:bg-slate-50"}`,children:""})]}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{onClick:()=>l(!i),className:"w-11 h-11 bg-white rounded-full flex items-center justify-center shadow-md cursor-pointer hover:shadow-lg transition-all hover:scale-105 group",children:u.jsx("i",{className:"ri-filter-line text-slate-400 group-hover:text-primary-500 text-xl transition-colors"})})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:j.map(I=>u.jsxs("div",{onClick:()=>k(I),className:"bg-white rounded-3xl shadow-lg overflow-hidden cursor-pointer hover:shadow-2xl hover:shadow-primary-500/10 transition-all duration-300 relative group transform hover:-translate-y-1",children:[I.hasLikedMe&&u.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center z-10 shadow-lg shadow-pink-500/30 animate-pulse-soft",children:u.jsx("i",{className:"ri-heart-fill text-white text-sm"})}),u.jsx("div",{className:"absolute top-3 left-3 w-8 h-8 glass rounded-full flex items-center justify-center z-10",children:u.jsx("i",{className:"ri-women-line text-primary-500 font-bold"})}),u.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-10",children:u.jsx("span",{className:"glass text-primary-700 px-3 py-1 rounded-full text-xs font-bold tracking-wide",children:I.mbti})}),u.jsxs("div",{className:"relative h-72 overflow-hidden bg-slate-100",children:[u.jsx("img",{src:I.character||p2(I.gender),alt:I.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 text-white transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[u.jsx("h3",{className:"font-bold text-xl mb-1 font-display tracking-tight",children:I.name}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-200",children:[u.jsxs("span",{className:"font-medium",children:[I.age,""]}),u.jsxs("div",{className:"flex items-center hover:text-primary-300 transition-colors",onClick:O=>{O.stopPropagation(),M(I.location)},children:[u.jsx("i",{className:"ri-map-pin-line mr-1"}),u.jsx("span",{className:"text-xs",children:I.location})]})]}),u.jsxs("div",{className:"flex items-center text-xs mt-2 text-slate-300 bg-white/10 rounded-lg px-2 py-1 w-fit backdrop-blur-sm",children:[u.jsx("i",{className:"ri-school-line mr-1"}),u.jsx("span",{className:"truncate max-w-[100px]",children:I.school})]})]})]})]},I.id))}),u.jsx("div",{className:"mt-10 text-center pb-8",children:u.jsxs("button",{className:"bg-white text-slate-600 px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl hover:text-primary-600 hover:scale-105 transition-all cursor-pointer whitespace-nowrap flex items-center mx-auto space-x-2",children:[u.jsx("span",{children:" "}),u.jsx("i",{className:"ri-arrow-down-s-line"})]})}),i&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-end animate-fade-in",children:u.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-8 max-h-[85vh] overflow-y-auto animate-slide-up shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold font-display text-slate-800",children:""}),u.jsx("button",{onClick:()=>l(!1),className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:u.jsx("i",{className:"ri-close-line text-2xl text-slate-400"})})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-4 text-lg",children:""}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:()=>s(""),className:`flex-1 py-4 rounded-2xl font-bold transition-all cursor-pointer border-2 ${e===""?"border-primary-500 bg-primary-50 text-primary-600":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:""}),u.jsx("button",{onClick:()=>s(""),className:`flex-1 py-4 rounded-2xl font-bold transition-all cursor-pointer border-2 ${e===""?"border-primary-500 bg-primary-50 text-primary-600":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-4 text-lg",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["","/","/","","",""].map(I=>u.jsx("button",{className:"px-2 py-3 bg-slate-50 text-slate-600 rounded-xl text-sm font-medium hover:bg-primary-50 hover:text-primary-600 transition-colors cursor-pointer whitespace-nowrap border border-transparent hover:border-primary-200",children:I},I))})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-10",children:[u.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold cursor-pointer hover:bg-slate-200 transition-colors",children:""}),u.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-2xl font-bold cursor-pointer shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all",children:""})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-slide-up",children:[u.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-100",children:[u.jsx("h3",{className:"text-xl font-bold font-display text-slate-800",children:f}),u.jsx("button",{onClick:()=>d(!1),className:"w-8 h-8 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:u.jsx("i",{className:"ri-close-line text-xl text-slate-400"})})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("div",{className:"w-full h-64 bg-slate-100 rounded-2xl overflow-hidden shadow-inner",children:u.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dO_X0Q&q=${encodeURIComponent(f)}`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`${f} `})}),u.jsxs("div",{className:"mt-5 space-y-3",children:[u.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-3 rounded-xl",children:[u.jsx("i",{className:"ri-map-pin-line text-primary-500 text-lg mr-3"}),u.jsx("span",{className:"font-medium",children:f})]}),u.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-3 rounded-xl cursor-pointer hover:bg-primary-50 hover:text-primary-700 transition-colors group",children:[u.jsx("i",{className:"ri-navigation-line text-primary-500 text-lg mr-3 group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-medium",children:" "})]})]}),u.jsx("button",{onClick:()=>d(!1),className:"w-full mt-6 bg-gradient-to-r from-primary-500 to-primary-600 text-white py-4 rounded-2xl font-bold hover:from-primary-600 hover:to-primary-700 transition-all cursor-pointer shadow-lg shadow-primary-500/30",children:""})]})]})})]})}function g2({post:a,onBack:e,onUpdatePost:s}){const i=$e(),[l,c]=E.useState(a),[d,f]=E.useState(""),[p,g]=E.useState(null),[y,v]=E.useState(null);E.useEffect(()=>{window.scrollTo(0,0),(async()=>{try{const{data:{user:O}}=await fe.auth.getUser();if(O){const{data:S}=await fe.from("users").select("*").eq("id",O.id).single();S&&g({...O,profile:S})}else{const S=localStorage.getItem("user");S&&g(JSON.parse(S))}}catch(O){console.error("   :",O);const S=localStorage.getItem("user");S&&g(JSON.parse(S))}})(),(async()=>{try{const{data:O,error:S}=await fe.from("users").select("*").eq("id",a.id);!S&&O&&O.length>0&&v(O[0])}catch(O){console.error("    :",O)}})()},[a]);const x=async()=>{const k=l.isLiked?l.likes-1:l.likes+1,I={...l,isLiked:!l.isLiked,likes:k};c(I),s(I);try{await fe.from("community_posts").update({likes:k}).eq("id",l.id)}catch(O){console.error("  :",O)}},_=async k=>{const I=l.comments.find(A=>A.id===k);if(!I)return;const O=I.isLiked?I.likes-1:I.likes+1,S={...l,comments:l.comments.map(A=>A.id===k?{...A,isLiked:!A.isLiked,likes:O}:A)};c(S),s(S);try{await fe.from("post_comments").update({likes:O}).eq("id",k)}catch(A){console.error("   :",A)}},j=async()=>{if(d.trim()){if(!p){alert(" .");return}try{const k={post_id:l.id,user_id:p.id,author_name:p.profile?.name||"",avatar_url:p.profile?.avatar_url||"",content:d,likes:0},{data:I,error:O}=await fe.from("post_comments").insert([k]).select().single();if(O)throw O;if(I){const S={id:I.id,author:I.author_name,avatar:I.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20profile%20avatar%2C%20friendly%20expression%2C%20professional%20portrait%20photography%2C%20soft%20natural%20lighting%2C%20clean%20white%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=myavatar&orientation=squarish",content:I.content,timeAgo:" ",likes:0,isLiked:!1},A={...l,comments:[...l.comments,S]};c(A),s(A),f("")}}catch(k){console.error("  :",k),alert("  .")}}},M=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),j())};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx("div",{className:"bg-white/90 backdrop-blur-md border-b border-slate-100 sticky top-0 z-20",children:u.jsxs("div",{className:"flex items-center px-4 py-3 max-w-md mx-auto",children:[u.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:u.jsx("i",{className:"ri-arrow-left-line text-xl text-slate-600 group-hover:text-primary-600 transition-colors"})}),u.jsx("h1",{className:"flex-1 text-center font-bold text-slate-800 font-display",children:""}),u.jsx("div",{className:"w-10"})]})}),u.jsx("div",{className:"px-4 py-6 pb-20",children:u.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-primary-500/5 p-6 animate-slide-up",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>i("/profile-detail",{state:{authorData:l.authorData||{id:l.id,name:l.author,avatar_url:l.avatar}}}),children:[u.jsx("img",{src:l.avatar,alt:l.author,className:"w-14 h-14 rounded-2xl object-cover object-top shadow-md group-hover:scale-105 transition-transform duration-300"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{onClick:()=>i("/profile-detail",{state:{authorData:l.authorData||{id:l.id,name:l.author,avatar_url:l.avatar}}}),className:"font-bold text-lg text-slate-800 cursor-pointer hover:text-primary-600 transition-colors font-display",children:l.author}),u.jsx("p",{className:"text-xs font-medium text-slate-400",children:l.timeAgo})]}),u.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-50 text-slate-400",children:u.jsx("i",{className:"ri-more-fill"})})]}),u.jsx("p",{className:"text-slate-600 mb-6 text-base leading-relaxed whitespace-pre-wrap",children:l.content}),l.image&&u.jsx("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-md",children:u.jsx("img",{src:l.image,alt:" ",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-500"})}),u.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:u.jsxs("div",{className:"flex space-x-3 w-full",children:[u.jsxs("button",{onClick:x,className:`flex-1 flex items-center justify-center space-x-2 py-3.5 rounded-xl transition-all cursor-pointer whitespace-nowrap group ${l.isLiked?"bg-pink-50 text-pink-500 shadow-inner":"bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:[u.jsx("i",{className:`text-xl transition-transform group-hover:scale-110 ${l.isLiked?"ri-heart-fill animate-pulse-soft":"ri-heart-line"}`}),u.jsxs("span",{className:"text-sm font-bold",children:[" ",l.likes>0&&l.likes]})]}),u.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-3.5 rounded-xl bg-slate-50 text-slate-500 hover:bg-slate-100 transition-all cursor-pointer whitespace-nowrap group",children:[u.jsx("i",{className:"ri-chat-3-line text-xl group-hover:scale-110 transition-transform"}),u.jsxs("span",{className:"text-sm font-bold",children:[" ",l.comments.length>0&&l.comments.length]})]})]})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.1s"},children:[u.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center",children:[" ",u.jsx("span",{className:"ml-2 text-primary-500",children:l.comments.length})]}),u.jsxs("div",{className:"flex space-x-4 mb-8 pb-6 border-b border-slate-100",children:[u.jsx("img",{src:p?.avatar_url||p?.profile?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20profile%20avatar%2C%20friendly%20expression%2C%20professional%20portrait%20photography%2C%20soft%20natural%20lighting%2C%20clean%20white%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=myavatar&orientation=squarish",alt:p?.name||" ",className:"w-12 h-12 rounded-full object-cover object-top flex-shrink-0 shadow-sm border-2 border-primary-100"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-bold text-slate-600 mb-2",children:p?.name||""}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:d,onChange:k=>f(k.target.value),onKeyPress:M,placeholder:" ...",className:"w-full px-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm resize-none bg-white transition-all placeholder-slate-400 shadow-sm",rows:2,maxLength:500}),u.jsx("button",{onClick:j,disabled:!d.trim(),className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${d.trim()?"bg-primary-500 text-white hover:bg-primary-600 shadow-md transform hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:u.jsx("i",{className:"ri-send-plane-fill"})})]})]})]}),l.comments.length>0?u.jsx("div",{className:"space-y-5",children:l.comments.map(k=>u.jsxs("div",{className:"flex space-x-3 group pb-5 border-b border-slate-50 last:border-b-0",children:[u.jsx("img",{src:k.avatar,alt:k.author,onClick:()=>i("/profile-detail",{state:{userId:k.id}}),className:"w-11 h-11 rounded-full object-cover object-top flex-shrink-0 cursor-pointer hover:opacity-80 transition-all shadow-sm border-2 border-slate-100 group-hover:border-primary-300"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("button",{onClick:()=>i("/profile-detail",{state:{userId:k.id}}),className:"font-bold text-sm text-slate-800 cursor-pointer hover:text-primary-600 hover:underline transition-colors",children:k.author}),u.jsx("span",{className:"text-xs font-medium text-slate-400",children:k.timeAgo})]}),u.jsx("div",{className:"bg-slate-50 rounded-2xl rounded-tl-none px-4 py-3 group-hover:bg-slate-100 transition-colors border border-slate-100 group-hover:border-primary-200",children:u.jsx("p",{className:"text-sm text-slate-700 leading-relaxed break-words",children:k.content})}),u.jsxs("div",{className:"flex items-center space-x-5 mt-2 ml-1",children:[u.jsxs("button",{onClick:()=>_(k.id),className:`flex items-center space-x-1.5 text-xs font-medium transition-all cursor-pointer group/like ${k.isLiked?"text-pink-500":"text-slate-400 hover:text-pink-500"}`,children:[u.jsx("i",{className:`${k.isLiked?"ri-heart-fill":"ri-heart-line"} group-hover/like:scale-125 transition-transform`}),u.jsx("span",{children:k.likes>0?k.likes:""})]}),u.jsx("button",{className:"text-xs font-medium text-slate-400 hover:text-primary-500 transition-colors cursor-pointer hover:font-semibold",children:""})]})]})]},k.id))}):u.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-slate-50 to-slate-100 rounded-3xl border border-dashed border-slate-200",children:[u.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-white rounded-full shadow-md",children:u.jsx("i",{className:"ri-chat-smile-2-line text-4xl text-primary-300"})}),u.jsx("p",{className:"text-slate-600 font-semibold text-lg",children:"  "}),u.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"    !"})]})]})]})})]})}function y2(){const a=$e(),[e,s]=E.useState("dating"),[i,l]=E.useState([]),[c,d]=E.useState(""),[f,p]=E.useState(!1),[g,y]=E.useState(null),[v,x]=E.useState(!0),[_,j]=E.useState(null);E.useEffect(()=>{(async()=>{try{const{data:{user:X}}=await fe.auth.getUser();if(X){j(X);try{const{data:B,error:ee}=await fe.from("users").select("*").eq("id",X.id).single();!ee&&B&&j({...X,profile:B})}catch{}}else{const B=localStorage.getItem("user");if(B)try{const ee=JSON.parse(B);j(ee),console.log("  :",ee)}catch(ee){console.error("   :",ee),j(null)}else j(null)}}catch(X){console.error("   :",X);const B=localStorage.getItem("user");if(B)try{j(JSON.parse(B))}catch{j(null)}}})()},[]),E.useEffect(()=>{_!==null&&M()},[_]);const M=async()=>{x(!0);try{const z=new Promise((ie,Pe)=>setTimeout(()=>Pe(new Error("Timeout")),5e3)),X=fe.from("community_posts").select(`
          *,
          post_comments (
            id,
            author_name,
            avatar_url,
            content,
            likes,
            created_at
          )
        `).order("created_at",{ascending:!1}),{data:B,error:ee}=await Promise.race([X,z]);if(ee)throw ee;if(B&&B.length>0){let ie=[];if(_){const{data:ae}=await fe.from("community_post_likes").select("post_id").eq("user_id",_.id);ie=ae?.map(Ne=>Ne.post_id)||[]}const Pe=B.map(ae=>({id:ae.id,author:ae.title,avatar:ae.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=400&height=500&seq=default&orientation=portrait",content:ae.content,image:ae.image_url,likes:ae.likes,comments:ae.post_comments?.map(Ne=>({id:Ne.id,author:Ne.author_name,avatar:Ne.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=default&orientation=squarish",content:Ne.content,timeAgo:k(Ne.created_at),likes:Ne.likes,isLiked:!1}))||[],timeAgo:k(ae.created_at),isLiked:ie.includes(ae.id),age:ae.age,location:ae.location,job:ae.job,views:ae.views,category:ae.category,userId:ae.user_id,authorData:{id:ae.user_id,name:ae.author_name,avatar_url:ae.avatar_url,age:ae.age,location:ae.location,gender:ae.gender,bio:ae.bio,school:ae.school,job:ae.job}}));l(Pe)}else throw new Error("No data")}catch(z){console.error("  :",z),l([])}finally{x(!1)}},k=z=>{const X=new Date,B=new Date(z),ee=Math.floor((X.getTime()-B.getTime())/(1e3*60));if(ee<1)return" ";if(ee<60)return`${ee} `;const ie=Math.floor(ee/60);return ie<24?`${ie} `:`${Math.floor(ie/24)} `},I=i.filter(z=>z.category===e),O=async z=>{if(!_){alert(" .");return}const X=i.find(B=>B.id===z);if(X)try{X.isLiked?(await fe.from("community_post_likes").delete().eq("post_id",z).eq("user_id",_.id),await fe.from("community_posts").update({likes:Math.max(0,X.likes-1)}).eq("id",z),l(i.map(B=>B.id===z?{...B,isLiked:!1,likes:Math.max(0,B.likes-1)}:B))):(await fe.from("community_post_likes").insert({post_id:z,user_id:_.id}),await fe.from("community_posts").update({likes:X.likes+1}).eq("id",z),l(i.map(B=>B.id===z?{...B,isLiked:!0,likes:B.likes+1}:B)))}catch(B){console.error("  :",B),alert("    .")}},S=async z=>{try{await fe.from("community_posts").update({views:(z.views||0)+1}).eq("id",z.id),l(i.map(X=>X.id===z.id?{...X,views:(X.views||0)+1}:X))}catch(X){console.error("  :",X)}y(z)},A=()=>{y(null),window.scrollTo(0,0)},F=z=>{l(i.map(X=>X.id===z.id?z:X))},K=async()=>{if(c.trim()){if(!_){alert(" .");return}try{const z={user_id:_.id,author_name:_.profile?.name||"",avatar_url:_.profile?.avatar_url||"",title:c.substring(0,50),content:`${_.profile?.name||""} (${_.profile?.location||" "} / ${_.profile?.age||" "} / ${_.profile?.school||" "})`,image_url:_.profile?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=400&height=500&seq=newpost&orientation=portrait",likes:0,views:0,category:e,age:_.profile?.age,location:_.profile?.location,job:_.profile?.school},{data:X,error:B}=await fe.from("community_posts").insert([z]).select().single();if(B)throw B;if(X){const ee={id:X.id,author:X.title,avatar:X.avatar_url,content:X.content,image:X.image_url,likes:0,comments:[],timeAgo:" ",isLiked:!1,age:X.age,location:X.location,job:X.job,views:0,category:X.category};l([ee,...i]),d(""),p(!1)}}catch(z){console.error("  :",z),alert("  .")}}};return g?u.jsx(g2,{post:g,onBack:A,onUpdatePost:F}):u.jsxs("div",{className:"px-4 py-4 pb-20 min-h-screen",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("h2",{className:"text-2xl font-bold font-display text-slate-800",children:""}),u.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg shadow-primary-500/30 animate-pulse-soft",children:"TODAY"}),u.jsx("span",{className:"text-primary-600 font-bold font-display text-lg",children:"30,301"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:u.jsx("i",{className:"ri-equalizer-line text-xl text-slate-400 group-hover:text-primary-500 transition-colors"})}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:u.jsx("i",{className:"ri-layout-grid-line text-xl text-slate-400 group-hover:text-primary-500 transition-colors"})})]})]}),u.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:[u.jsx("button",{onClick:()=>s("dating"),className:`px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap cursor-pointer transition-all duration-300 ${e==="dating"?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-100"}`,children:""}),u.jsx("button",{onClick:()=>s("chat"),className:`px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap cursor-pointer transition-all duration-300 ${e==="chat"?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-100"}`,children:""})]}),u.jsxs("div",{className:"flex space-x-2 mb-6",children:[u.jsx("button",{className:"px-4 py-1.5 bg-primary-50 text-primary-600 rounded-full text-xs font-bold whitespace-nowrap cursor-pointer border border-primary-100",children:""}),u.jsx("button",{className:"px-4 py-1.5 bg-white text-slate-400 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer hover:bg-slate-50 border border-transparent hover:border-slate-100 transition-colors",children:""})]}),v?u.jsxs("div",{className:"flex flex-col justify-center items-center py-20 space-y-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-primary-100 border-t-primary-500 rounded-full animate-spin"}),u.jsx("p",{className:"text-slate-400 text-sm font-medium animate-pulse",children:"  ..."})]}):u.jsx("div",{className:"space-y-4",children:I.map(z=>u.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden cursor-pointer hover:shadow-xl hover:shadow-primary-500/5 transition-all duration-300 group transform hover:-translate-y-0.5",onClick:()=>S(z),children:u.jsxs("div",{className:"flex p-3",children:[u.jsxs("div",{className:"w-28 h-36 flex-shrink-0 rounded-2xl overflow-hidden relative",children:[u.jsx("img",{src:z.image,alt:z.author,className:"w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),u.jsxs("div",{className:"flex-1 ml-4 flex flex-col justify-between py-1",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-md bg-slate-100 text-slate-500",children:z.category==="dating"?"":""}),u.jsx("span",{className:"text-xs text-slate-400",children:z.timeAgo})]}),u.jsx("h3",{className:"text-base font-bold text-slate-800 line-clamp-1 mb-1 group-hover:text-primary-600 transition-colors",children:z.author}),u.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 leading-relaxed",children:z.content})]}),u.jsx("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-50",children:u.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium text-slate-400",children:[u.jsxs("div",{className:"flex items-center space-x-1.5 group/icon",children:[u.jsx("i",{className:"ri-eye-line group-hover/icon:text-primary-500 transition-colors"}),u.jsx("span",{children:z.views})]}),u.jsxs("button",{onClick:X=>{X.stopPropagation(),O(z.id)},className:"flex items-center space-x-1.5 group/icon cursor-pointer",children:[u.jsx("i",{className:`ri-heart-3-line group-hover/icon:text-pink-500 transition-colors ${z.isLiked?"text-pink-500 ri-heart-3-fill":""}`}),u.jsx("span",{children:z.likes})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 group/icon",children:[u.jsx("i",{className:"ri-chat-3-line group-hover/icon:text-blue-500 transition-colors"}),u.jsx("span",{children:z.comments.length})]})]})})]})]})},z.id))}),u.jsx("button",{onClick:()=>a("/post/create"),className:"fixed bottom-24 right-6 w-14 h-14 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-full shadow-lg shadow-primary-500/40 flex items-center justify-center hover:from-primary-600 hover:to-primary-700 hover:scale-110 transition-all cursor-pointer z-30 group",children:u.jsx("i",{className:"ri-add-line text-2xl group-hover:rotate-90 transition-transform duration-300"})}),f&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-end animate-fade-in",children:u.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-6 animate-slide-up shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold font-display text-slate-800",children:"  "}),u.jsx("button",{onClick:()=>p(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-xl text-slate-400"})})]}),u.jsx("textarea",{value:c,onChange:z=>d(z.target.value),placeholder:"   ?",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm resize-none bg-slate-50 placeholder-slate-400 transition-all",rows:5,maxLength:500}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:"text-xs font-medium text-slate-400",children:[c.length,"/500"]}),u.jsx("button",{onClick:K,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-full hover:from-primary-600 hover:to-primary-700 transition-all cursor-pointer whitespace-nowrap text-sm font-bold shadow-lg shadow-primary-500/30",children:""})]})]})})]})}const si=a=>a===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function b2(){const[a,e]=E.useState(null),[s,i]=E.useState(""),l=E.useRef(null),[c,d]=E.useState([]),[f,p]=E.useState({});E.useEffect(()=>{a&&l.current&&l.current.scrollIntoView({behavior:"smooth"})},[f,a]),E.useEffect(()=>{const x=_=>{const{userId:j,userName:M,userAvatar:k}=_.detail;if(!c.find(O=>O.id===j)){const O={id:j,name:M,avatar:k,lastMessage:"!  ",lastMessageTime:" ",unreadCount:0,isOnline:!0,gender:""};d(S=>[O,...S]),p(S=>({...S,[j]:[{id:1,senderId:0,content:"!  ",timestamp:new Date().toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),isRead:!0}]}))}e(j)};return window.addEventListener("openChat",x),()=>{window.removeEventListener("openChat",x)}},[c]);const g=()=>{if(s.trim()&&a){const x={id:(f[a]?.length||0)+1,senderId:0,content:s,timestamp:new Date().toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),isRead:!0};p(_=>({..._,[a]:[..._[a]||[],x]})),d(_=>_.map(j=>j.id===a?{...j,lastMessage:s,lastMessageTime:" "}:j)),i("")}},y=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),g())},v=x=>{e(x),d(_=>_.map(j=>j.id===x?{...j,unreadCount:0}:j))};if(a){const x=c.find(j=>j.id===a),_=f[a]||[];return u.jsxs("div",{className:"fixed inset-0 top-0 bottom-20 flex flex-col bg-slate-50 z-50",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 bg-white/90 backdrop-blur-md flex-shrink-0 pt-16",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>e(null),className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:u.jsx("i",{className:"ri-arrow-left-line text-xl text-slate-600"})}),u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:x?.avatar||si(x?.gender),alt:x?.name,className:"w-10 h-10 rounded-full object-cover object-top shadow-sm",onError:j=>{const M=j.target;M.src=si(x?.gender)}}),x?.isOnline&&u.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-800 font-display",children:x?.name}),x?.isOnline&&u.jsx("span",{className:"text-[10px] text-green-500 font-medium",children:""})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-phone-line text-xl"})}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-video-line text-xl"})}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-more-line text-xl"})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[_.map(j=>u.jsx("div",{className:`flex ${j.senderId===0?"justify-end":"justify-start"} animate-slide-up`,children:u.jsxs("div",{className:"flex items-end space-x-2 max-w-[80%]",children:[j.senderId!==0&&u.jsx("img",{src:x?.avatar||si(x?.gender),alt:x?.name,className:"w-8 h-8 rounded-full object-cover object-top shadow-sm mb-1",onError:M=>{const k=M.target;k.src=si(x?.gender)}}),u.jsx("div",{className:`px-5 py-3 rounded-2xl shadow-sm ${j.senderId===0?"bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-br-none":"bg-white text-slate-700 rounded-bl-none border border-slate-100"}`,children:u.jsx("p",{className:"text-sm leading-relaxed",children:j.content})})]})},j.id)),_.length>0&&u.jsx("div",{className:"text-center py-2",children:u.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-100 px-3 py-1 rounded-full",children:_[_.length-1]?.timestamp})}),u.jsx("div",{ref:l})]}),u.jsx("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-add-line text-xl"})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",value:s,onChange:j=>i(j.target.value),onKeyPress:y,placeholder:" ...",className:"w-full px-5 py-3 bg-slate-50 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all text-sm border border-transparent focus:border-primary-200",maxLength:500}),u.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-primary-500 transition-colors",children:u.jsx("i",{className:"ri-emotion-line text-xl"})})]}),u.jsx("button",{onClick:g,disabled:!s.trim(),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all cursor-pointer shadow-md ${s.trim()?"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:scale-105 hover:shadow-primary-500/30":"bg-slate-100 text-slate-300 cursor-not-allowed"}`,children:u.jsx("i",{className:"ri-send-plane-fill text-lg"})})]})})]})}return u.jsx("div",{className:"px-4 py-6 pb-20 min-h-screen",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold font-display text-slate-800",children:""}),u.jsx("div",{className:"flex space-x-2",children:u.jsx("button",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-slate-400 hover:text-primary-500 hover:shadow-md transition-all",children:u.jsx("i",{className:"ri-search-line text-xl"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-2",children:"Recent Messages"}),c.map(x=>u.jsx("div",{onClick:()=>v(x.id),className:"bg-white rounded-3xl p-4 shadow-sm hover:shadow-lg hover:shadow-primary-500/5 transition-all duration-300 cursor-pointer border border-slate-50 group transform hover:-translate-y-0.5",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:x.avatar||si(x.gender),alt:x.name,className:"w-14 h-14 rounded-2xl object-cover object-top shadow-sm group-hover:scale-105 transition-transform duration-300",onError:_=>{const j=_.target;j.src=si(x.gender)}}),x.isOnline&&u.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h3",{className:"font-bold text-slate-800 truncate text-base font-display group-hover:text-primary-600 transition-colors",children:x.name}),u.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-50 px-2 py-0.5 rounded-full",children:x.lastMessageTime})]}),u.jsx("p",{className:`text-sm truncate ${x.unreadCount>0?"text-slate-800 font-bold":"text-slate-500"}`,children:x.lastMessage})]}),x.unreadCount>0&&u.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg shadow-primary-500/30 animate-bounce",children:x.unreadCount})]})},x.id))]}),c.length===0&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:u.jsx("i",{className:"ri-chat-3-line text-4xl text-slate-300"})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 font-display",children:"  "}),u.jsx("p",{className:"text-slate-500",children:"   !"})]})]})})}const ay=a=>a===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function v2(){const a=$e(),[e,s]=E.useState({name:"",age:0,gender:"",location:" ",avatar:"",bio:"",interests:[]}),[i,l]=E.useState({received:0,sent:0}),[c,d]=E.useState(!0);if(E.useEffect(()=>{(()=>{try{const y=localStorage.getItem("user");if(y){const v=JSON.parse(y);s({name:v.name||"",age:v.age||0,gender:v.gender||"",location:v.location||" ",avatar:v.avatar_url||"",bio:v.bio||"",interests:v.interests||[]}),console.log("  :",v)}}catch(y){console.error("  :",y)}finally{d(!1)}})()},[]),c)return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})]}),u.jsx("div",{className:"text-sm font-medium text-slate-500",children:"  ..."})]});const f=()=>{a("/profile-edit")},p=()=>{a("/matching-requests")};return u.jsx("div",{className:"px-4 py-6 pb-20 min-h-screen",children:u.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-8 animate-slide-up relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-primary-100 to-secondary-100 opacity-50"}),u.jsxs("div",{className:"relative text-center",children:[u.jsxs("div",{className:"relative inline-block mb-4",children:[u.jsx("div",{className:"p-1 bg-white rounded-full shadow-lg",children:u.jsx("img",{src:e.avatar||ay(e.gender),alt:e.name,className:"w-28 h-28 rounded-full object-cover group-hover:scale-105 transition-transform duration-500",onError:g=>{const y=g.target;y.src=ay(e.gender)}})}),u.jsx("button",{className:"absolute bottom-2 right-2 w-9 h-9 bg-slate-800 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-black transition-colors cursor-pointer hover:scale-110 transform duration-300 border-2 border-white",children:u.jsx("i",{className:"ri-camera-line text-lg"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1 font-display",children:e.name}),u.jsxs("p",{className:"text-slate-500 mb-6 font-medium",children:[e.age,"  ",e.location]}),u.jsx("button",{onClick:f,className:"w-full bg-slate-800 text-white py-3.5 rounded-2xl font-bold hover:bg-black transition-all cursor-pointer whitespace-nowrap shadow-lg shadow-slate-200 hover:shadow-xl transform hover:-translate-y-0.5",children:" "})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-secondary-600 rounded-[2rem] shadow-xl shadow-primary-500/20 p-6 animate-slide-up text-white relative overflow-hidden",style:{animationDelay:"0.1s"},children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full blur-xl -ml-10 -mb-10"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"font-bold text-lg flex items-center font-display",children:[u.jsx("i",{className:"ri-heart-fill text-pink-300 mr-2 text-xl animate-pulse-soft"})," "]}),u.jsx("button",{onClick:p,className:"text-white/80 text-sm font-medium hover:text-white cursor-pointer whitespace-nowrap bg-white/10 px-3 py-1 rounded-full backdrop-blur-sm hover:bg-white/20 transition-colors",children:""})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 text-center border border-white/10 hover:bg-white/20 transition-colors",children:[u.jsx("div",{className:"text-3xl font-bold mb-1 font-display",children:i.received}),u.jsx("div",{className:"text-xs text-white/80 font-medium",children:" "})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 text-center border border-white/10 hover:bg-white/20 transition-colors",children:[u.jsx("div",{className:"text-3xl font-bold mb-1 font-display",children:i.sent}),u.jsx("div",{className:"text-xs text-white/80 font-medium",children:" "})]})]}),u.jsxs("button",{onClick:p,className:"w-full bg-white text-primary-600 py-3.5 rounded-2xl font-bold hover:bg-slate-50 transition-all cursor-pointer whitespace-nowrap flex items-center justify-center shadow-lg",children:[u.jsx("i",{className:"ri-heart-line mr-2 text-lg"})," "]})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[u.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center font-display",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-50 flex items-center justify-center mr-3 text-primary-500",children:u.jsx("i",{className:"ri-user-smile-line text-lg"})}),""]}),u.jsx("p",{className:"text-slate-600 leading-relaxed bg-slate-50 p-4 rounded-2xl text-sm",children:e.bio})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.3s"},children:[u.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center font-display",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-50 flex items-center justify-center mr-3 text-pink-500",children:u.jsx("i",{className:"ri-heart-line text-lg"})}),""]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((g,y)=>u.jsx("span",{className:"bg-white border border-slate-100 text-slate-600 px-4 py-2 rounded-full text-sm font-medium shadow-sm hover:shadow-md hover:border-primary-200 hover:text-primary-600 transition-all cursor-default",children:g},y))})]}),u.jsx("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-4 animate-slide-up",style:{animationDelay:"0.4s"},children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:u.jsx("i",{className:"ri-settings-3-line text-blue-500 text-xl"})}),u.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:""})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]}),u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center group-hover:bg-green-100 transition-colors",children:u.jsx("i",{className:"ri-shield-check-line text-green-500 text-xl"})}),u.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:" "})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]}),u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-full flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:u.jsx("i",{className:"ri-question-line text-purple-500 text-xl"})}),u.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:""})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]})]})})]})})}function x2(){const a=$e(),{user:e,loading:s}=Fo(),[i,l]=E.useState("matching"),[c]=E.useState(150);if(E.useEffect(()=>{if(!s){const f=localStorage.getItem("user");!e&&!f&&a("/login")}},[s,e,a]),s)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:" ..."})]})});const d=()=>{switch(i){case"matching":return u.jsx(sy,{});case"community":return u.jsx(y2,{});case"chat":return u.jsx(b2,{});case"profile":return u.jsx(v2,{});default:return u.jsx(sy,{})}};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(f2,{coins:c}),u.jsx("main",{className:"pt-20 pb-28 px-4 max-w-screen-xl mx-auto",children:d()}),u.jsx(m2,{activeTab:i,onTabChange:l})]})}function w2(){const a=$e(),{signIn:e,signUp:s}=Fo(),[i,l]=E.useState(!0),[c,d]=E.useState(!1),[f,p]=E.useState({email:"",password:"",confirmPassword:"",nickname:"",age:"",gender:"male"}),g=async v=>{v.preventDefault(),d(!0);try{const{error:x}=await e(f.email,f.password);if(x){x.message.includes("Email not confirmed")?alert(`   .

 :
1.        
2.  Supabase    
   (Authentication > Settings > Email Confirmation )`):x.message.includes("Invalid login credentials")?alert("     ."):alert(` : ${x.message}`);return}a("/")}catch(x){alert(` : ${x.message}`)}finally{d(!1)}},y=async v=>{if(v.preventDefault(),f.password!==f.confirmPassword){alert("  .");return}if(f.password.length<8){alert(" 8  .");return}if(!f.nickname){alert(" .");return}d(!0);try{const{error:x}=await s(f.email,f.password,f.nickname);if(x){alert(` : ${x.message}`);return}alert(" !  ."),l(!0)}catch(x){alert(` : ${x.message}`)}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:"   "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsxs("div",{className:"flex bg-gray-100 rounded-full p-1 mb-6",children:[u.jsx("button",{onClick:()=>l(!0),className:`flex-1 py-3 rounded-full font-medium transition-all cursor-pointer whitespace-nowrap ${i?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md":"text-gray-600"}`,children:""}),u.jsx("button",{onClick:()=>l(!1),className:`flex-1 py-3 rounded-full font-medium transition-all cursor-pointer whitespace-nowrap ${i?"text-gray-600":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md"}`,children:""})]}),i?u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"email",value:f.email,onChange:v=>p({...f,email:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"password",value:f.password,onChange:v=>p({...f,password:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"mr-2"}),u.jsx("span",{className:"text-gray-600",children:"  "})]}),u.jsx("button",{type:"button",className:"text-cyan-500 hover:text-cyan-600 cursor-pointer whitespace-nowrap",children:" "})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:c?" ...":""})]}):u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"email",value:f.email,onChange:v=>p({...f,email:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:f.nickname,onChange:v=>p({...f,nickname:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",min:"19",max:"99",value:f.age,onChange:v=>p({...f,age:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{value:f.gender,onChange:v=>p({...f,gender:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm pr-8",children:[u.jsx("option",{value:"male",children:""}),u.jsx("option",{value:"female",children:""})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"password",minLength:8,value:f.password,onChange:v=>p({...f,password:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"8  "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"password",value:f.confirmPassword,onChange:v=>p({...f,confirmPassword:v.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"  "})]}),u.jsxs("label",{className:"flex items-start cursor-pointer text-sm",children:[u.jsx("input",{type:"checkbox",className:"mt-1 mr-2"}),u.jsxs("span",{className:"text-gray-600",children:[u.jsx("span",{className:"text-cyan-500",children:""}),"  ",u.jsx("span",{className:"text-cyan-500",children:""})," "]})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:c?" ...":""})]})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:u.jsxs("p",{children:[" ?"," ",u.jsx("button",{className:"text-cyan-500 hover:text-cyan-600 cursor-pointer whitespace-nowrap",children:""})]})})]})})}const _2=()=>{};var iy={};const Hb=function(a){const e=[];let s=0;for(let i=0;i<a.length;i++){let l=a.charCodeAt(i);l<128?e[s++]=l:l<2048?(e[s++]=l>>6|192,e[s++]=l&63|128):(l&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++i)&1023),e[s++]=l>>18|240,e[s++]=l>>12&63|128,e[s++]=l>>6&63|128,e[s++]=l&63|128):(e[s++]=l>>12|224,e[s++]=l>>6&63|128,e[s++]=l&63|128)}return e},S2=function(a){const e=[];let s=0,i=0;for(;s<a.length;){const l=a[s++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[s++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[s++],d=a[s++],f=a[s++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=a[s++],d=a[s++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,f=d?a[l+1]:0,p=l+2<a.length,g=p?a[l+2]:0,y=c>>2,v=(c&3)<<4|f>>4;let x=(f&15)<<2|g>>6,_=g&63;p||(_=64,d||(x=64)),i.push(s[y],s[v],s[x],s[_])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Hb(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):S2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<a.length;){const c=s[a.charAt(l++)],f=l<a.length?s[a.charAt(l)]:0;++l;const g=l<a.length?s[a.charAt(l)]:64;++l;const v=l<a.length?s[a.charAt(l)]:64;if(++l,c==null||f==null||g==null||v==null)throw new j2;const x=c<<2|f>>4;if(i.push(x),g!==64){const _=f<<4&240|g>>2;if(i.push(_),v!==64){const j=g<<6&192|v;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class j2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N2=function(a){const e=Hb(a);return qb.encodeByteArray(e,!0)},Vb=function(a){return N2(a).replace(/\./g,"")},Gb=function(a){try{return qb.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function E2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const T2=()=>E2().__FIREBASE_DEFAULTS__,C2=()=>{if(typeof process>"u"||typeof iy>"u")return;const a=iy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},A2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Gb(a[1]);return e&&JSON.parse(e)},Oh=()=>{try{return _2()||T2()||C2()||A2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},k2=a=>Oh()?.emulatorHosts?.[a],Kb=()=>Oh()?.config,Fb=a=>Oh()?.[`_${a}`];class R2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,i)=>{s?this.reject(s):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,i))}}}function Yo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O2(a){return(await fetch(a,{credentials:"include"})).ok}const jr={};function I2(){const a={prod:[],emulator:[]};for(const e of Object.keys(jr))jr[e]?a.emulator.push(e):a.prod.push(e);return a}function D2(a){let e=document.getElementById(a),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),s=!0),{created:s,element:e}}let ry=!1;function L2(a,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||jr[a]===e||jr[a]||ry)return;jr[a]=e;function s(x){return`__firebase__banner__${x}`}const i="__firebase__banner",c=I2().prod.length>0;function d(){const x=document.getElementById(i);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ry=!0,d()},x}function y(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=D2(i),_=s("text"),j=document.getElementById(_)||document.createElement("span"),M=s("learnmore"),k=document.getElementById(M)||document.createElement("a"),I=s("preprendIcon"),O=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const S=x.element;f(S),y(k,M);const A=g();p(O,I),S.append(O,j,k,A),document.body.appendChild(S)}c?(j.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function M2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function P2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z2(){const a=pt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((a,e)=>{try{let s=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),s||self.indexedDB.deleteDatabase(i),a(!0)},l.onupgradeneeded=()=>{s=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(s){e(s)}})}function $2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const B2="FirebaseError";class hn extends Error{constructor(e,s,i){super(s),this.code=e,this.customData=i,this.name=B2,Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,s,i){this.service=e,this.serviceName=s,this.errors=i}create(e,...s){const i=s[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?H2(c,i):"Error",f=`${this.serviceName}: ${d} (${l}).`;return new hn(l,f,i)}}function H2(a,e){return a.replace(q2,(s,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const q2=/\{\$([^}]+)}/g;function V2(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function ea(a,e){if(a===e)return!0;const s=Object.keys(a),i=Object.keys(e);for(const l of s){if(!i.includes(l))return!1;const c=a[l],d=e[l];if(ly(c)&&ly(d)){if(!ea(c,d))return!1}else if(c!==d)return!1}for(const l of i)if(!s.includes(l))return!1;return!0}function ly(a){return a!==null&&typeof a=="object"}function mi(a){const e=[];for(const[s,i]of Object.entries(a))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function G2(a,e){const s=new K2(a,e);return s.subscribe.bind(s)}class K2{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,i){let l;if(e===void 0&&s===void 0&&i===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?l=e:l={next:e,error:s,complete:i},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(a,e){if(typeof a!="object"||a===null)return!1;for(const s of e)if(s in a&&typeof a[s]=="function")return!0;return!1}function Ud(){}const Y2=1e3,J2=2,X2=14400*1e3,Q2=.5;function oy(a,e=Y2,s=J2){const i=e*Math.pow(s,a),l=Math.round(Q2*i*(Math.random()-.5)*2);return Math.min(X2,i+l)}function qn(a){return a&&a._delegate?a._delegate:a}class cn{constructor(e,s,i){this.name=e,this.instanceFactory=s,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class Z2{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const i=new R2;if(this.instancesDeferred.set(s,i),this.isInitialized(s)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:s});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eE(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[s,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:s});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);i===f&&d.resolve(l)}return l}onInit(e,s){const i=this.normalizeInstanceIdentifier(s),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,s){const i=this.onInitCallbacks.get(s);if(i)for(const l of i)try{l(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:W2(e),options:s}),this.instances.set(e,i),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W2(a){return a===Xs?void 0:a}function eE(a){return a.instantiationMode==="EAGER"}class tE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Z2(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var De;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(De||(De={}));const nE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},sE=De.INFO,aE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},iE=(a,e,...s)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),l=aE[e];if(l)console[l](`[${i}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=sE,this._logHandler=iE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const rE=(a,e)=>e.some(s=>a instanceof s);let cy,uy;function lE(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oE(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qb=new WeakMap,hh=new WeakMap,Zb=new WeakMap,Md=new WeakMap,Dh=new WeakMap;function cE(a){const e=new Promise((s,i)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{s(Ss(a.result)),l()},d=()=>{i(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&Qb.set(s,a)}).catch(()=>{}),Dh.set(e,a),e}function uE(a){if(hh.has(a))return;const e=new Promise((s,i)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{s(),l()},d=()=>{i(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});hh.set(a,e)}let fh={get(a,e,s){if(a instanceof IDBTransaction){if(e==="done")return hh.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Zb.get(a);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ss(a[e])},set(a,e,s){return a[e]=s,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function dE(a){fh=a(fh)}function hE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const i=a.call(Pd(this),e,...s);return Zb.set(i,e.sort?e.sort():[e]),Ss(i)}:oE().includes(a)?function(...e){return a.apply(Pd(this),e),Ss(Qb.get(this))}:function(...e){return Ss(a.apply(Pd(this),e))}}function fE(a){return typeof a=="function"?hE(a):(a instanceof IDBTransaction&&uE(a),rE(a,lE())?new Proxy(a,fh):a)}function Ss(a){if(a instanceof IDBRequest)return cE(a);if(Md.has(a))return Md.get(a);const e=fE(a);return e!==a&&(Md.set(a,e),Dh.set(e,a)),e}const Pd=a=>Dh.get(a);function Wb(a,e,{blocked:s,upgrade:i,blocking:l,terminated:c}={}){const d=indexedDB.open(a,e),f=Ss(d);return i&&d.addEventListener("upgradeneeded",p=>{i(Ss(d.result),p.oldVersion,p.newVersion,Ss(d.transaction),p)}),s&&d.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const mE=["get","getKey","getAll","getAllKeys","count"],pE=["put","add","delete","clear"],zd=new Map;function dy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const s=e.replace(/FromIndex$/,""),i=e!==s,l=pE.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!(l||mE.includes(s)))return;const c=async function(d,...f){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[s](...f),l&&p.done]))[0]};return zd.set(e,c),c}dE(a=>({...a,get:(e,s,i)=>dy(e,s)||a.get(e,s,i),has:(e,s)=>!!dy(e,s)||a.has(e,s)}));class gE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(yE(s)){const i=s.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(s=>s).join(" ")}}function yE(a){return a.getComponent()?.type==="VERSION"}const mh="@firebase/app",hy="0.14.0";const Pn=new Ih("@firebase/app"),bE="@firebase/app-compat",vE="@firebase/analytics-compat",xE="@firebase/analytics",wE="@firebase/app-check-compat",_E="@firebase/app-check",SE="@firebase/auth",jE="@firebase/auth-compat",NE="@firebase/database",EE="@firebase/data-connect",TE="@firebase/database-compat",CE="@firebase/functions",AE="@firebase/functions-compat",kE="@firebase/installations",RE="@firebase/installations-compat",OE="@firebase/messaging",IE="@firebase/messaging-compat",DE="@firebase/performance",LE="@firebase/performance-compat",UE="@firebase/remote-config",ME="@firebase/remote-config-compat",PE="@firebase/storage",zE="@firebase/storage-compat",$E="@firebase/firestore",BE="@firebase/ai",HE="@firebase/firestore-compat",qE="firebase",VE="12.0.0";const ph="[DEFAULT]",GE={[mh]:"fire-core",[bE]:"fire-core-compat",[xE]:"fire-analytics",[vE]:"fire-analytics-compat",[_E]:"fire-app-check",[wE]:"fire-app-check-compat",[SE]:"fire-auth",[jE]:"fire-auth-compat",[NE]:"fire-rtdb",[EE]:"fire-data-connect",[TE]:"fire-rtdb-compat",[CE]:"fire-fn",[AE]:"fire-fn-compat",[kE]:"fire-iid",[RE]:"fire-iid-compat",[OE]:"fire-fcm",[IE]:"fire-fcm-compat",[DE]:"fire-perf",[LE]:"fire-perf-compat",[UE]:"fire-rc",[ME]:"fire-rc-compat",[PE]:"fire-gcs",[zE]:"fire-gcs-compat",[$E]:"fire-fst",[HE]:"fire-fst-compat",[BE]:"fire-vertex","fire-js":"fire-js",[qE]:"fire-js-all"};const Io=new Map,KE=new Map,gh=new Map;function fy(a,e){try{a.container.addComponent(e)}catch(s){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,s)}}function zn(a){const e=a.name;if(gh.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,a);for(const s of Io.values())fy(s,a);for(const s of KE.values())fy(s,a);return!0}function pi(a,e){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(e)}function rn(a){return a==null?!1:a.settings!==void 0}const FE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new ia("app","Firebase",FE);class YE{constructor(e,s,i){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const Hr=VE;function ev(a,e={}){let s=a;typeof e!="object"&&(e={name:e});const i={name:ph,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw js.create("bad-app-name",{appName:String(l)});if(s||(s=Kb()),!s)throw js.create("no-options");const c=Io.get(l);if(c){if(ea(s,c.options)&&ea(i,c.config))return c;throw js.create("duplicate-app",{appName:l})}const d=new tE(l);for(const p of gh.values())d.addComponent(p);const f=new YE(s,i,d);return Io.set(l,f),f}function tv(a=ph){const e=Io.get(a);if(!e&&a===ph&&Kb())return ev();if(!e)throw js.create("no-app",{appName:a});return e}function on(a,e,s){let i=GE[a]??a;s&&(i+=`-${s}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${i}" with version "${e}":`];l&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(d.join(" "));return}zn(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const JE="firebase-heartbeat-database",XE=1,Ir="firebase-heartbeat-store";let $d=null;function nv(){return $d||($d=Wb(JE,XE,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Ir)}catch(s){console.warn(s)}}}}).catch(a=>{throw js.create("idb-open",{originalErrorMessage:a.message})})),$d}async function QE(a){try{const s=(await nv()).transaction(Ir),i=await s.objectStore(Ir).get(sv(a));return await s.done,i}catch(e){if(e instanceof hn)Pn.warn(e.message);else{const s=js.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(s.message)}}}async function my(a,e){try{const i=(await nv()).transaction(Ir,"readwrite");await i.objectStore(Ir).put(e,sv(a)),await i.done}catch(s){if(s instanceof hn)Pn.warn(s.message);else{const i=js.create("idb-set",{originalErrorMessage:s?.message});Pn.warn(i.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}const ZE=1024,WE=30;class eT{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new nT(s),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=py();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>WE){const l=sT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=py(),{heartbeatsToSend:s,unsentEntries:i}=tT(this._heartbeatsCache.heartbeats),l=Vb(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Pn.warn(e),""}}}function py(){return new Date().toISOString().substring(0,10)}function tT(a,e=ZE){const s=[];let i=a.slice();for(const l of a){const c=s.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gy(s)>e){c.dates.pop();break}}else if(s.push({agent:l.agent,dates:[l.date]}),gy(s)>e){s.pop();break}i=i.slice(1)}return{heartbeatsToSend:s,unsentEntries:i}}class nT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await QE(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return my(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return my(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gy(a){return Vb(JSON.stringify({version:2,heartbeats:a})).length}function sT(a){if(a.length===0)return-1;let e=0,s=a[0].date;for(let i=1;i<a.length;i++)a[i].date<s&&(s=a[i].date,e=i);return e}function aT(a){zn(new cn("platform-logger",e=>new gE(e),"PRIVATE")),zn(new cn("heartbeat",e=>new eT(e),"PRIVATE")),on(mh,hy,a),on(mh,hy,"esm2020"),on("fire-js","")}aT("");function av(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iT=av,iv=new ia("auth","Firebase",av());const Do=new Ih("@firebase/auth");function rT(a,...e){Do.logLevel<=De.WARN&&Do.warn(`Auth (${Hr}): ${a}`,...e)}function So(a,...e){Do.logLevel<=De.ERROR&&Do.error(`Auth (${Hr}): ${a}`,...e)}function $n(a,...e){throw Lh(a,...e)}function Dt(a,...e){return Lh(a,...e)}function rv(a,e,s){const i={...iT(),[e]:s};return new ia("auth","Firebase",i).create(e,{appName:a.name})}function Ns(a){return rv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lh(a,...e){if(typeof a!="string"){const s=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(s,...i)}return iv.create(a,...e)}function Q(a,e,...s){if(!a)throw Lh(e,...s)}function Dn(a){const e="INTERNAL ASSERTION FAILED: "+a;throw So(e),new Error(e)}function Bn(a,e){a||Dn(e)}function yh(){return typeof self<"u"&&self.location?.href||""}function lv(){return yy()==="http:"||yy()==="https:"}function yy(){return typeof self<"u"&&self.location?.protocol||null}function lT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lv()||Yb()||"connection"in navigator)?navigator.onLine:!0}function oT(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class qr{constructor(e,s){this.shortDelay=e,this.longDelay=s,Bn(s>e,"Short delay should be less than long delay!"),this.isMobile=U2()||P2()}get(){return lT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Uh(a,e){Bn(a.emulator,"Emulator should always be set here");const{url:s}=a.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class ov{static initialize(e,s,i){this.fetchImpl=e,s&&(this.headersImpl=s),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dT=new qr(3e4,6e4);function fn(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Wt(a,e,s,i,l={}){return cv(a,l,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const f=mi({key:a.config.apiKey,...d}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const g={method:e,headers:p,...c};return M2()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&Yo(a.emulatorConfig.host)&&(g.credentials="include"),ov.fetch()(await uv(a,a.config.apiHost,s,f),g)})}async function cv(a,e,s){a._canInitEmulator=!1;const i={...cT,...e};try{const l=new fT(a),c=await Promise.race([s(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw br(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw br(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw br(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw br(a,"user-disabled",d);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rv(a,y,g);$n(a,y)}}catch(l){if(l instanceof hn)throw l;$n(a,"network-request-failed",{message:String(l)})}}async function Jo(a,e,s,i,l={}){const c=await Wt(a,e,s,i,l);return"mfaPendingCredential"in c&&$n(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function uv(a,e,s,i){const l=`${e}${s}?${i}`,c=a,d=c.config.emulator?Uh(a.config,l):`${a.config.apiScheme}://${l}`;return uT.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function hT(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,i)=>{this.timer=setTimeout(()=>i(Dt(this.auth,"network-request-failed")),dT.get())})}}function br(a,e,s){const i={appName:a.name};s.email&&(i.email=s.email),s.phoneNumber&&(i.phoneNumber=s.phoneNumber);const l=Dt(a,e,i);return l.customData._tokenResponse=s,l}function by(a){return a!==void 0&&a.getResponse!==void 0}function vy(a){return a!==void 0&&a.enterprise!==void 0}class dv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return hT(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mT(a){return(await Wt(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function hv(a,e){return Wt(a,"GET","/v2/recaptchaConfig",fn(a,e))}async function pT(a,e){return Wt(a,"POST","/v1/accounts:delete",e)}async function Lo(a,e){return Wt(a,"POST","/v1/accounts:lookup",e)}function Nr(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gT(a,e=!1){const s=qn(a),i=await s.getIdToken(e),l=Mh(i);Q(l&&l.exp&&l.auth_time&&l.iat,s.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:i,authTime:Nr(Bd(l.auth_time)),issuedAtTime:Nr(Bd(l.iat)),expirationTime:Nr(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(a){return Number(a)*1e3}function Mh(a){const[e,s,i]=a.split(".");if(e===void 0||s===void 0||i===void 0)return So("JWT malformed, contained fewer than 3 sections"),null;try{const l=Gb(s);return l?JSON.parse(l):(So("Failed to decode base64 JWT payload"),null)}catch(l){return So("Caught error parsing JWT payload as JSON",l?.toString()),null}}function xy(a){const e=Mh(a);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Dr(a,e,s=!1){if(s)return e;try{return await e}catch(i){throw i instanceof hn&&yT(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function yT({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class bT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bh{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nr(this.lastLoginAt),this.creationTime=Nr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uo(a){const e=a.auth,s=await a.getIdToken(),i=await Dr(a,Lo(e,{idToken:s}));Q(i?.users.length,e,"internal-error");const l=i.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?fv(l.providerUserInfo):[],d=xT(a.providerData,c),f=a.isAnonymous,p=!(a.email&&l.passwordHash)&&!d?.length,g=f?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bh(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(a,y)}async function vT(a){const e=qn(a);await Uo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xT(a,e){return[...a.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function fv(a){return a.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function wT(a,e){const s=await cv(a,{},async()=>{const i=mi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await uv(a,l,"/v1/token",`key=${c}`),f=await a._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return a.emulatorConfig&&Yo(a.emulatorConfig.host)&&(p.credentials="include"),ov.fetch()(d,p)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function _T(a,e){return Wt(a,"POST","/v2/accounts:revokeToken",fn(a,e))}class li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const s=xy(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:i,refreshToken:l,expiresIn:c}=await wT(e,s);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,s,i){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,s){const{refreshToken:i,accessToken:l,expirationTime:c}=s,d=new li;return i&&(Q(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),l&&(Q(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Q(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new li,this.toJSON())}_performRefresh(){return Dn("not implemented")}}function gs(a,e){Q(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Zt{constructor({uid:e,auth:s,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new bT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const s=await Dr(this,this.stsTokenManager.getToken(this.auth,e));return Q(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return gT(this,e)}reload(){return vT(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Zt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),s&&await Uo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Dr(this,pT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const i=s.displayName??void 0,l=s.email??void 0,c=s.phoneNumber??void 0,d=s.photoURL??void 0,f=s.tenantId??void 0,p=s._redirectEventId??void 0,g=s.createdAt??void 0,y=s.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:_,providerData:j,stsTokenManager:M}=s;Q(v&&M,e,"internal-error");const k=li.fromJSON(this.name,M);Q(typeof v=="string",e,"internal-error"),gs(i,e.name),gs(l,e.name),Q(typeof x=="boolean",e,"internal-error"),Q(typeof _=="boolean",e,"internal-error"),gs(c,e.name),gs(d,e.name),gs(f,e.name),gs(p,e.name),gs(g,e.name),gs(y,e.name);const I=new Zt({uid:v,auth:e,email:l,emailVerified:x,displayName:i,isAnonymous:_,photoURL:d,phoneNumber:c,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return j&&Array.isArray(j)&&(I.providerData=j.map(O=>({...O}))),p&&(I._redirectEventId=p),I}static async _fromIdTokenResponse(e,s,i=!1){const l=new li;l.updateFromServerResponse(s);const c=new Zt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Uo(c),c}static async _fromGetAccountInfoResponse(e,s,i){const l=s.users[0];Q(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?fv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,f=new li;f.updateFromIdToken(i);const p=new Zt({uid:l.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const wy=new Map;function Ln(a){Bn(a instanceof Function,"Expected a class definition");let e=wy.get(a);return e?(Bn(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,wy.set(a,e),e)}class mv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}mv.type="NONE";const _y=mv;function jo(a,e,s){return`firebase:${a}:${e}:${s}`}class oi{constructor(e,s,i){this.persistence=e,this.auth=s,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=jo(this.userKey,l.apiKey,c),this.fullPersistenceKey=jo("persistence",l.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Lo(this.auth,{idToken:e}).catch(()=>{});return s?Zt._fromGetAccountInfoResponse(this.auth,s,e):null}return Zt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,i="authUser"){if(!s.length)return new oi(Ln(_y),e,i);const l=(await Promise.all(s.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||Ln(_y);const d=jo(i,e.config.apiKey,e.name);let f=null;for(const g of s)try{const y=await g._get(d);if(y){let v;if(typeof y=="string"){const x=await Lo(e,{idToken:y}).catch(()=>{});if(!x)break;v=await Zt._fromGetAccountInfoResponse(e,x,y)}else v=Zt._fromJSON(e,y);g!==c&&(f=v),c=g;break}}catch{}const p=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new oi(c,e,i):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(s.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new oi(c,e,i))}}function Sy(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xv(e))return"Blackberry";if(wv(e))return"Webos";if(gv(e))return"Safari";if((e.includes("chrome/")||yv(e))&&!e.includes("edge/"))return"Chrome";if(vv(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(s);if(i?.length===2)return i[1]}return"Other"}function pv(a=pt()){return/firefox\//i.test(a)}function gv(a=pt()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yv(a=pt()){return/crios\//i.test(a)}function bv(a=pt()){return/iemobile/i.test(a)}function vv(a=pt()){return/android/i.test(a)}function xv(a=pt()){return/blackberry/i.test(a)}function wv(a=pt()){return/webos/i.test(a)}function Ph(a=pt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function ST(a=pt()){return Ph(a)&&!!window.navigator?.standalone}function jT(){return z2()&&document.documentMode===10}function _v(a=pt()){return Ph(a)||vv(a)||wv(a)||xv(a)||/windows phone/i.test(a)||bv(a)}function Sv(a,e=[]){let s;switch(a){case"Browser":s=Sy(pt());break;case"Worker":s=`${Sy(pt())}-${a}`;break;default:s=a}const i=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Hr}/${i}`}class NT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const i=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});i.onAbort=s,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const i of this.queue)await i(e),i.onAbort&&s.push(i.onAbort)}catch(i){s.reverse();for(const l of s)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function ET(a,e={}){return Wt(a,"GET","/v2/passwordPolicy",fn(a,e))}const TT=6;class CT{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??TT,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(s.meetsMinPasswordLength=e.length>=i),l&&(s.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(s,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,s,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class AT{constructor(e,s,i,l){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jy(this),this.idTokenSubscription=new jy(this),this.beforeStateQueue=new NT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Ln(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Lo(this,{idToken:e}),i=await Zt._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(i)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(i=f.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Uo(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(Ns(this));const s=e?qn(e):null;return s&&Q(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ET(this),s=new CT(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,s,i){return this.registerStateListener(this.authStateSubscription,e,s,i)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,i){return this.registerStateListener(this.idTokenSubscription,e,s,i)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(i.tenantId=this.tenantId),await _T(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const i=await this.getOrInitRedirectPersistenceManager(s);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Ln(e)||this._popupRedirectResolver;Q(s,this,"argument-error"),this.redirectPersistenceManager=await oi.create(this,[Ln(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,i,l){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof s=="function"){const p=e.addObserver(s,i,l);return()=>{d=!0,p()}}else{const p=e.addObserver(s);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ts(a){return qn(a)}class jy{constructor(e){this.auth=e,this.observer=null,this.addObserver=G2(s=>this.observer=s)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kT(a){Vr=a}function zh(a){return Vr.loadJS(a)}function RT(){return Vr.recaptchaV2Script}function OT(){return Vr.recaptchaEnterpriseScript}function IT(){return Vr.gapiScript}function jv(a){return`__${a}${Math.floor(Math.random()*1e6)}`}const DT=500,LT=6e4,vo=1e12;class UT{constructor(e){this.auth=e,this.counter=vo,this._widgets=new Map}render(e,s){const i=this.counter;return this._widgets.set(i,new zT(e,this.auth.name,s||{})),this.counter++,i}reset(e){const s=e||vo;this._widgets.get(s)?.delete(),this._widgets.delete(s)}getResponse(e){const s=e||vo;return this._widgets.get(s)?.getResponse()||""}async execute(e){const s=e||vo;return this._widgets.get(s)?.execute(),""}}class MT{constructor(){this.enterprise=new PT}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class PT{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class zT{constructor(e,s,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const l=typeof e=="string"?document.getElementById(e):e;Q(l,"argument-error",{appName:s}),this.container=l,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=$T(50);const{callback:e,"expired-callback":s}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},LT)},DT))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function $T(a){const e=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<a;i++)e.push(s.charAt(Math.floor(Math.random()*s.length)));return e.join("")}const BT="recaptcha-enterprise",Er="NO_RECAPTCHA";class Nv{constructor(e){this.type=BT,this.auth=Ts(e)}async verify(e="verify",s=!1){async function i(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{hv(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new dv(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function l(c,d,f){const p=window.grecaptcha;vy(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(Er)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MT().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(f=>{if(!s&&vy(window.grecaptcha))l(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OT();p.length!==0&&(p+=f),zh(p).then(()=>{l(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function Hd(a,e,s,i=!1,l=!1){const c=new Nv(a);let d;if(l)d=Er;else try{d=await c.verify(s)}catch{d=await c.verify(s,!0)}const f={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function qd(a,e,s,i,l){if(a._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const c=await Hd(a,e,s);return i(a,c).catch(async d=>{if(a._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${s} flow.`);const f=await Hd(a,e,s,!1,!0);return i(a,f)}return Promise.reject(d)})}else{const c=await Hd(a,e,s,!1,!0);return i(a,c)}}async function HT(a){const e=Ts(a),s=await hv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new dv(s);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new Nv(e).verify()}function qT(a,e){const s=pi(a,"auth");if(s.isInitialized()){const l=s.getImmediate(),c=s.getOptions();if(ea(c,e??{}))return l;$n(l,"already-initialized")}return s.initialize({options:e})}function VT(a,e){const s=e?.persistence||[],i=(Array.isArray(s)?s:[s]).map(Ln);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(i,e?.popupRedirectResolver)}function GT(a,e,s){const i=Ts(a);Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=Ev(e),{host:d,port:f}=KT(e),p=f===null?"":`:${f}`,g={url:`${c}//${d}${p}/`},y=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(ea(g,i.config.emulator)&&ea(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Yo(d)?(O2(`${c}//${d}${p}`),L2("Auth",!0)):FT()}function Ev(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function KT(a){const e=Ev(a),s=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!s)return{host:"",port:null};const i=s[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:Ny(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:Ny(d)}}}function Ny(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function FT(){function a(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class $h{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,s){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}async function ci(a,e){return Jo(a,"POST","/v1/accounts:signInWithIdp",fn(a,e))}const YT="http://localhost";class ta extends $h{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):$n("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...c}=s;if(!i||!l)return null;const d=new ta(i,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return ci(e,s)}_linkToIdToken(e,s){const i=this.buildRequest();return i.idToken=s,ci(e,i)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,ci(e,s)}buildRequest(){const e={requestUri:YT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=mi(s)}return e}}async function Ey(a,e){return Wt(a,"POST","/v1/accounts:sendVerificationCode",fn(a,e))}async function JT(a,e){return Jo(a,"POST","/v1/accounts:signInWithPhoneNumber",fn(a,e))}async function XT(a,e){const s=await Jo(a,"POST","/v1/accounts:signInWithPhoneNumber",fn(a,e));if(s.temporaryProof)throw br(a,"account-exists-with-different-credential",s);return s}const QT={USER_NOT_FOUND:"user-not-found"};async function ZT(a,e){const s={...e,operation:"REAUTH"};return Jo(a,"POST","/v1/accounts:signInWithPhoneNumber",fn(a,s),QT)}class Tr extends $h{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,s){return new Tr({verificationId:e,verificationCode:s})}static _fromTokenResponse(e,s){return new Tr({phoneNumber:e,temporaryProof:s})}_getIdTokenResponse(e){return JT(e,this._makeVerificationRequest())}_linkToIdToken(e,s){return XT(e,{idToken:s,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return ZT(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:s,verificationId:i,verificationCode:l}=this.params;return e&&s?{temporaryProof:e,phoneNumber:s}:{sessionInfo:i,code:l}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:s,verificationCode:i,phoneNumber:l,temporaryProof:c}=e;return!i&&!s&&!l&&!c?null:new Tr({verificationId:s,verificationCode:i,phoneNumber:l,temporaryProof:c})}}class Tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gr extends Tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vs extends Gr{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";class xs extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return ta._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:i}=e;if(!s&&!i)return null;try{return xs.credential(s,i)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";class ws extends Gr{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";class _s extends Gr{constructor(){super("twitter.com")}static credential(e,s){return ta._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:i}=e;if(!s||!i)return null;try{return _s.credential(s,i)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,i,l=!1){const c=await Zt._fromIdTokenResponse(e,i,l),d=Ty(i);return new di({user:c,providerId:d,_tokenResponse:i,operationType:s})}static async _forOperation(e,s,i){await e._updateTokensIfNecessary(i,!0);const l=Ty(i);return new di({user:e,providerId:l,_tokenResponse:i,operationType:s})}}function Ty(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Mo extends hn{constructor(e,s,i,l){super(s.code,s.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,s,i,l){return new Mo(e,s,i,l)}}function Cv(a,e,s,i){return(e==="reauthenticate"?s._getReauthenticationResolver(a):s._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Mo._fromErrorAndOperation(a,c,e,i):c})}async function WT(a,e,s=!1){const i=await Dr(a,e._linkToIdToken(a.auth,await a.getIdToken()),s);return di._forOperation(a,"link",i)}async function eC(a,e,s=!1){const{auth:i}=a;if(rn(i.app))return Promise.reject(Ns(i));const l="reauthenticate";try{const c=await Dr(a,Cv(i,l,e,a),s);Q(c.idToken,i,"internal-error");const d=Mh(c.idToken);Q(d,i,"internal-error");const{sub:f}=d;return Q(a.uid===f,i,"user-mismatch"),di._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$n(i,"user-mismatch"),c}}async function Av(a,e,s=!1){if(rn(a.app))return Promise.reject(Ns(a));const i="signIn",l=await Cv(a,i,e),c=await di._fromIdTokenResponse(a,i,l);return s||await a._updateCurrentUser(c.user),c}async function tC(a,e){return Av(Ts(a),e)}function nC(a,e,s,i){return qn(a).onIdTokenChanged(e,s,i)}function sC(a,e,s){return qn(a).beforeAuthStateChanged(e,s)}function Cy(a,e){return Wt(a,"POST","/v2/accounts/mfaEnrollment:start",fn(a,e))}const Po="__sak";class kv{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Po,"1"),this.storage.removeItem(Po),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aC=1e3,iC=10;class Rv extends kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_v(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const i=this.storage.getItem(s),l=this.localCache[s];i!==l&&e(s,l,i)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const i=e.key;s?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(i);!s&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);jT()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,iC):l()}notifyListeners(e,s){this.localCache[e]=s;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:i}),!0)})},aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rv.type="LOCAL";const rC=Rv;class Ov extends kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}Ov.type="SESSION";const Iv=Ov;function lC(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class Xo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(l=>l.isListeningto(e));if(s)return s;const i=new Xo(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:i,eventType:l,data:c}=s.data,d=this.handlersMap[l];if(!d?.size)return;s.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const f=Array.from(d).map(async g=>g(s.origin,c)),p=await lC(f);s.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xo.receivers=[];function Bh(a="",e=10){let s="";for(let i=0;i<e;i++)s+=Math.floor(Math.random()*10);return a+s}class oC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const g=Bh("",20);l.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:l,onMessage(v){const x=v;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(x.data.response);break;default:clearTimeout(y),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:s},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Xe(){return window}function cC(a){Xe().location.href=a}function Hh(){return typeof Xe().WorkerGlobalScope<"u"&&typeof Xe().importScripts=="function"}async function uC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dC(){return navigator?.serviceWorker?.controller||null}function hC(){return Hh()?self:null}const Dv="firebaseLocalStorageDb",fC=1,zo="firebaseLocalStorage",Lv="fbase_key";class Kr{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Qo(a,e){return a.transaction([zo],e?"readwrite":"readonly").objectStore(zo)}function mC(){const a=indexedDB.deleteDatabase(Dv);return new Kr(a).toPromise()}function vh(){const a=indexedDB.open(Dv,fC);return new Promise((e,s)=>{a.addEventListener("error",()=>{s(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(zo,{keyPath:Lv})}catch(l){s(l)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(zo)?e(i):(i.close(),await mC(),e(await vh()))})})}async function Ay(a,e,s){const i=Qo(a,!0).put({[Lv]:e,value:s});return new Kr(i).toPromise()}async function pC(a,e){const s=Qo(a,!1).get(e),i=await new Kr(s).toPromise();return i===void 0?null:i.value}function ky(a,e){const s=Qo(a,!0).delete(e);return new Kr(s).toPromise()}const gC=800,yC=3;class Uv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vh(),this.db)}async _withRetries(e){let s=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(s++>yC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xo._getInstance(hC()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uC(),!this.activeServiceWorker)return;this.sender=new oC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vh();return await Ay(e,Po,"1"),await ky(e,Po),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ay(i,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(i=>pC(i,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>ky(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Qo(l,!1).getAll();return new Kr(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),s.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),s.push(l));return s}notifyListeners(e,s){this.localCache[e]=s;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uv.type="LOCAL";const bC=Uv;function Ry(a,e){return Wt(a,"POST","/v2/accounts/mfaSignIn:start",fn(a,e))}const Vd=jv("rcb"),vC=new qr(3e4,6e4);class xC{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xe().grecaptcha?.render}load(e,s=""){return Q(wC(s),e,"argument-error"),this.shouldResolveImmediately(s)&&by(Xe().grecaptcha)?Promise.resolve(Xe().grecaptcha):new Promise((i,l)=>{const c=Xe().setTimeout(()=>{l(Dt(e,"network-request-failed"))},vC.get());Xe()[Vd]=()=>{Xe().clearTimeout(c),delete Xe()[Vd];const f=Xe().grecaptcha;if(!f||!by(f)){l(Dt(e,"internal-error"));return}const p=f.render;f.render=(g,y)=>{const v=p(g,y);return this.counter++,v},this.hostLanguage=s,i(f)};const d=`${RT()}?${mi({onload:Vd,render:"explicit",hl:s})}`;zh(d).catch(()=>{clearTimeout(c),l(Dt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Xe().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function wC(a){return a.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a)}class _C{async load(e){return new UT(e)}clearedOneInstance(){}}const Cr="recaptcha",SC={theme:"light",type:"image"};class jC{constructor(e,s,i={...SC}){this.parameters=i,this.type=Cr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ts(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const l=typeof s=="string"?document.getElementById(s):s;Q(l,this.auth,"argument-error"),this.container=l,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _C:new xC,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),s=this.getAssertedRecaptcha(),i=s.getResponse(e);return i||new Promise(l=>{const c=d=>{d&&(this.tokenChangeListeners.delete(c),l(d))};this.tokenChangeListeners.add(c),this.isInvisible&&s.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return s=>{if(this.tokenChangeListeners.forEach(i=>i(s)),typeof e=="function")e(s);else if(typeof e=="string"){const i=Xe()[e];typeof i=="function"&&i(s)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const s=document.createElement("div");e.appendChild(s),e=s}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Q(lv()&&!Hh(),this.auth,"internal-error"),await NC(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await mT(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function NC(){let a=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}a=()=>e(),window.addEventListener("load",a)}).catch(e=>{throw a&&window.removeEventListener("load",a),e})}class EC{constructor(e,s){this.verificationId=e,this.onConfirmation=s}confirm(e){const s=Tr._fromVerification(this.verificationId,e);return this.onConfirmation(s)}}async function TC(a,e,s){if(rn(a.app))return Promise.reject(Ns(a));const i=Ts(a),l=await CC(i,e,qn(s));return new EC(l,c=>tC(i,c))}async function CC(a,e,s){if(!a._getRecaptchaConfig())try{await HT(a)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){Q(l.type==="enroll",a,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await qd(a,c,"mfaSmsEnrollment",async(g,y)=>{if(y.phoneEnrollmentInfo.captchaResponse===Er){Q(s?.type===Cr,g,"argument-error");const v=await Gd(g,y,s);return Cy(g,v)}return Cy(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{Q(l.type==="signin",a,"internal-error");const c=i.multiFactorHint?.uid||i.multiFactorUid;Q(c,a,"missing-multi-factor-info");const d={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await qd(a,d,"mfaSmsSignIn",async(y,v)=>{if(v.phoneSignInInfo.captchaResponse===Er){Q(s?.type===Cr,y,"argument-error");const x=await Gd(y,v,s);return Ry(y,x)}return Ry(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await qd(a,l,"sendVerificationCode",async(p,g)=>{if(g.captchaResponse===Er){Q(s?.type===Cr,p,"argument-error");const y=await Gd(p,g,s);return Ey(p,y)}return Ey(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{s?._reset()}}async function Gd(a,e,s){Q(s.type===Cr,a,"argument-error");const i=await s.verify();Q(typeof i=="string",a,"argument-error");const l={...e};if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.captchaResponse,f=l.phoneEnrollmentInfo.clientType,p=l.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:i,captchaResponse:d,clientType:f,recaptchaVersion:p}}),l}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.captchaResponse,d=l.phoneSignInInfo.clientType,f=l.phoneSignInInfo.recaptchaVersion;return Object.assign(l,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:c,clientType:d,recaptchaVersion:f}}),l}else return Object.assign(l,{recaptchaToken:i}),l}function AC(a,e){return e?Ln(e):(Q(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class qh extends $h{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ci(e,this._buildIdpRequest())}_linkToIdToken(e,s){return ci(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function kC(a){return Av(a.auth,new qh(a),a.bypassAuthState)}function RC(a){const{auth:e,user:s}=a;return Q(s,e,"internal-error"),eC(s,new qh(a),a.bypassAuthState)}async function OC(a){const{auth:e,user:s}=a;return Q(s,e,"internal-error"),WT(s,new qh(a),a.bypassAuthState)}class Mv{constructor(e,s,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:i,postBody:l,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:s,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return RC;default:$n(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IC=new qr(2e3,1e4);class ri extends Mv{constructor(e,s,i,l,c){super(e,s,l,c),this.provider=i,this.authWindow=null,this.pollId=null,ri.currentPopupAction&&ri.currentPopupAction.cancel(),ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=Bh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Dt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IC.get())};e()}}ri.currentPopupAction=null;const DC="pendingRedirect",No=new Map;class LC extends Mv{constructor(e,s,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,i),this.eventId=null}async execute(){let e=No.get(this.auth._key());if(!e){try{const i=await UC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(s){e=()=>Promise.reject(s)}No.set(this.auth._key(),e)}return this.bypassAuthState||No.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(a,e){const s=zC(e),i=PC(a);if(!await i._isAvailable())return!1;const l=await i._get(s)==="true";return await i._remove(s),l}function MC(a,e){No.set(a._key(),e)}function PC(a){return Ln(a._redirectPersistence)}function zC(a){return jo(DC,a.config.apiKey,a.name)}async function $C(a,e,s=!1){if(rn(a.app))return Promise.reject(Ns(a));const i=Ts(a),l=AC(i,e),d=await new LC(i,l,s).execute();return d&&!s&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const BC=600*1e3;class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(s=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qC(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!Pv(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Dt(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const i=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oy(e))}saveEventToCache(e){this.cachedEventUids.add(Oy(e)),this.lastProcessedEventTime=Date.now()}}function Oy(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Pv({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function qC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pv(a);default:return!1}}async function VC(a,e={}){return Wt(a,"GET","/v1/projects",e)}const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KC=/^https?/;async function FC(a){if(a.config.emulator)return;const{authorizedDomains:e}=await VC(a);for(const s of e)try{if(YC(s))return}catch{}$n(a,"unauthorized-domain")}function YC(a){const e=yh(),{protocol:s,hostname:i}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&i===""?s==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===i}if(!KC.test(s))return!1;if(GC.test(a))return i===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}const JC=new qr(3e4,6e4);function Iy(){const a=Xe().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let s=0;s<a.CP.length;s++)a.CP[s]=null}}function XC(a){return new Promise((e,s)=>{function i(){Iy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iy(),s(Dt(a,"network-request-failed"))},timeout:JC.get()})}if(Xe().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xe().gapi?.load)i();else{const l=jv("iframefcb");return Xe()[l]=()=>{gapi.load?i():s(Dt(a,"network-request-failed"))},zh(`${IT()}?onload=${l}`).catch(c=>s(c))}}).catch(e=>{throw Eo=null,e})}let Eo=null;function QC(a){return Eo=Eo||XC(a),Eo}const ZC=new qr(5e3,15e3),WC="__/auth/iframe",eA="emulator/auth/iframe",tA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sA(a){const e=a.config;Q(e.authDomain,a,"auth-domain-config-required");const s=e.emulator?Uh(e,eA):`https://${a.config.authDomain}/${WC}`,i={apiKey:e.apiKey,appName:a.name,v:Hr},l=nA.get(a.config.apiHost);l&&(i.eid=l);const c=a._getFrameworks();return c.length&&(i.fw=c.join(",")),`${s}?${mi(i).slice(1)}`}async function aA(a){const e=await QC(a),s=Xe().gapi;return Q(s,a,"internal-error"),e.open({where:document.body,url:sA(a),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tA,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const d=Dt(a,"network-request-failed"),f=Xe().setTimeout(()=>{c(d)},ZC.get());function p(){Xe().clearTimeout(f),l(i)}i.ping(p).then(p,()=>{c(d)})}))}const iA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rA=500,lA=600,oA="_blank",cA="http://localhost";class Dy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uA(a,e,s,i=rA,l=lA){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...iA,width:i.toString(),height:l.toString(),top:c,left:d},g=pt().toLowerCase();s&&(f=yv(g)?oA:s),pv(g)&&(e=e||cA,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[_,j])=>`${x}${_}=${j},`,"");if(ST(g)&&f!=="_self")return dA(e||"",f),new Dy(null);const v=window.open(e||"",f,y);Q(v,a,"popup-blocked");try{v.focus()}catch{}return new Dy(v)}function dA(a,e){const s=document.createElement("a");s.href=a,s.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(i)}const hA="__/auth/handler",fA="emulator/auth/handler",mA=encodeURIComponent("fac");async function Ly(a,e,s,i,l,c){Q(a.config.authDomain,a,"auth-domain-config-required"),Q(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:s,redirectUrl:i,v:Hr,eventId:l};if(e instanceof Tv){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",V2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))d[y]=v}if(e instanceof Gr){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(d.scopes=y.join(","))}a.tenantId&&(d.tid=a.tenantId);const f=d;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await a._getAppCheckToken(),g=p?`#${mA}=${encodeURIComponent(p)}`:"";return`${pA(a)}?${mi(f).slice(1)}${g}`}function pA({config:a}){return a.emulator?Uh(a,fA):`https://${a.authDomain}/${hA}`}const Kd="webStorageSupport";class gA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iv,this._completeRedirectFn=$C,this._overrideRedirectResult=MC}async _openPopup(e,s,i,l){Bn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ly(e,s,i,yh(),l);return uA(e,c,Bh())}async _openRedirect(e,s,i,l){await this._originValidation(e);const c=await Ly(e,s,i,yh(),l);return cC(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:l,promise:c}=this.eventManagers[s];return l?Promise.resolve(l):(Bn(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[s]={promise:i},i.catch(()=>{delete this.eventManagers[s]}),i}async initAndGetManager(e){const s=await aA(e),i=new HC(e);return s.register("authEvent",l=>(Q(l?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=s,i}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&s(!!c),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=FC(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return _v()||gv()||Ph()}}const yA=gA;var Uy="@firebase/auth",My="1.11.0";class bA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vA(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xA(a){zn(new cn("auth",(e,{options:s})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;Q(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sv(a)},g=new AT(i,l,c,p);return VT(g,s),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,i)=>{e.getProvider("auth-internal").initialize()})),zn(new cn("auth-internal",e=>{const s=Ts(e.getProvider("auth").getImmediate());return(i=>new bA(i))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(Uy,My,vA(a)),on(Uy,My,"esm2020")}const wA=300,_A=Fb("authIdTokenMaxAge")||wA;let Py=null;const SA=a=>async e=>{const s=e&&await e.getIdTokenResult(),i=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(i&&i>_A)return;const l=s?.token;Py!==l&&(Py=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jA(a=tv()){const e=pi(a,"auth");if(e.isInitialized())return e.getImmediate();const s=qT(a,{popupRedirectResolver:yA,persistence:[bC,rC,Iv]}),i=Fb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=SA(c.toString());sC(s,d,()=>d(s.currentUser)),nC(s,f=>d(f))}}const l=k2("auth");return l&&GT(s,`http://${l}`),s}function NA(){return document.getElementsByTagName("head")?.[0]??document}kT({loadJS(a){return new Promise((e,s)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=e,i.onerror=l=>{const c=Dt("internal-error");c.customData=l,s(c)},i.type="text/javascript",i.charset="UTF-8",NA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xA("Browser");var EA="firebase",TA="12.0.0";on(EA,TA,"app");const zv="@firebase/installations",Vh="0.6.19";const $v=1e4,Bv=`w:${Vh}`,Hv="FIS_v2",CA="https://firebaseinstallations.googleapis.com/v1",AA=3600*1e3,kA="installations",RA="Installations";const OA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new ia(kA,RA,OA);function qv(a){return a instanceof hn&&a.code.includes("request-failed")}function Vv({projectId:a}){return`${CA}/projects/${a}/installations`}function Gv(a){return{token:a.token,requestStatus:2,expiresIn:DA(a.expiresIn),creationTime:Date.now()}}async function Kv(a,e){const i=(await e.json()).error;return na.create("request-failed",{requestName:a,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Fv({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function IA(a,{refreshToken:e}){const s=Fv(a);return s.append("Authorization",LA(e)),s}async function Yv(a){const e=await a();return e.status>=500&&e.status<600?a():e}function DA(a){return Number(a.replace("s","000"))}function LA(a){return`${Hv} ${a}`}async function UA({appConfig:a,heartbeatServiceProvider:e},{fid:s}){const i=Vv(a),l=Fv(a),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:s,authVersion:Hv,appId:a.appId,sdkVersion:Bv},f={method:"POST",headers:l,body:JSON.stringify(d)},p=await Yv(()=>fetch(i,f));if(p.ok){const g=await p.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:Gv(g.authToken)}}else throw await Kv("Create Installation",p)}function Jv(a){return new Promise(e=>{setTimeout(e,a)})}function MA(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const PA=/^[cdef][\w-]{21}$/,xh="";function zA(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const s=$A(a);return PA.test(s)?s:xh}catch{return xh}}function $A(a){return MA(a).substr(0,22)}function Zo(a){return`${a.appName}!${a.appId}`}const Xv=new Map;function Qv(a,e){const s=Zo(a);Zv(s,e),BA(s,e)}function Zv(a,e){const s=Xv.get(a);if(s)for(const i of s)i(e)}function BA(a,e){const s=HA();s&&s.postMessage({key:a,fid:e}),qA()}let Zs=null;function HA(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=a=>{Zv(a.data.key,a.data.fid)}),Zs}function qA(){Xv.size===0&&Zs&&(Zs.close(),Zs=null)}const VA="firebase-installations-database",GA=1,sa="firebase-installations-store";let Fd=null;function Gh(){return Fd||(Fd=Wb(VA,GA,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(sa)}}})),Fd}async function $o(a,e){const s=Zo(a),l=(await Gh()).transaction(sa,"readwrite"),c=l.objectStore(sa),d=await c.get(s);return await c.put(e,s),await l.done,(!d||d.fid!==e.fid)&&Qv(a,e.fid),e}async function Wv(a){const e=Zo(a),i=(await Gh()).transaction(sa,"readwrite");await i.objectStore(sa).delete(e),await i.done}async function Wo(a,e){const s=Zo(a),l=(await Gh()).transaction(sa,"readwrite"),c=l.objectStore(sa),d=await c.get(s),f=e(d);return f===void 0?await c.delete(s):await c.put(f,s),await l.done,f&&(!d||d.fid!==f.fid)&&Qv(a,f.fid),f}async function Kh(a){let e;const s=await Wo(a.appConfig,i=>{const l=KA(i),c=FA(a,l);return e=c.registrationPromise,c.installationEntry});return s.fid===xh?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function KA(a){const e=a||{fid:zA(),registrationStatus:0};return ex(e)}function FA(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=YA(a,s);return{installationEntry:s,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JA(a)}:{installationEntry:e}}async function YA(a,e){try{const s=await UA(a,e);return $o(a.appConfig,s)}catch(s){throw qv(s)&&s.customData.serverCode===409?await Wv(a.appConfig):await $o(a.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function JA(a){let e=await zy(a.appConfig);for(;e.registrationStatus===1;)await Jv(100),e=await zy(a.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:i}=await Kh(a);return i||s}return e}function zy(a){return Wo(a,e=>{if(!e)throw na.create("installation-not-found");return ex(e)})}function ex(a){return XA(a)?{fid:a.fid,registrationStatus:0}:a}function XA(a){return a.registrationStatus===1&&a.registrationTime+$v<Date.now()}async function QA({appConfig:a,heartbeatServiceProvider:e},s){const i=ZA(a,s),l=IA(a,s),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:Bv,appId:a.appId}},f={method:"POST",headers:l,body:JSON.stringify(d)},p=await Yv(()=>fetch(i,f));if(p.ok){const g=await p.json();return Gv(g)}else throw await Kv("Generate Auth Token",p)}function ZA(a,{fid:e}){return`${Vv(a)}/${e}/authTokens:generate`}async function Fh(a,e=!1){let s;const i=await Wo(a.appConfig,c=>{if(!tx(c))throw na.create("not-registered");const d=c.authToken;if(!e&&tk(d))return c;if(d.requestStatus===1)return s=WA(a,e),c;{if(!navigator.onLine)throw na.create("app-offline");const f=sk(c);return s=ek(a,f),f}});return s?await s:i.authToken}async function WA(a,e){let s=await $y(a.appConfig);for(;s.authToken.requestStatus===1;)await Jv(100),s=await $y(a.appConfig);const i=s.authToken;return i.requestStatus===0?Fh(a,e):i}function $y(a){return Wo(a,e=>{if(!tx(e))throw na.create("not-registered");const s=e.authToken;return ak(s)?{...e,authToken:{requestStatus:0}}:e})}async function ek(a,e){try{const s=await QA(a,e),i={...e,authToken:s};return await $o(a.appConfig,i),s}catch(s){if(qv(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await Wv(a.appConfig);else{const i={...e,authToken:{requestStatus:0}};await $o(a.appConfig,i)}throw s}}function tx(a){return a!==void 0&&a.registrationStatus===2}function tk(a){return a.requestStatus===2&&!nk(a)}function nk(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+AA}function sk(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function ak(a){return a.requestStatus===1&&a.requestTime+$v<Date.now()}async function ik(a){const e=a,{installationEntry:s,registrationPromise:i}=await Kh(e);return i?i.catch(console.error):Fh(e).catch(console.error),s.fid}async function rk(a,e=!1){const s=a;return await lk(s),(await Fh(s,e)).token}async function lk(a){const{registrationPromise:e}=await Kh(a);e&&await e}function ok(a){if(!a||!a.options)throw Yd("App Configuration");if(!a.name)throw Yd("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!a.options[s])throw Yd(s);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Yd(a){return na.create("missing-app-config-values",{valueName:a})}const nx="installations",ck="installations-internal",uk=a=>{const e=a.getProvider("app").getImmediate(),s=ok(e),i=pi(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},dk=a=>{const e=a.getProvider("app").getImmediate(),s=pi(e,nx).getImmediate();return{getId:()=>ik(s),getToken:l=>rk(s,l)}};function hk(){zn(new cn(nx,uk,"PUBLIC")),zn(new cn(ck,dk,"PRIVATE"))}hk();on(zv,Vh);on(zv,Vh,"esm2020");const Bo="analytics",fk="firebase_id",mk="origin",pk=60*1e3,gk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yh="https://www.googletagmanager.com/gtag/js";const St=new Ih("@firebase/analytics");const yk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Lt=new ia("analytics","Analytics",yk);function bk(a){if(!a.startsWith(Yh)){const e=Lt.create("invalid-gtag-resource",{gtagURL:a});return St.warn(e.message),""}return a}function sx(a){return Promise.all(a.map(e=>e.catch(s=>s)))}function vk(a,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(a,e)),s}function xk(a,e){const s=vk("firebase-js-sdk-policy",{createScriptURL:bk}),i=document.createElement("script"),l=`${Yh}?l=${a}&id=${e}`;i.src=s?s?.createScriptURL(l):l,i.async=!0,document.head.appendChild(i)}function wk(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function _k(a,e,s,i,l,c){const d=i[l];try{if(d)await e[d];else{const p=(await sx(s)).find(g=>g.measurementId===l);p&&await e[p.appId]}}catch(f){St.error(f)}a("config",l,c)}async function Sk(a,e,s,i,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const f=await sx(s);for(const p of d){const g=f.find(v=>v.measurementId===p),y=g&&e[g.appId];if(y)c.push(y);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),a("event",i,l||{})}catch(c){St.error(c)}}function jk(a,e,s,i){async function l(c,...d){try{if(c==="event"){const[f,p]=d;await Sk(a,e,s,f,p)}else if(c==="config"){const[f,p]=d;await _k(a,e,s,i,f,p)}else if(c==="consent"){const[f,p]=d;a("consent",f,p)}else if(c==="get"){const[f,p,g]=d;a("get",f,p,g)}else if(c==="set"){const[f]=d;a("set",f)}else a(c,...d)}catch(f){St.error(f)}}return l}function Nk(a,e,s,i,l){let c=function(...d){window[i].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=jk(c,a,e,s),{gtagCore:c,wrappedGtag:window[l]}}function Ek(a){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(Yh)&&s.src.includes(a))return s;return null}const Tk=30,Ck=1e3;class Ak{constructor(e={},s=Ck){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ax=new Ak;function kk(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function Rk(a){const{appId:e,apiKey:s}=a,i={method:"GET",headers:kk(s)},l=gk.replace("{app-id}",e),c=await fetch(l,i);if(c.status!==200&&c.status!==304){let d="";try{const f=await c.json();f.error?.message&&(d=f.error.message)}catch{}throw Lt.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function Ok(a,e=ax,s){const{appId:i,apiKey:l,measurementId:c}=a.options;if(!i)throw Lt.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:i};throw Lt.create("no-api-key")}const d=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Lk;return setTimeout(async()=>{f.abort()},pk),ix({appId:i,apiKey:l,measurementId:c},d,f,e)}async function ix(a,{throttleEndTimeMillis:e,backoffCount:s},i,l=ax){const{appId:c,measurementId:d}=a;try{await Ik(i,e)}catch(f){if(d)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:d};throw f}try{const f=await Rk(a);return l.deleteThrottleMetadata(c),f}catch(f){const p=f;if(!Dk(p)){if(l.deleteThrottleMetadata(c),d)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw f}const g=Number(p?.customData?.httpStatus)===503?oy(s,l.intervalMillis,Tk):oy(s,l.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1};return l.setThrottleMetadata(c,y),St.debug(`Calling attemptFetch again in ${g} millis`),ix(a,y,i,l)}}function Ik(a,e){return new Promise((s,i)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(s,l);a.addEventListener(()=>{clearTimeout(c),i(Lt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Dk(a){if(!(a instanceof hn)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class Lk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Uk(a,e,s,i,l){if(l&&l.global){a("event",s,i);return}else{const c=await e,d={...i,send_to:c};a("event",s,d)}}async function Mk(){if(Jb())try{await Xb()}catch(a){return St.warn(Lt.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return St.warn(Lt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Pk(a,e,s,i,l,c,d){const f=Ok(a);f.then(x=>{s[x.measurementId]=x.appId,a.options.measurementId&&x.measurementId!==a.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>St.error(x)),e.push(f);const p=Mk().then(x=>{if(x)return i.getId()}),[g,y]=await Promise.all([f,p]);Ek(c)||xk(c,g.measurementId),l("js",new Date);const v=d?.config??{};return v[mk]="firebase",v.update=!0,y!=null&&(v[fk]=y),l("config",g.measurementId,v),g.measurementId}class zk{constructor(e){this.app=e}_delete(){return delete Ar[this.app.options.appId],Promise.resolve()}}let Ar={},By=[];const Hy={};let Jd="dataLayer",$k="gtag",qy,rx,Vy=!1;function Bk(){const a=[];if(Yb()&&a.push("This is a browser extension environment."),$2()||a.push("Cookies are not available."),a.length>0){const e=a.map((i,l)=>`(${l+1}) ${i}`).join(" "),s=Lt.create("invalid-analytics-context",{errorInfo:e});St.warn(s.message)}}function Hk(a,e,s){Bk();const i=a.options.appId;if(!i)throw Lt.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Lt.create("no-api-key");if(Ar[i]!=null)throw Lt.create("already-exists",{id:i});if(!Vy){wk(Jd);const{wrappedGtag:c,gtagCore:d}=Nk(Ar,By,Hy,Jd,$k);rx=c,qy=d,Vy=!0}return Ar[i]=Pk(a,By,Hy,e,qy,Jd,s),new zk(a)}function qk(a=tv()){a=qn(a);const e=pi(a,Bo);return e.isInitialized()?e.getImmediate():Vk(a)}function Vk(a,e={}){const s=pi(a,Bo);if(s.isInitialized()){const l=s.getImmediate();if(ea(e,s.getOptions()))return l;throw Lt.create("already-initialized")}return s.initialize({options:e})}function Gk(a,e,s,i){a=qn(a),Uk(rx,Ar[a.app.options.appId],e,s,i).catch(l=>St.error(l))}const Gy="@firebase/analytics",Ky="0.10.18";function Kk(){zn(new cn(Bo,(e,{options:s})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return Hk(i,l,s)},"PUBLIC")),zn(new cn("analytics-internal",a,"PRIVATE")),on(Gy,Ky),on(Gy,Ky,"esm2020");function a(e){try{const s=e.getProvider(Bo).getImmediate();return{logEvent:(i,l,c)=>Gk(s,i,l,c)}}catch(s){throw Lt.create("interop-component-reg-failed",{reason:s})}}}Kk();const Fk={apiKey:"AIzaSyAKUD99sVYnK5irQey028CmYUE-ZeiWh18",authDomain:"campus-4f167.firebaseapp.com",projectId:"campus-4f167",storageBucket:"campus-4f167.firebasestorage.app",messagingSenderId:"874089973237",appId:"1:874089973237:web:f9ade8cb63a9bf00c64cbc",measurementId:"G-0BRQDHMJME"},lx=ev(Fk),Jh=jA(lx);typeof window<"u"&&qk(lx);Jh.languageCode="ko";let Ws=null;const Yk=(a="recaptcha-container")=>Ws||(Ws=new jC(Jh,a,{size:"invisible",callback:()=>{console.log("reCAPTCHA verified")},"expired-callback":()=>{console.log("reCAPTCHA expired")}}),Ws),Fy=async a=>{try{const e=Zk(a),s=Yk(),i=await TC(Jh,e,s);return console.log("SMS  :",e),i}catch(e){throw console.error("SMS  :",e),new Error(eR(e.code))}},Jk=async(a,e)=>{try{const i=(await a.confirm(e)).user;console.log("Firebase  :",i.uid);const{isNewUser:l,userData:c}=await Xk(i.uid);return{user:i,error:null,isNewUser:l,userData:c}}catch(s){return console.error("  :",s),{user:null,error:new Error(tR(s.code)),isNewUser:!1,userData:null}}},Xk=async a=>{try{console.log(" Supabase  :",{firebaseUid:a,supabaseClient:fe?" ":" "});const{data:e,error:s}=await fe.from("users").select("*").eq("firebase_uid",a).single();if(console.log(" Supabase  :",{hasData:!!e,error:s?s.message:null,errorCode:s?s.code:null}),s&&s.code!=="PGRST116")throw s;return e?(console.log("  "),{isNewUser:!1,userData:e}):(console.log(" "),{isNewUser:!0,userData:null})}catch(e){return console.error("  :",e),{isNewUser:!0,userData:null}}},Qk=async(a,e,s)=>{try{const i=e.replace(/[^\d]/g,"").replace(/^\+82/,"0");console.log("  :",i);const{data:l,error:c}=await fe.from("users").insert({firebase_uid:a,phone_number:i,name:s.name,age:s.age,gender:s.gender,location:s.location,bio:s.bio,created_at:new Date().toISOString()}).select().single();if(c)throw console.error("  :",c),c;return console.log("Supabase   :",l),{data:l,error:null}}catch(i){return console.error("createUserProfile :",i),{data:null,error:i}}},Zk=a=>{let e=a.replace(/[\s-]/g,"");return e.startsWith("0")&&(e="+82"+e.substring(1)),e.startsWith("+82")||(e="+82"+e),e},Wk=a=>{const e=a.replace(/[\s-]/g,"");return/^(0(10|11|16|17|18|19))\d{7,8}$/.test(e)?{valid:!0}:{valid:!1,error:"   . (: 010-1234-5678)"}},eR=a=>{switch(a){case"auth/invalid-phone-number":return"  .";case"auth/missing-phone-number":return" .";case"auth/quota-exceeded":return"SMS   .    .";case"auth/too-many-requests":return"   .    .";default:return"SMS  .  ."}},tR=a=>{switch(a){case"auth/invalid-verification-code":return" .";case"auth/code-expired":return" .  .";default:return" .  ."}},nR=()=>{Ws&&(Ws.clear(),Ws=null)};function sR(){const a=$e(),[e,s]=E.useState("phone"),[i,l]=E.useState(""),[c,d]=E.useState(""),[f,p]=E.useState(!1),[g,y]=E.useState(null),[v,x]=E.useState(180),[_,j]=E.useState(!1);E.useEffect(()=>{if(e==="verify"&&v>0){const F=setInterval(()=>{x(K=>K<=1?(j(!0),0):K-1)},1e3);return()=>clearInterval(F)}},[e,v]),E.useEffect(()=>()=>{nR()},[]);const M=F=>{const K=F.replace(/[^\d]/g,"");return K.length<=3?K:K.length<=7?`${K.slice(0,3)}-${K.slice(3)}`:`${K.slice(0,3)}-${K.slice(3,7)}-${K.slice(7,11)}`},k=async F=>{F.preventDefault();const K=Wk(i);if(!K.valid){alert(K.error);return}p(!0);try{const z=await Fy(i);y(z),s("verify"),x(180),j(!1),alert(" .")}catch(z){alert(z.message)}finally{p(!1)}},I=async()=>{if(_){p(!0);try{const F=await Fy(i);y(F),x(180),j(!1),alert(" .")}catch(F){alert(F.message)}finally{p(!1)}}},O=async F=>{if(F.preventDefault(),!g){alert("  .");return}if(c.length!==6){alert(" 6 .");return}p(!0);try{const{user:K,error:z,isNewUser:X,userData:B}=await Jk(g,c);if(z){alert(z.message);return}X?(alert(" .  ."),a("/signup",{state:{firebaseUid:K?.uid,phoneNumber:i}})):(alert(" !"),console.log(" :",B),a("/"))}catch{alert(" .")}finally{p(!1)}},S=()=>{s("phone"),d(""),x(180),j(!1)},A=F=>{const K=Math.floor(F/60),z=F%60;return`${K}:${z.toString().padStart(2,"0")}`};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:"   "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:e==="phone"?"  ":" "}),e==="phone"&&u.jsxs("form",{onSubmit:k,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"tel",value:i,onChange:F=>l(M(F.target.value)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-lg",placeholder:"010-1234-5678",maxLength:13,autoFocus:!0}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"   "})]}),u.jsx("button",{type:"submit",disabled:f||i.length<13,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?" ...":" "})]}),e==="verify"&&u.jsxs("form",{onSubmit:O,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),u.jsx("button",{type:"button",onClick:S,className:"text-xs text-cyan-500 hover:text-cyan-600",children:" "})]}),u.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[i,"   "]}),u.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:F=>d(F.target.value.replace(/[^\d]/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-lg text-center tracking-widest",placeholder:"000000",maxLength:6,autoFocus:!0}),u.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[u.jsx("p",{className:`text-sm ${v>0?"text-cyan-500":"text-red-500"}`,children:v>0?` : ${A(v)}`:" "}),u.jsx("button",{type:"button",onClick:I,disabled:!_||f,className:"text-sm text-gray-600 hover:text-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}),u.jsx("button",{type:"submit",disabled:f||c.length!==6,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?" ...":""})]}),u.jsx("div",{id:"recaptcha-container"})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:u.jsxs("p",{children:[" ?"," ",u.jsx("button",{className:"text-cyan-500 hover:text-cyan-600",children:""})]})})]})})}function aR(){const a=$e(),[e,s]=E.useState("select"),[i,l]=E.useState(""),[c,d]=E.useState(""),[f,p]=E.useState(!1),g=x=>{const _=x.replace(/[^\d]/g,"");return _.length<=3?_:_.length<=7?`${_.slice(0,3)}-${_.slice(3)}`:`${_.slice(0,3)}-${_.slice(3,7)}-${_.slice(7,11)}`},y=async x=>{if(x.preventDefault(),i.length<13){alert("  .");return}if(!c){alert(" .");return}p(!0);try{const _=i;console.log(" :",_);const{user:j,error:M}=await d2.findUserByPhoneNumber(_);if(M||!j){alert("  ."),p(!1);return}c==="1234"?(localStorage.setItem("user",JSON.stringify(j)),console.log(" !  ."),alert(" !"),p(!1),a("/",{replace:!0})):(alert("  ."),p(!1))}catch(_){console.error(" :",_),alert("   ."),p(!1)}},v=()=>{a("/signup/phone")};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:"   "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[e==="select"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:""}),u.jsx("button",{onClick:()=>s("login"),className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg",children:""}),u.jsx("button",{onClick:v,className:"w-full bg-white text-cyan-500 py-4 rounded-xl font-medium border-2 border-cyan-500 hover:bg-cyan-50 transition-all",children:""}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:u.jsx("p",{children:"    "})})]}),e==="login"&&u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),u.jsx("button",{type:"button",onClick:()=>s("select"),className:"text-sm text-gray-500 hover:text-gray-700",children:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"tel",value:i,onChange:x=>l(g(x.target.value)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-lg",placeholder:"010-1234-5678",maxLength:13,autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"password",value:c,onChange:x=>d(x.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-lg",placeholder:" "}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:":  1234"})]}),u.jsx("button",{type:"submit",disabled:f||i.length<13||!c,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?" ...":""}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:v,className:"text-sm text-cyan-500 hover:text-cyan-600",children:" ? "})})]})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:u.jsxs("p",{children:[" ?"," ",u.jsx("button",{className:"text-cyan-500 hover:text-cyan-600",children:""})]})})]})})}function iR(){const a=$e(),s=dn().state;if(!s||!s.firebaseUid||!s.phoneNumber)return a("/login"),null;const[i,l]=E.useState({name:"",age:"",gender:"",location:"",bio:""}),[c,d]=E.useState(!1),f=g=>{const{name:y,value:v}=g.target;l(x=>({...x,[y]:v}))},p=async g=>{if(g.preventDefault(),!i.name.trim()){alert(" .");return}if(!i.gender){alert(" .");return}d(!0);try{const{data:y,error:v}=await Qk(s.firebaseUid,s.phoneNumber,{name:i.name.trim(),age:i.age?parseInt(i.age):void 0,gender:i.gender,location:i.location.trim()||void 0,bio:i.bio.trim()||void 0});if(v){alert(" .  ."),console.error(v);return}y&&(localStorage.setItem("user",JSON.stringify(y)),console.log("    :",y)),alert(" !"),a("/",{replace:!0})}catch(y){alert("   ."),console.error(y)}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:" "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:""}),u.jsxs("form",{onSubmit:p,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:f,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:" ",maxLength:20,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",name:"age",value:i.age,onChange:f,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:" ",min:"18",max:"100"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx("button",{type:"button",onClick:()=>l(g=>({...g,gender:"male"})),className:`py-3 rounded-xl font-medium transition-all ${i.gender==="male"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>l(g=>({...g,gender:"female"})),className:`py-3 rounded-xl font-medium transition-all ${i.gender==="female"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>l(g=>({...g,gender:"other"})),className:`py-3 rounded-xl font-medium transition-all ${i.gender==="other"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",name:"location",value:i.location,onChange:f,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:": , ",maxLength:50})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("textarea",{name:"bio",value:i.bio,onChange:f,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:" ",rows:4,maxLength:200}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[i.bio.length,"/200"]})]}),u.jsx("button",{type:"submit",disabled:c||!i.name.trim()||!i.gender,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:c?" ...":" "})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:u.jsxs("p",{children:[": ",s.phoneNumber]})})]})]})})}function rR(){const a=$e(),[e,s]=E.useState({name:"",phoneNumber:"",age:"",gender:"",location:"",bio:"",profileImage:""}),[i,l]=E.useState(null),[c,d]=E.useState(""),[f,p]=E.useState(!1),[g,y]=E.useState(!1),v=O=>{const{name:S,value:A}=O.target;s(F=>({...F,[S]:A}))},x=O=>{const S=O.replace(/[^\d]/g,"");return S.length<=3?S:S.length<=7?`${S.slice(0,3)}-${S.slice(3)}`:`${S.slice(0,3)}-${S.slice(3,7)}-${S.slice(7,11)}`},_=O=>{const S=x(O.target.value);s(A=>({...A,phoneNumber:S}))},j=O=>{const S=O.target.files?.[0];if(!S)return;if(S.size>5*1024*1024){alert("  5MB  .");return}if(!S.type.startsWith("image/")){alert("   .");return}l(S);const A=new FileReader;A.onloadend=()=>{d(A.result)},A.readAsDataURL(S)},M=async()=>{if(!i)return null;y(!0);try{const O=i.name.split(".").pop(),A=`avatars/${`${Date.now()}_${Math.random().toString(36).substring(7)}.${O}`}`,{data:F,error:K}=await fe.storage.from("avatars").upload(A,i,{cacheControl:"3600",upsert:!1});if(K)throw console.error("  :",K),K;const{data:{publicUrl:z}}=fe.storage.from("avatars").getPublicUrl(A);return console.log("  :",z),z}catch(O){return console.error("  :",O),alert("  ."),null}finally{y(!1)}},k=()=>{l(null),d(""),s(O=>({...O,profileImage:""}))},I=async O=>{if(O.preventDefault(),!e.name.trim()){alert(" .");return}if(!e.phoneNumber||e.phoneNumber.length<13){alert("  .");return}if(!e.gender){alert(" .");return}p(!0);try{let S=e.profileImage;if(i){const X=await M();X&&(S=X)}const A=e.phoneNumber.replace(/[^\d]/g,""),{data:F}=await fe.from("users").select("id").eq("phone_number",A).single();if(F){alert("  ."),p(!1);return}const{data:K,error:z}=await fe.from("users").insert({phone_number:A,name:e.name.trim(),age:e.age?parseInt(e.age):null,gender:e.gender,location:e.location.trim()||null,bio:e.bio.trim()||null,profile_image:S||null,created_at:new Date().toISOString()}).select().single();if(z){console.error(" :",z),alert(" .  ."),p(!1);return}console.log("   :",K),alert(` !
: ${e.name}
: ${e.phoneNumber}`),s({name:"",phoneNumber:"",age:"",gender:"",location:"",bio:"",profileImage:""}),l(null),d("")}catch(S){console.error(" :",S),alert("   .")}finally{p(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 via-pink-500 to-rose-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-user-add-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-rose-600 bg-clip-text text-transparent mb-2",children:" "}),u.jsx("p",{className:"text-gray-600",children:"   "}),u.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"    ()"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"  "}),u.jsx("button",{type:"button",onClick:()=>a("/login"),className:"text-sm text-gray-500 hover:text-gray-700",children:" "})]}),u.jsxs("form",{onSubmit:I,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"name",value:e.name,onChange:v,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" ",maxLength:20,required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",name:"phoneNumber",value:e.phoneNumber,onChange:_,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"010-1234-5678",maxLength:13,required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",name:"age",value:e.age,onChange:v,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" ",min:"18",max:"100"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsx("button",{type:"button",onClick:()=>s(O=>({...O,gender:"male"})),className:`py-3 rounded-xl font-medium transition-all ${e.gender==="male"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>s(O=>({...O,gender:"female"})),className:`py-3 rounded-xl font-medium transition-all ${e.gender==="female"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>s(O=>({...O,gender:"other"})),className:`py-3 rounded-xl font-medium transition-all ${e.gender==="other"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",name:"location",value:e.location,onChange:v,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:": , ",maxLength:50})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),c&&u.jsxs("div",{className:"mb-3 relative",children:[u.jsx("img",{src:c,alt:"",className:"w-32 h-32 object-cover rounded-xl mx-auto border-2 border-purple-200"}),u.jsx("button",{type:"button",onClick:k,className:"absolute top-0 right-1/2 translate-x-16 -translate-y-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-all",children:""})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("label",{className:"flex-1 bg-purple-50 border-2 border-dashed border-purple-300 rounded-xl px-4 py-3 text-center cursor-pointer hover:bg-purple-100 transition-all",children:[u.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"}),u.jsx("i",{className:"ri-image-add-line text-purple-500 mr-2"}),u.jsx("span",{className:"text-sm text-purple-600",children:i?i.name:" "})]})}),u.jsx("div",{className:"mt-2",children:u.jsx("input",{type:"url",name:"profileImage",value:e.profileImage,onChange:v,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"  URL ",disabled:!!i})}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   URL  ( 5MB)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("textarea",{name:"bio",value:e.bio,onChange:v,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:" ",rows:4,maxLength:200}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[e.bio.length,"/200"]})]}),u.jsx("button",{type:"submit",disabled:f||g||!e.name.trim()||!e.phoneNumber||!e.gender,className:"w-full bg-gradient-to-r from-purple-500 to-rose-500 text-white py-4 rounded-xl font-medium hover:from-purple-600 hover:to-rose-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:g?"  ...":f?" ...":"  "})]}),u.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-xl border border-purple-200",children:u.jsxs("p",{className:"text-xs text-purple-700",children:[u.jsx("i",{className:"ri-information-fill mr-1"}),"      .     ."]})})]})]})})}const Yy=a=>a===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function lR(){const a=$e(),[e,s]=E.useState({nickname:"",name:"",age:20,gender:"",location:"",bio:"",mbti:"",school:"",height:"160~165",bodyType:"",style:"",religion:"",smoking:"",drinking:"",interests:[],avatar:""}),[i,l]=E.useState(""),[c,d]=E.useState(!1),[f,p]=E.useState(""),[g,y]=E.useState(""),[v,x]=E.useState(!1),[_,j]=E.useState(!1),[M,k]=E.useState(""),[I,O]=E.useState(null);E.useEffect(()=>{(()=>{const ee=localStorage.getItem("user");if(ee)try{const ie=JSON.parse(ee);O(ie.id),s({nickname:ie.name||"",name:ie.name||"",age:ie.age||20,gender:ie.gender||"",location:ie.location||"",bio:ie.bio||"",mbti:ie.mbti||"",school:ie.school||"",height:ie.height||"160~165",bodyType:ie.body_type||"",style:ie.style||"",religion:ie.religion||"",smoking:ie.smoking||"",drinking:ie.drinking||"",interests:ie.interests||[],avatar:ie.avatar_url||""})}catch(ie){console.error("   :",ie)}})()},[]);const S=()=>{a(-1)},A=(B,ee)=>{s(ie=>({...ie,[B]:ee}))},F=()=>{i.trim()&&!e.interests.includes(i.trim())&&(s(B=>({...B,interests:[...B.interests,i.trim()]})),l(""))},K=B=>{s(ee=>({...ee,interests:ee.interests.filter(ie=>ie!==B)}))},z=async()=>{if(!I){alert(" ."),a("/login");return}j(!0);try{const B={name:e.name,age:e.age,gender:e.gender,location:e.location,bio:e.bio,mbti:e.mbti,school:e.school,height:e.height,body_type:e.bodyType,style:e.style,religion:e.religion,smoking:e.smoking,drinking:e.drinking,interests:e.interests,avatar_url:M||e.avatar,updated_at:new Date().toISOString()},{error:ee}=await fe.from("users").upsert({id:I,...B});if(ee){console.error("  :",ee),alert("  ."),j(!1);return}const ie=localStorage.getItem("user");if(ie){const ae={...JSON.parse(ie),...B,body_type:e.bodyType};localStorage.setItem("user",JSON.stringify(ae))}console.log(" :",B),x(!0)}catch(B){console.error("   :",B),alert("  .")}finally{j(!1)}},X=async B=>{const ee=B.target.files?.[0];if(!ee)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(ee.type)){alert("JPG, PNG, WEBP, GIF    .");return}const Pe=5*1024*1024;if(ee.size>Pe){alert("  5MB  .");return}j(!0);try{const ae=ee.name.split(".").pop(),at=`avatars/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${ae}`}`,{error:$}=await fe.storage.from("profile-images").upload(at,ee,{cacheControl:"3600",upsert:!1});if($)throw console.error(" :",$),new Error($.message||"  .");const{data:Y}=fe.storage.from("profile-images").getPublicUrl(at),ne=Y.publicUrl;k(ne);const me=new FileReader;me.onloadend=()=>{s(_e=>({..._e,avatar:me.result}))},me.readAsDataURL(ee)}catch(ae){console.error("   :",ae),alert(ae.message||"  .")}finally{j(!1)}};return u.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-20",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[u.jsx("button",{onClick:S,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-line text-xl"})}),u.jsx("h1",{className:"text-lg font-bold",children:" "}),u.jsx("button",{onClick:z,disabled:_,className:`font-medium cursor-pointer whitespace-nowrap ${_?"text-gray-400":"text-cyan-500"}`,children:_?" ...":""})]})}),u.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[u.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative inline-block mb-4",children:[_&&u.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center z-10",children:u.jsx("i",{className:"ri-loader-4-line text-white text-2xl animate-spin"})}),u.jsx("img",{src:e.avatar||Yy(e.gender),alt:"",className:"w-24 h-24 rounded-full object-cover",onError:B=>{const ee=B.target;ee.src=Yy(e.gender)}}),u.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",onChange:X,disabled:_,className:"hidden"}),u.jsx("label",{htmlFor:"avatar-upload",className:`absolute bottom-0 right-0 w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all ${_?"opacity-50 cursor-not-allowed":"hover:from-cyan-600 hover:to-blue-700 cursor-pointer"}`,children:u.jsx("i",{className:"ri-camera-line"})})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"  "})]})}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-user-line mr-2 text-cyan-500"})," "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:e.name,onChange:B=>s({...e,name:B.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",value:e.age,onChange:B=>s({...e,age:parseInt(B.target.value)}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>s({...e,gender:""}),className:`flex-1 py-3 rounded-xl font-medium transition-colors cursor-pointer whitespace-nowrap ${e.gender===""?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:""}),u.jsx("button",{onClick:()=>s({...e,gender:""}),className:`flex-1 py-3 rounded-xl font-medium transition-colors cursor-pointer whitespace-nowrap ${e.gender===""?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:e.location,onChange:B=>s({...e,location:B.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-file-list-3-line mr-2 text-cyan-500"})," "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:e.school,onChange:B=>A("school",B.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (cm)"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["150~155","155~160","160~165","165~170","170~175","175~180","180~185","185~190"].map(B=>u.jsx("button",{onClick:()=>A("height",B),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.height===B?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:B},B))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","",""].map(B=>u.jsx("button",{onClick:()=>A("bodyType",B),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.bodyType===B?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:B},B))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(B=>u.jsx("button",{onClick:()=>A("style",B),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.style===B?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:B},B))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(B=>u.jsx("button",{onClick:()=>A("religion",B),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.religion===B?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:B},B))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MBTI"}),u.jsx("input",{type:"text",value:e.mbti,onChange:B=>A("mbti",B.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent uppercase",placeholder:"MBTI  (: ENFP)",maxLength:4})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(B=>u.jsx("button",{onClick:()=>A("smoking",B),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.smoking===B?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:B},B))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[" ","","",""].map(B=>u.jsx("button",{onClick:()=>A("drinking",B),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.drinking===B?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:B},B))})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-chat-smile-2-line mr-2 text-cyan-500"}),""]}),u.jsx("textarea",{value:e.bio,onChange:B=>s({...e,bio:B.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none",rows:4,placeholder:" ",maxLength:500}),u.jsxs("div",{className:"text-right text-xs text-gray-400 mt-2",children:[e.bio.length,"/500"]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-heart-line mr-2 text-cyan-500"}),""]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.interests.map((B,ee)=>u.jsxs("span",{className:"bg-cyan-50 text-cyan-700 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[u.jsx("span",{children:B}),u.jsx("button",{onClick:()=>K(B),className:"w-4 h-4 flex items-center justify-center hover:bg-cyan-200 rounded-full transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-xs"})})]},ee))}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",value:i,onChange:B=>l(B.target.value),onKeyPress:B=>B.key==="Enter"&&F(),className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "}),u.jsx("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})]})]}),v&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-check-line text-white text-2xl"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" !"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"  ."}),u.jsx("button",{onClick:()=>{x(!1),S()},className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})})]})}function oR(){const a=$e(),[e,s]=E.useState([{id:1,type:"like",message:"e  ",time:"5 ",isRead:!1},{id:2,type:"match",message:"  ",time:"1 ",isRead:!1},{id:3,type:"message",message:"  ",time:"2 ",isRead:!0},{id:4,type:"community",message:"   ",time:"3 ",isRead:!0},{id:5,type:"like",message:"e  ",time:"5 ",isRead:!0},{id:6,type:"match",message:" ",time:"1 ",isRead:!0}]),i=f=>{switch(f){case"like":return"ri-heart-fill text-red-500";case"match":return"ri-user-heart-fill text-pink-500";case"message":return"ri-message-fill text-blue-500";case"community":return"ri-chat-3-fill text-green-500";default:return"ri-notification-fill text-gray-500"}},l=()=>{s(f=>f.map(p=>({...p,isRead:!0})))},c=f=>{s(p=>p.filter(g=>g.id!==f))},d=e.filter(f=>!f.isRead).length;return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-40",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>a(-1),className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:u.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:u.jsx("i",{className:"ri-arrow-left-line text-gray-700 text-xl"})})}),u.jsx("h1",{className:"text-lg font-bold",children:""}),d>0&&u.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:d})]}),e.length>0&&u.jsx("button",{onClick:l,className:"text-sm text-gray-600 hover:text-gray-800 cursor-pointer whitespace-nowrap",children:" "})]})}),u.jsx("main",{className:"pt-16 pb-6",children:e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:u.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:u.jsx("i",{className:"ri-notification-off-line text-4xl text-gray-300"})})}),u.jsx("p",{className:"text-gray-500 text-center",children:"  "})]}):u.jsx("div",{className:"divide-y divide-gray-100",children:e.map(f=>u.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer relative ${f.isRead?"bg-white":"bg-blue-50"}`,children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 flex items-center justify-center flex-shrink-0",children:u.jsx("i",{className:i(f.type)+" text-2xl"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${f.isRead?"text-gray-700":"font-medium text-gray-900"}`,children:f.message}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.time})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[!f.isRead&&u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsx("button",{onClick:p=>{p.stopPropagation(),c(f.id)},className:"w-6 h-6 flex items-center justify-center cursor-pointer hover:bg-gray-200 rounded-full transition-colors",children:u.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:u.jsx("i",{className:"ri-close-line text-gray-400"})})})]})]})},f.id))})})]})}const mr=a=>a===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function cR(){const a=$e(),s=dn().state?.profile,[i,l]=E.useState(0),[c,d]=E.useState(!1),[f,p]=E.useState(!1),[g,y]=E.useState(0),v=s?.photos?.length?s.photos:[mr(s?.gender||""),"https://readdy.ai/api/search-image?query=young%20Korean%20woman%20casual%20lifestyle%20photo%20portrait%20natural%20lighting%20soft%20smile%20wearing%20comfortable%20clothes%20indoor%20setting%20warm%20atmosphere%20clean%20background%20professional%20photography&width=400&height=500&seq=profile-photo-2&orientation=portrait","https://readdy.ai/api/search-image?query=young%20Korean%20woman%20outdoor%20photo%20portrait%20natural%20daylight%20friendly%20expression%20casual%20style%20street%20photography%20urban%20background%20clean%20aesthetic%20professional%20quality&width=400&height=500&seq=profile-photo-3&orientation=portrait"],x=()=>{a(-1)},_=()=>{y(S=>S===0?v.length-1:S-1)},j=()=>{y(S=>S===v.length-1?0:S+1)};if(!s)return a(-1),null;s.school,s.height,s.bodyType,s.style,s.religion,s.mbti,s.smoking,s.drinking,s.interests;const M=()=>{s.hasLikedMe?p(!0):(d(!0),setTimeout(()=>{d(!1),a(-1)},2e3))},k=()=>{a(-1)},I=S=>{l(S)},O=()=>{p(!1);const S=new CustomEvent("openChat",{detail:{userId:s.id,userName:s.name,userAvatar:s.character||mr(s.gender)}});window.dispatchEvent(S),a("/")};return u.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-24",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("button",{onClick:x,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-s-line text-2xl"})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("img",{src:s.avatar||mr(s.gender),alt:s.name,className:"w-8 h-8 rounded-full object-cover",onError:S=>{const A=S.target;A.src=mr(s.gender)}}),u.jsx("span",{className:"font-medium text-gray-800",children:s.name})]}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-more-2-fill text-xl"})})]})}),u.jsx("div",{className:"relative bg-white",children:u.jsxs("div",{className:"relative h-96 overflow-hidden",children:[u.jsx("img",{src:v[g],alt:`${s.name}  ${g+1}`,className:"w-full h-full object-cover",onError:S=>{const A=S.target;A.src=mr(s.gender)}}),v.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:_,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-s-line text-white text-xl"})}),u.jsx("button",{onClick:j,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-right-s-line text-white text-xl"})})]}),v.length>1&&u.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:v.map((S,A)=>u.jsx("button",{onClick:()=>y(A),className:`w-2 h-2 rounded-full transition-colors cursor-pointer ${A===g?"bg-white":"bg-white/50"}`},A))})]})}),u.jsxs("div",{className:"bg-white px-4 py-4 border-b",children:[u.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(S=>u.jsx("button",{onClick:()=>I(S),className:"cursor-pointer",children:u.jsx("i",{className:`text-3xl ${S<=i?"ri-star-fill text-yellow-400":"ri-star-line text-gray-300"}`})},S))}),u.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:" "})]}),u.jsxs("div",{className:"px-4 py-6 space-y-4",children:[u.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-2",children:[u.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.school})]}),u.jsxs("div",{className:"border-b border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.height||"160~165"})]}),u.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.bodyType||""})]}),u.jsxs("div",{className:"border-b border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.style||""})]}),u.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.religion||""})]}),u.jsxs("div",{className:"border-b border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),u.jsx("div",{className:"font-medium text-gray-800",children:s.mbti})]}),u.jsxs("div",{className:"border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.smoking||""})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:s.drinking||""})]})]})}),u.jsxs("button",{className:"w-full bg-white rounded-2xl p-4 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow cursor-pointer",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-line text-white"})}),u.jsx("span",{className:"font-semibold text-gray-800",children:"MBTI  "})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-heart-3-line mr-2 text-cyan-500"}),""]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""}),u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""}),u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""}),u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[u.jsx("i",{className:"ri-chat-quote-line mr-2 text-cyan-500"}),""]}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.bio})]})]}),u.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-cyan-50 px-8 py-6 flex justify-center space-x-8",children:[u.jsx("button",{onClick:M,className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-2 border-cyan-200",children:u.jsx("i",{className:"ri-heart-fill text-cyan-400 text-2xl"})}),u.jsx("button",{onClick:k,className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-2 border-gray-200",children:u.jsx("i",{className:"ri-close-line text-gray-400 text-2xl"})})]}),c&&u.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white px-6 py-4 rounded-2xl z-50",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("i",{className:"ri-heart-fill text-pink-400"}),u.jsxs("span",{children:[s.name,"  !"]})]})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" ! "}),u.jsxs("p",{className:"text-gray-600 mb-6",children:[s.name,"   !",u.jsx("br",{}),"   ."]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:O,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:" "}),u.jsx("button",{onClick:()=>p(!1),className:"w-full bg-gray-100 text-gray-600 py-3 rounded-full font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]})})]})}function uR(){const a=$e(),[e,s]=E.useState("dashboard"),[i,l]=E.useState(null),[c,d]=E.useState(!1),[f,p]=E.useState(""),[g,y]=E.useState(""),[v,x]=E.useState([{id:1,name:"e",email:"snow@example.com",age:22,gender:"",location:" ",school:"",mbti:"ISFP",avatar:"https://lovelyharu.com/data/character/thumb-TTHVyEtmHJ_1725434222_300x300.jpg",coins:150,status:"active",lastLogin:"2024-01-15 14:30",createdAt:"2023-12-01",matchCount:23,messageCount:156},{id:2,name:"",email:"cat@example.com",age:20,gender:"",location:" ",school:"",mbti:"ISTP",avatar:"https://lovelyharu.com/data/character/thumb-HWHHTbQhNX_1736148423_300x300.jpg",coins:80,status:"active",lastLogin:"2024-01-15 13:15",createdAt:"2023-11-15",matchCount:15,messageCount:89},{id:3,name:"",email:"clover@example.com",age:19,gender:"",location:" ",school:"",mbti:"ESTP",avatar:"https://lovelyharu.com/data/character/thumb-KOAXjl7vXB_1725434279_300x300.jpg",coins:200,status:"active",lastLogin:"2024-01-15 11:20",createdAt:"2023-10-20",matchCount:31,messageCount:234},{id:4,name:"",email:"ddirori@example.com",age:27,gender:"",location:" ",school:"",mbti:"ESTJ",avatar:"https://lovelyharu.com/data/character/thumb-CEZVu9Um98_1725434222_300x300.jpg",coins:50,status:"inactive",lastLogin:"2024-01-10 09:00",createdAt:"2023-09-05",matchCount:8,messageCount:45},{id:5,name:"",email:"uani@example.com",age:19,gender:"",location:" ",school:"",mbti:"ISTJ",avatar:"https://lovelyharu.com/data/character/thumb-ANSXxJWhNK_1717561056_300x300.jpg",coins:120,status:"active",lastLogin:"2024-01-15 10:45",createdAt:"2023-08-12",matchCount:19,messageCount:112},{id:6,name:"",email:"sweet@example.com",age:23,gender:"",location:" ",school:"",mbti:"ENTP",avatar:"https://lovelyharu.com/data/character/thumb-HZJBTbg55v_1736148423_300x300.jpg",coins:300,status:"active",lastLogin:"2024-01-14 22:30",createdAt:"2023-07-28",matchCount:42,messageCount:389},{id:7,name:"",email:"apeach@example.com",age:24,gender:"",location:" ",school:"",mbti:"ESTP",avatar:"https://lovelyharu.com/data/character/thumb-UEAPrPtjRq_1722489509_300x300.jpg",coins:0,status:"banned",lastLogin:"2024-01-05 15:00",createdAt:"2023-06-10",matchCount:5,messageCount:23}]),_=v.filter(S=>S.name.toLowerCase().includes(g.toLowerCase())||S.email.toLowerCase().includes(g.toLowerCase())),j={totalUsers:v.length,activeUsers:v.filter(S=>S.status==="active").length,totalCoins:v.reduce((S,A)=>S+A.coins,0),todayLogins:v.filter(S=>S.lastLogin.includes("2024-01-15")).length},M=()=>{i&&f&&(x(S=>S.map(A=>A.id===i.id?{...A,coins:A.coins+parseInt(f)}:A)),l(S=>S?{...S,coins:S.coins+parseInt(f)}:null),d(!1),p(""))},k=(S,A)=>{x(F=>F.map(K=>K.id===S?{...K,status:A}:K)),i?.id===S&&l(F=>F?{...F,status:A}:null)},I=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j.totalUsers})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-user-line text-xl text-blue-600"})})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.activeUsers})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-user-follow-line text-xl text-green-600"})})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.totalCoins})]}),u.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-coin-line text-xl text-yellow-600"})})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j.todayLogins})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-login-box-line text-xl text-purple-600"})})]})})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  "}),u.jsx("div",{className:"space-y-3",children:v.sort((S,A)=>new Date(A.lastLogin).getTime()-new Date(S.lastLogin).getTime()).slice(0,5).map(S=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:S.avatar,alt:S.name,className:"w-10 h-10 rounded-full object-cover object-top"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-800",children:S.name}),u.jsx("p",{className:"text-xs text-gray-500",children:S.lastLogin})]})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-600":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:S.status==="active"?"":S.status==="inactive"?"":""})]},S.id))})]})]}),O=()=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:g,onChange:S=>y(S.target.value),placeholder:"    ...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm"}),u.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" "}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(S=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:S.avatar,alt:S.name,className:"w-10 h-10 rounded-full object-cover object-top"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-800",children:S.name}),u.jsx("p",{className:"text-xs text-gray-500",children:S.email})]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("i",{className:"ri-coin-line text-yellow-500"}),u.jsx("span",{className:"font-medium",children:S.coins})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-600":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:S.status==="active"?"":S.status==="inactive"?"":""})}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:S.lastLogin}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("button",{onClick:()=>l(S),className:"text-pink-500 hover:text-pink-600 font-medium text-sm cursor-pointer",children:""})})]},S.id))})]})})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white shadow-lg z-40",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl flex items-center justify-center",children:u.jsx("i",{className:"ri-admin-line text-white text-xl"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-bold text-gray-800",children:""}),u.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),u.jsxs("nav",{className:"p-4 space-y-2",children:[u.jsxs("button",{onClick:()=>s("dashboard"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="dashboard"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-dashboard-line text-xl"}),u.jsx("span",{className:"font-medium",children:""})]}),u.jsxs("button",{onClick:()=>s("users"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="users"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-user-line text-xl"}),u.jsx("span",{className:"font-medium",children:" "})]}),u.jsxs("button",{onClick:()=>s("reports"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="reports"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-flag-line text-xl"}),u.jsx("span",{className:"font-medium",children:" "})]}),u.jsxs("button",{onClick:()=>s("settings"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="settings"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-settings-line text-xl"}),u.jsx("span",{className:"font-medium",children:""})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t",children:u.jsxs("button",{onClick:()=>a("/"),className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer",children:[u.jsx("i",{className:"ri-logout-box-line text-xl"}),u.jsx("span",{className:"font-medium",children:""})]})})]}),u.jsx("div",{className:"ml-64 p-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[e==="dashboard"&&"",e==="users"&&" ",e==="reports"&&" ",e==="settings"&&""]}),u.jsxs("p",{className:"text-gray-500 mt-1",children:[e==="dashboard"&&"   ",e==="users"&&"    ",e==="reports"&&"   ",e==="settings"&&"  "]})]}),e==="dashboard"&&I(),e==="users"&&O(),e==="reports"&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-flag-line text-2xl text-gray-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),u.jsx("p",{className:"text-gray-500",children:"  "})]}),e==="settings"&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-settings-line text-2xl text-gray-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-500",children:"   "})]})]})}),i&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-bold",children:"  "}),u.jsx("button",{onClick:()=>l(null),className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-xl"})})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[u.jsx("img",{src:i.avatar,alt:i.name,className:"w-20 h-20 rounded-full object-cover object-top"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-bold text-gray-800",children:i.name}),u.jsx("p",{className:"text-gray-500",children:i.email}),u.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-100 text-green-600":i.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:i.status==="active"?"":i.status==="inactive"?"":""})]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsxs("p",{className:"font-medium",children:[i.age,""]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:i.gender})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:i.location})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),u.jsx("p",{className:"font-medium",children:i.mbti})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:i.school})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-yellow-50 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-bold text-yellow-600",children:i.coins})]}),u.jsxs("div",{className:"bg-pink-50 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-bold text-pink-600",children:i.matchCount})]}),u.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-bold text-blue-600",children:i.messageCount})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("p",{className:"font-medium",children:i.lastLogin})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:i.createdAt})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>d(!0),className:"w-full py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium hover:from-yellow-500 hover:to-yellow-600 transition-all cursor-pointer whitespace-nowrap",children:[u.jsx("i",{className:"ri-coin-line mr-2"})," "]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>k(i.id,"active"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${i.status==="active"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-green-100"}`,children:""}),u.jsx("button",{onClick:()=>k(i.id,"inactive"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${i.status==="inactive"?"bg-gray-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),u.jsx("button",{onClick:()=>k(i.id,"banned"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${i.status==="banned"?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-100"}`,children:""})]})]})]})]})}),c&&i&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),u.jsxs("p",{className:"text-gray-500 mb-4",children:[i.name,"  "]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),u.jsx("input",{type:"number",value:f,onChange:S=>p(S.target.value),placeholder:"0",className:"w-full px-4 py-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{d(!1),p("")},className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-medium cursor-pointer whitespace-nowrap",children:""}),u.jsx("button",{onClick:M,disabled:!f||parseInt(f)<=0,className:"flex-1 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium disabled:opacity-50 cursor-pointer whitespace-nowrap",children:""})]})]})})]})}function ox(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function cx(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),e&&Ur(a,e)}function Lr(a){return Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},Lr(a)}function Ur(a,e){return Ur=Object.setPrototypeOf||function(i,l){return i.__proto__=l,i},Ur(a,e)}function ux(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function To(a,e,s){return ux()?To=Reflect.construct:To=function(l,c,d){var f=[null];f.push.apply(f,c);var p=Function.bind.apply(l,f),g=new p;return d&&Ur(g,d.prototype),g},To.apply(null,arguments)}function dR(a){return Function.toString.call(a).indexOf("[native code]")!==-1}function Ho(a){var e=typeof Map=="function"?new Map:void 0;return Ho=function(i){if(i===null||!dR(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,l)}function l(){return To(i,arguments,Lr(this).constructor)}return l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Ur(l,i)},Ho(a)}function hR(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function fR(a,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hR(a)}function dx(a){var e=ux();return function(){var i=Lr(a),l;if(e){var c=Lr(this).constructor;l=Reflect.construct(i,arguments,c)}else l=i.apply(this,arguments);return fR(this,l)}}var pr=null;function mR(a,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(pr!=null)return pr;var i=new Promise(function(l,c){try{var d=function(){xo(e)!=null?l(xo(e)):c(new pR(e))},f=function(){c(new gR(a))};if(typeof window>"u"||typeof document>"u")return l(null);if(xo(e)!=null)return l(xo(e));var p=document.querySelector('script[src="'.concat(a,'"]'));if(p!=null){var g;p.removeEventListener("load",d),p.removeEventListener("error",f),(g=p.parentElement)===null||g===void 0||g.removeChild(p)}var y=document.createElement("script");y.src=a,y.addEventListener("load",d),y.addEventListener("error",f),s.priority!=null&&(y.fetchPriority=s.priority),document.head.appendChild(y)}catch(v){c(v);return}});return pr=i.catch(function(l){return pr=null,Promise.reject(l)}),pr}function xo(a){return window[a]}var pR=(function(a){cx(s,a);var e=dx(s);function s(i){var l;return ox(this,s),l=e.call(this,"[TossPayments SDK] ".concat(i," is not available")),l.name="NamespaceNotAvailableError",l}return s})(Ho(Error)),gR=(function(a){cx(s,a);var e=dx(s);function s(i){var l;return ox(this,s),l=e.call(this,"[TossPayments SDK] Failed to load script: [".concat(i,"]")),l.name="ScriptLoadFailedError",l}return s})(Ho(Error)),yR="https://js.tosspayments.com/v1";function bR(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.src,i=s===void 0?yR:s;return typeof window>"u"?Promise.resolve({requestPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},requestBillingAuth:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},cancelPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")}}):mR(i,"TossPayments").then(function(l){return l(a)})}const vR="test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq";function xR(){const a=$e(),[e,s]=E.useState(null),[i,l]=E.useState(!1),[c,d]=E.useState(""),[f,p]=E.useState(null),g=[{id:"basic",coins:50,price:5e3},{id:"standard",coins:100,price:9e3,bonus:10},{id:"premium",coins:300,price:25e3,bonus:50,popular:!0},{id:"vip",coins:500,price:4e4,bonus:100},{id:"mega",coins:1e3,price:75e3,bonus:250},{id:"ultra",coins:2e3,price:14e4,bonus:600}];E.useEffect(()=>{(async()=>{try{const _=await bR(vR);p(_)}catch(_){console.error("  :",_)}})()},[]);const y=x=>{s(x),l(!0)},v=async()=>{if(!(!e||!f))try{const x=`ORDER_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,_=` ${e.coins}${e.bonus?` (+${e.bonus} )`:""}`,j=e.coins+(e.bonus||0);localStorage.setItem("selectedPackageId",e.id),localStorage.setItem("selectedCoins",j.toString()),await f.requestPayment(c,{amount:e.price,orderId:x,orderName:_,successUrl:`${window.location.origin}/payment/success`,failUrl:`${window.location.origin}/payment/fail`,customerName:""})}catch(x){console.error("  :",x),alert("  .  .")}};return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("button",{onClick:()=>a(-1),className:"w-10 h-10 flex items-center justify-center cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-line text-2xl text-gray-800"})}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"px-5 py-8 text-center border-b border-gray-100",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"}),u.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"150"})]})]}),u.jsx("div",{className:"px-5 py-6",children:u.jsx("div",{className:"space-y-3",children:g.map(x=>u.jsxs("button",{onClick:()=>y(x),className:`w-full flex items-center justify-between p-5 rounded-2xl border-2 transition-all cursor-pointer ${x.popular?"border-pink-500 bg-pink-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${x.popular?"bg-pink-50":"bg-gray-100"}`,children:u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"})}),u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.coins.toLocaleString()}),x.bonus&&u.jsxs("span",{className:"text-sm font-medium text-pink-500",children:["+",x.bonus]})]}),x.popular&&u.jsx("span",{className:"text-xs font-medium text-pink-500",children:""})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[x.price.toLocaleString(),""]})})]},x.id))})}),i&&e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:u.jsxs("div",{className:"bg-white w-full sm:max-w-md sm:rounded-3xl rounded-t-3xl overflow-hidden animate-slide-up",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:""}),u.jsx("button",{onClick:()=>l(!1),className:"w-9 h-9 flex items-center justify-center cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-2xl text-gray-600"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 mb-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-pink-50 rounded-full flex items-center justify-center",children:u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-600 mb-1",children:""}),u.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[e.coins.toLocaleString(),e.bonus&&u.jsxs("span",{className:"text-base text-pink-500 ml-1",children:["+",e.bonus]})]})]})]})}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[e.price.toLocaleString(),u.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:" "}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>d(""),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${c===""?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"toss"})}),u.jsx("span",{className:"font-medium text-gray-900",children:""})]}),c===""&&u.jsx("i",{className:"ri-check-line text-xl text-blue-500"})]}),u.jsxs("button",{onClick:()=>d("CARD"),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${c==="CARD"?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"ri-bank-card-2-line text-white text-lg"})}),u.jsx("span",{className:"font-medium text-gray-900",children:"/"})]}),c==="CARD"&&u.jsx("i",{className:"ri-check-line text-xl text-purple-500"})]}),u.jsxs("button",{onClick:()=>d("TRANSFER"),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${c==="TRANSFER"?"border-green-500 bg-green-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"ri-bank-line text-white text-lg"})}),u.jsx("span",{className:"font-medium text-gray-900",children:""})]}),c==="TRANSFER"&&u.jsx("i",{className:"ri-check-line text-xl text-green-500"})]})]})]}),u.jsxs("button",{onClick:v,className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer whitespace-nowrap",children:[e.price.toLocaleString()," "]})]})]})})]})}function wR(){const a=$e(),[e,s]=E.useState("received"),[i,l]=E.useState(!1),[c,d]=E.useState(null),[f,p]=E.useState(!1),g=()=>{a(-1)},[y,v]=E.useState([{id:1,userId:101,name:"e",age:22,gender:"",location:" ",school:"",mbti:"ISFP",bio:"   ",avatar:"",timestamp:"5 ",status:"pending"},{id:2,userId:102,name:"",age:20,gender:"",location:" ",school:"",mbti:"ISTP",bio:"  ",avatar:"",timestamp:"1 ",status:"pending"},{id:3,userId:103,name:"",age:19,gender:"",location:" ",school:"",mbti:"ESTP",bio:"   ",avatar:"",timestamp:"3 ",status:"pending"}]),[x,_]=E.useState([{id:4,userId:104,name:"e",age:22,gender:"",location:" ",school:"",mbti:"ISFP",bio:"    ",avatar:"",timestamp:"",status:"pending"},{id:5,userId:105,name:"",age:27,gender:"",location:" ",school:"",mbti:"ESTJ",bio:"   ",avatar:"",timestamp:"2 ",status:"accepted"},{id:6,userId:106,name:"",age:19,gender:"",location:" ",school:"",mbti:"ISTJ",bio:" ",avatar:"",timestamp:"3 ",status:"rejected"}]),j=A=>{d(A),l(!0)},M=A=>{v(F=>F.map(K=>K.id===A?{...K,status:"rejected"}:K))},k=A=>{_(F=>F.filter(K=>K.id!==A))},I=A=>{const F=y.find(K=>K.id===A);F&&j(F)},O=A=>{M(A)},S=A=>{k(A)};return y.filter(A=>A.status==="pending"),x.filter(A=>A.status==="pending"),x.filter(A=>A.status==="accepted"),x.filter(A=>A.status==="rejected"),u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[u.jsx("button",{onClick:g,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-line text-xl"})}),u.jsx("h1",{className:"text-lg font-bold",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"bg-white px-4 py-3 flex space-x-2 border-b",children:[u.jsxs("button",{onClick:()=>s("received"),className:`flex-1 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${e==="received"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600"}`,children:["  (",y.length,")"]}),u.jsxs("button",{onClick:()=>s("sent"),className:`flex-1 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${e==="sent"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600"}`,children:["  (",x.length,")"]})]}),u.jsx("div",{className:"px-4 py-4",children:e==="received"?u.jsx("div",{className:"space-y-3",children:y.map(A=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:A.avatar,alt:A.name,className:"w-16 h-16 rounded-full object-cover"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h3",{className:"font-bold text-gray-800",children:A.name}),u.jsxs("span",{className:"text-sm text-gray-500",children:[A.age,""]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:A.location}),u.jsx("p",{className:"text-xs text-gray-400",children:A.timeAgo})]})]}),u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{onClick:()=>I(A.id),className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-2 rounded-full text-sm font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""}),u.jsx("button",{onClick:()=>O(A.id),className:"flex-1 bg-gray-100 text-gray-600 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]},A.id))}):u.jsx("div",{className:"space-y-3",children:x.map(A=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:A.avatar,alt:A.name,className:"w-16 h-16 rounded-full object-cover"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h3",{className:"font-bold text-gray-800",children:A.name}),u.jsxs("span",{className:"text-sm text-gray-500",children:[A.age,""]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:A.location}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A.status==="pending"?"bg-yellow-100 text-yellow-700":A.status==="accepted"?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-600"}`,children:A.status==="pending"?"":A.status==="accepted"?"":""}),u.jsx("span",{className:"text-xs text-gray-400",children:A.timeAgo})]})]})]}),A.status==="pending"&&u.jsx("button",{onClick:()=>S(A.id),className:"w-full mt-4 bg-gray-100 text-gray-600 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:" "})]},A.id))})}),f&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-heart-fill text-white text-2xl"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" !"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"!    "}),u.jsx("button",{onClick:()=>p(!1),className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})})]})}const _R="http://localhost:3001";function SR(){const a=$e(),[e]=bb(),[s,i]=E.useState(!0),[l,c]=E.useState(null);return E.useEffect(()=>{(async()=>{const f=e.get("orderId"),p=e.get("paymentKey"),g=e.get("amount");if(!f||!p||!g){alert("   ."),a("/coin-shop");return}try{const y=parseInt(localStorage.getItem("selectedCoins")||"0"),v=localStorage.getItem("userId")||"temp-user-id",x=await fetch(`${_R}/api/payment/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:f,paymentKey:p,amount:parseInt(g),userId:v,coins:y})}),_=await x.json();if(!x.ok||!_.success)throw new Error(_.message||"  .");c({orderId:_.data.orderId,amount:_.data.amount,coins:_.data.coins,currentCoins:_.data.currentCoins,approvedAt:_.data.approvedAt}),localStorage.removeItem("selectedPackageId"),localStorage.removeItem("selectedCoins"),i(!1)}catch(y){console.error("  :",y);const v=y.message||"  .";alert(v),a(`/payment/fail?message=${encodeURIComponent(v)}`)}})()},[e,a]),s?u.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("div",{className:"w-10"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6",children:u.jsx("i",{className:"ri-check-line text-5xl text-green-500"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),u.jsx("p",{className:"text-gray-500 mb-8",children:" "}),l&&u.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center mb-6 pb-6 border-b border-gray-200",children:[u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-12 h-12 mr-3"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:" "}),u.jsxs("p",{className:"text-3xl font-bold text-pink-500",children:["+",l.coins.toLocaleString()]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"text-gray-900 font-medium text-sm",children:l.orderId})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("span",{className:"text-gray-900 font-bold text-xl",children:[l.amount.toLocaleString(),""]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"  "}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-5 h-5"}),u.jsx("span",{className:"text-gray-900 font-bold text-lg",children:l.currentCoins?.toLocaleString()||0})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"text-gray-900 font-medium",children:new Date(l.approvedAt).toLocaleString("ko-KR")})]})]})]}),u.jsxs("div",{className:"w-full max-w-md space-y-3",children:[u.jsx("button",{onClick:()=>a("/"),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer",children:" "}),u.jsx("button",{onClick:()=>a("/coin-shop"),className:"w-full bg-white text-gray-900 py-4 rounded-xl font-bold text-lg border-2 border-gray-200 hover:bg-gray-50 transition-all cursor-pointer",children:" "})]})]})]})}function jR(){const a=$e(),[e]=bb(),s=e.get("message")||" .",i=e.get("code");return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("div",{className:"w-10"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6",children:u.jsx("i",{className:"ri-close-line text-5xl text-red-500"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),u.jsx("p",{className:"text-gray-500 mb-2 text-center",children:s}),i&&u.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:[" : ",i]}),u.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl p-6 mb-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"  "}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:"     "})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:"  "})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:"  "})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:" "})]})]})]}),u.jsxs("div",{className:"w-full max-w-md space-y-3",children:[u.jsx("button",{onClick:()=>a("/coin-shop"),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer",children:" "}),u.jsx("button",{onClick:()=>a("/"),className:"w-full bg-white text-gray-900 py-4 rounded-xl font-bold text-lg border-2 border-gray-200 hover:bg-gray-50 transition-all cursor-pointer",children:" "})]})]})]})}const NR=async(a,e="avatars",s)=>{try{const i=a.name.split(".").pop(),l=`${Date.now()}_${Math.random().toString(36).substring(2,9)}.${i}`,c=s?`${s}/${l}`:l,{data:d,error:f}=await fe.storage.from(e).upload(c,a,{cacheControl:"3600",upsert:!1});if(f)throw console.error("  :",f),new Error(`  : ${f.message}`);const{data:{publicUrl:p}}=fe.storage.from(e).getPublicUrl(c);return p}catch(i){throw console.error("uploadImage error:",i),i}};function ER(){const a=$e(),{user:e}=Fo(),[s,i]=E.useState(""),[l,c]=E.useState("dating"),[d,f]=E.useState([]),[p,g]=E.useState([]),[y,v]=E.useState(!1),[x,_]=E.useState(!1),j=()=>{if(e)return e;const O=localStorage.getItem("user");return O?JSON.parse(O):null},M=async O=>{const S=Array.from(O.target.files||[]);if(S.length!==0){if(d.length+S.length>5){alert("  5   .");return}v(!0);try{const A=S.map(async K=>{const z=URL.createObjectURL(K);return g(B=>[...B,z]),await NR(K,"posts","community")}),F=await Promise.all(A);f(K=>[...K,...F])}catch(A){console.error("  :",A),alert("  .")}finally{v(!1)}}},k=O=>{f(S=>S.filter((A,F)=>F!==O)),g(S=>S.filter((A,F)=>F!==O))},I=async O=>{if(O.preventDefault(),!s.trim()){alert(" .");return}const S=j();if(!S){alert(" ."),a("/login");return}_(!0);try{const{data:A,error:F}=await fe.from("community_posts").insert({user_id:S.id,author_name:S.name||"",avatar_url:S.avatar_url||"",title:s.substring(0,50),content:s.trim(),image_url:d.length>0?d[0]:null,likes:0,views:0,category:l,age:S.age,location:S.location,job:S.school||S.job}).select().single();if(F)throw F;alert(" !"),a("/")}catch(A){console.error("  :",A),alert(`  : ${A.message}`)}finally{_(!1)}};return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("button",{onClick:()=>a(-1),className:"text-gray-600 hover:text-gray-900",children:u.jsx("i",{className:"ri-close-line text-2xl"})}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("button",{onClick:I,disabled:x||!s.trim(),className:"text-pink-500 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:x?" ...":""})]})}),u.jsxs("form",{onSubmit:I,className:"p-5",children:[u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("button",{type:"button",onClick:()=>c("dating"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${l==="dating"?"bg-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>c("chat"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${l==="chat"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""})]}),u.jsx("textarea",{value:s,onChange:O=>i(O.target.value),placeholder:"   ?",className:"w-full min-h-[200px] text-lg border-none outline-none resize-none",autoFocus:!0}),p.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:p.map((O,S)=>u.jsxs("div",{className:"relative aspect-square",children:[u.jsx("img",{src:O,alt:` ${S+1}`,className:"w-full h-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>k(S),className:"absolute top-2 right-2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70",children:u.jsx("i",{className:"ri-close-line text-lg"})})]},S))}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-5",children:u.jsxs("label",{className:`flex items-center justify-center w-full py-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-pink-500 hover:bg-pink-50 transition-all ${y?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:M,className:"hidden",disabled:y||d.length>=5}),y?u.jsxs("span",{className:"text-gray-600",children:[u.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"})," ..."]}):u.jsxs("span",{className:"text-gray-600",children:[u.jsx("i",{className:"ri-image-add-line text-xl mr-2"}),"  (",d.length,"/5)"]})]})})]})]})}const TR=[{path:"/",element:u.jsx(x2,{})},{path:"/login",element:u.jsx(aR,{})},{path:"/login/email",element:u.jsx(w2,{})},{path:"/signup",element:u.jsx(iR,{})},{path:"/signup/phone",element:u.jsx(sR,{})},{path:"/signup/quick",element:u.jsx(rR,{})},{path:"/profile-edit",element:u.jsx(lR,{})},{path:"/notifications",element:u.jsx(oR,{})},{path:"/profile-detail",element:u.jsx(cR,{})},{path:"/admin",element:u.jsx(uR,{})},{path:"/coin-shop",element:u.jsx(xR,{})},{path:"/matching-requests",element:u.jsx(wR,{})},{path:"/payment/success",element:u.jsx(SR,{})},{path:"/payment/fail",element:u.jsx(jR,{})},{path:"/post/create",element:u.jsx(ER,{})},{path:"*",element:u.jsx(lj,{})}];let hx;new Promise(a=>{hx=a});function CR(){const a=m1(TR),e=$e();return E.useEffect(()=>{window.REACT_APP_NAVIGATE=e,hx(window.REACT_APP_NAVIGATE)}),a}function AR(){const{loading:a}=Fo();return a?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-primary-500 animate-pulse-soft"})})]}),u.jsx("div",{className:"text-sm font-medium text-slate-500 animate-pulse",children:" ..."})]}):u.jsx(CR,{})}function kR(){return u.jsx(pS,{i18n:dt,children:u.jsx(Q1,{children:u.jsx(h2,{children:u.jsx(AR,{})})})})}MS.createRoot(document.getElementById("root")).render(u.jsx(E.StrictMode,{children:u.jsx(kR,{})}));
//# sourceMappingURL=index-DYV89Kyh.js.map

import{u as e,j as s,s as t,l as a}from"./index-D-HdNcYp.js";import{e as r,r as n}from"./vendor-DkI5JUVe.js";import{g as i}from"./avatarUtils-Jlyh85v5.js";import{M as l,I as o,P as c,a as d,b as m}from"./interests-BFH72bqT.js";import{K as x,g as h,s as g}from"./schools-BXrPHggY.js";import"./supabase-DEy9n1le.js";function u(){const u=r(),{user:p}=e(),[b,f]=n.useState({nickname:"",name:"",age:20,gender:"여자",location:"",bio:"",mbti:"",school:"",height:"160~165",bodyType:"보통",style:"캐주얼",religion:"무교",smoking:"비흡연",drinking:"가끔",interests:[],avatar:"",photos:[]}),[y,j]=n.useState(!1),[N,v]=n.useState(!1),[w,k]=n.useState(!1),[C,S]=n.useState(""),[$,_]=n.useState(!0),[z,I]=n.useState(""),[B,M]=n.useState(""),[P,T]=n.useState([]);n.useEffect(()=>{(async()=>{if(!p?.id)return a.info("사용자 정보 없음"),void _(!1);try{const{data:e,error:s}=await t.from("users").select("*").eq("id",p.id).single();if(s)return a.error("사용자 데이터 로드 실패:",s),void _(!1);if(e){const s=e.profile_image||"";S(""),f({nickname:e.name||"",name:e.name||"",age:e.age||20,gender:"female"===e.gender?"여자":"남자",location:e.location||"",bio:e.bio||"",mbti:e.mbti||"",school:e.school||"",height:e.height||"160~165",bodyType:e.body_type||"보통",style:e.style||"캐주얼",religion:e.religion||"무교",smoking:e.smoking||"비흡연",drinking:e.drinking||"가끔",interests:e.interests||[],avatar:s,photos:e.photos||(s?[s]:[])})}}catch(e){a.error("프로필 로드 중 오류:",e)}finally{_(!1)}})()},[p?.id]);const E=()=>{u(-1)},G=(e,s)=>{f(t=>({...t,[e]:s}))},q=e=>{b.interests.includes(e)?f(s=>({...s,interests:s.interests.filter(s=>s!==e)})):b.interests.length<10?f(s=>({...s,interests:[...s.interests,e]})):alert("관심사는 최대 10개까지 선택 가능합니다.")};return p?$?s.jsx("div",{className:"min-h-screen bg-cyan-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"프로필 정보를 불러오는 중..."})]})}):s.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-20 pb-[calc(80px+env(safe-area-inset-bottom))]",children:[s.jsx("div",{className:"bg-white border-b sticky top-0 z-10 pt-[env(safe-area-inset-top)]",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[s.jsx("button",{onClick:E,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:s.jsx("i",{className:"ri-arrow-left-line text-xl"})}),s.jsx("h1",{className:"text-lg font-bold",children:"프로필 수정"}),s.jsx("button",{onClick:async()=>{if(!p?.id)return alert("로그인이 필요합니다."),void u("/login");k(!0);try{let e="";C?e=C:b.avatar&&!b.avatar.startsWith("data:")?e=b.avatar:b.photos.length>0&&!b.photos[0].startsWith("data:")&&(e=b.photos[0]);const s=b.photos.filter(e=>e&&!e.startsWith("data:")),r={name:b.name,age:b.age,gender:"여자"===b.gender?"female":"male",location:b.location,bio:b.bio,mbti:b.mbti,school:b.school,height:b.height,body_type:b.bodyType,style:b.style,religion:b.religion,smoking:b.smoking,drinking:b.drinking,interests:b.interests,updated_at:(new Date).toISOString()};e&&(r.profile_image=e),s.length>0&&(r.photos=s);const{error:n}=await t.from("users").update(r).eq("id",p.id);if(n)return a.error("데이터베이스 저장 에러:",n),alert("프로필 저장에 실패했습니다."),void k(!1);const i=localStorage.getItem("auth_user");if(i){const e={...JSON.parse(i),name:b.name,profile_image:C||b.avatar};localStorage.setItem("auth_user",JSON.stringify(e))}a.info("저장된 데이터:",r),v(!0)}catch(e){a.error("프로필 저장 중 오류:",e),alert("프로필 저장에 실패했습니다.")}finally{k(!1)}},disabled:w,className:"font-medium cursor-pointer whitespace-nowrap "+(w?"text-gray-400":"text-cyan-500"),children:w?"저장 중...":"저장"})]})}),s.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[s.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative inline-block mb-4",children:[w&&s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center z-10",children:s.jsx("i",{className:"ri-loader-4-line text-white text-2xl animate-spin"})}),s.jsx("img",{src:b.avatar||i(b.gender),alt:"프로필",className:"w-24 h-24 rounded-full object-cover",onError:e=>{e.target.src=i(b.gender)}}),s.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(s.type))return void alert("JPG, PNG, WEBP, GIF 형식의 이미지만 업로드 가능합니다.");if(s.size>5242880)alert("이미지 크기는 5MB 이하여야 합니다.");else{k(!0);try{const e=`profile_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{error:r,data:n}=await t.storage.from("profile-images").upload(e,s,{cacheControl:"3600",upsert:!1});if(r){let e=r.message||"이미지 업로드에 실패했습니다.";throw e.includes("Bucket not found")?e='⚠️ Supabase Storage가 제대로 설정되지 않았습니다.\n관리자에게 문의해주세요.\n\n기술 정보: "user-profiles" bucket이 없습니다.':(e.includes("401")||e.includes("Unauthorized"))&&(e="⚠️ 인증 오류: Supabase 설정을 확인해주세요."),a.error("업로드 에러 상세:",r),new Error(e)}a.info("업로드 성공:",n);const i=`${"https://ytffobltrwkgxiedorsd.supabase.co"}/storage/v1/object/public/profile-images/${e}`;a.info("생성된 공개 URL:",{url:i}),S(i);const l=new FileReader;l.onloadend=()=>{f(e=>({...e,avatar:l.result}))},l.readAsDataURL(s)}catch(r){a.error("이미지 업로드 중 오류:",r),alert(r.message||"이미지 업로드에 실패했습니다.")}finally{k(!1)}}},disabled:w,className:"hidden"}),s.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all "+(w?"opacity-50 cursor-not-allowed":"hover:from-cyan-600 hover:to-blue-700 cursor-pointer"),children:s.jsx("i",{className:"ri-camera-line"})})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"대표 프로필 사진"})]})}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("i",{className:"ri-gallery-line mr-2 text-cyan-500"}),"내 사진 (",b.photos.length,"/",6,")"]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["최대 ",6,"장까지 업로드 가능합니다. 첫 번째 사진이 대표 사진이 됩니다."]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[b.photos.map((e,t)=>s.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden group",children:[s.jsx("img",{src:e,alt:`사진 ${t+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("button",{onClick:()=>{const e=b.photos.filter((e,s)=>s!==t);f({...b,photos:e})},className:"w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:s.jsx("i",{className:"ri-delete-bin-line"})})}),0===t&&s.jsx("div",{className:"absolute top-1 left-1 bg-cyan-500 text-white text-[10px] px-1.5 py-0.5 rounded",children:"대표"})]},t)),b.photos.length<6&&s.jsxs("label",{className:"aspect-square rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:border-cyan-500 hover:bg-cyan-50 transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(s.type))return void alert("JPG, PNG, WEBP, GIF 형식의 이미지만 업로드 가능합니다.");if(s.size>5242880)alert("이미지 크기는 5MB 이하여야 합니다.");else{k(!0);try{const e=`photo_${p?.id}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{error:r,data:n}=await t.storage.from("profile-images").upload(e,s,{cacheControl:"3600",upsert:!1});if(r){let e=r.message||"이미지 업로드에 실패했습니다.";throw e.includes("Bucket not found")&&(e="⚠️ Supabase Storage가 설정되지 않았습니다.\n관리자에게 문의해주세요."),new Error(e)}a.info("갤러리 사진 업로드 성공:",n);const i=`${"https://ytffobltrwkgxiedorsd.supabase.co"}/storage/v1/object/public/profile-images/${e}`;f(e=>({...e,photos:[...e.photos,i],avatar:0===e.photos.length?i:e.avatar}))}catch(r){a.error("사진 업로드 실패:",r),alert(r.message||"사진 업로드에 실패했습니다.")}finally{k(!1)}}},className:"hidden"}),s.jsx("i",{className:"ri-add-line text-2xl text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"추가"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("i",{className:"ri-user-line mr-2 text-cyan-500"}),"기본 정보"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),s.jsx("input",{type:"text",value:b.name,onChange:e=>f({...b,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"이름을 입력하세요"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"나이"}),s.jsx("input",{type:"number",value:b.age,onChange:e=>f({...b,age:parseInt(e.target.value)}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"나이를 입력하세요"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["성별 ",s.jsx("span",{className:"text-xs text-gray-400",children:"(변경 불가)"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"flex-1 py-3 rounded-xl font-medium text-center "+("여자"===b.gender?"bg-gradient-to-r from-pink-400 to-pink-500 text-white":"bg-gray-100 text-gray-400"),children:"여자"}),s.jsx("div",{className:"flex-1 py-3 rounded-xl font-medium text-center "+("남자"===b.gender?"bg-gradient-to-r from-blue-400 to-blue-500 text-white":"bg-gray-100 text-gray-400"),children:"남자"})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[s.jsx("i",{className:"ri-information-line mr-1"}),"성별은 회원가입 시 설정한 후 변경할 수 없습니다"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx("span",{className:"text-cyan-500 font-bold",children:"거주지역"}),"을 선택해 주세요"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:z,onChange:e=>{I(e.target.value),f({...b,location:""})},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent bg-white appearance-none cursor-pointer",children:[s.jsx("option",{value:"",children:"시/도 선택"}),x.map(e=>s.jsx("option",{value:e.sido,children:e.sido},e.sido))]}),s.jsx("i",{className:"ri-arrow-down-s-line absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),z&&s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:b.location?b.location.split(" ").slice(1).join(" "):"",onChange:e=>{e.target.value&&f({...b,location:`${z} ${e.target.value}`})},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent bg-white appearance-none cursor-pointer",children:[s.jsx("option",{value:"",children:"시/군/구 선택"}),h(z).map(e=>s.jsx("option",{value:e,children:e},e))]}),s.jsx("i",{className:"ri-arrow-down-s-line absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),b.location&&s.jsxs("div",{className:"bg-cyan-50 text-cyan-700 px-4 py-2 rounded-xl text-sm flex items-center",children:[s.jsx("i",{className:"ri-map-pin-line mr-2"}),"선택된 지역: ",s.jsx("span",{className:"font-bold ml-1",children:b.location})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("i",{className:"ri-file-list-3-line mr-2 text-cyan-500"}),"상세 정보"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx("span",{className:"text-cyan-500 font-bold",children:"학교"}),"에 재학중이신가요, 졸업생이신가요?"]}),s.jsxs("div",{className:"relative mb-2",children:[s.jsx("input",{type:"text",value:B,onChange:e=>{M(e.target.value),T(g(e.target.value,10))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"학교를 입력해 주세요."}),B&&s.jsx("button",{onClick:()=>{M(""),T([])},className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx("i",{className:"ri-close-line"})})]}),P.length>0&&s.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden mb-2 max-h-48 overflow-y-auto",children:P.map(e=>s.jsx("button",{onClick:()=>{f({...b,school:e}),M(""),T([])},className:"w-full px-4 py-3 text-left hover:bg-cyan-50 border-b border-gray-100 last:border-b-0 transition-colors",children:e},e))}),b.school&&s.jsxs("div",{className:"bg-gray-100 px-4 py-3 rounded-xl flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:b.school}),s.jsx("button",{onClick:()=>f({...b,school:""}),className:"text-gray-400 hover:text-gray-600",children:s.jsx("i",{className:"ri-close-line"})})]}),s.jsxs("div",{className:"flex items-start text-sm text-gray-500 mb-3",children:[s.jsx("i",{className:"ri-information-line mr-2 mt-0.5 text-cyan-500"}),s.jsx("span",{children:"직장인, 스타트업, 자영업 등 검색하면 추가 됩니다!"})]}),b.school&&s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent bg-white appearance-none cursor-pointer",children:[s.jsx("option",{value:"재학중",children:"재학중"}),s.jsx("option",{value:"졸업",children:"졸업"}),s.jsx("option",{value:"휴학중",children:"휴학중"}),s.jsx("option",{value:"재직중",children:"재직중"})]}),s.jsx("i",{className:"ri-arrow-down-s-line absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"키 (cm)"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["150~155","155~160","160~165","165~170","170~175","175~180","180~185","185~190"].map(e=>s.jsx("button",{onClick:()=>G("height",e),className:"py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(b.height===e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"체형"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["마른","보통","통통","근육질","건장한"].map(e=>s.jsx("button",{onClick:()=>G("bodyType",e),className:"py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(b.bodyType===e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"스타일"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["캐주얼","스포티","모던","클래식","스트릿","페미닌"].map(e=>s.jsx("button",{onClick:()=>G("style",e),className:"py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(b.style===e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"종교"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["무교","기독교","천주교","불교","원불교","기타"].map(e=>s.jsx("button",{onClick:()=>G("religion",e),className:"py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(b.religion===e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MBTI"}),s.jsxs("select",{value:b.mbti,onChange:e=>G("mbti",e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent bg-white cursor-pointer",children:[s.jsx("option",{value:"",children:"MBTI를 선택하세요"}),l.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"흡연"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["비흡연","흡연"].map(e=>s.jsx("button",{onClick:()=>G("smoking",e),className:"py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(b.smoking===e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"음주"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["안 마심","가끔","자주","매일"].map(e=>s.jsx("button",{onClick:()=>G("drinking",e),className:"py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap "+(b.drinking===e?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"),children:e},e))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("i",{className:"ri-chat-smile-2-line mr-2 text-cyan-500"}),"자기소개"]}),s.jsx("textarea",{value:b.bio,onChange:e=>f({...b,bio:e.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none",rows:4,placeholder:"자신을 소개해주세요",maxLength:500}),s.jsxs("div",{className:"text-right text-xs text-gray-400 mt-2",children:[b.bio.length,"/500"]})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("i",{className:"ri-heart-line mr-2 text-cyan-500"}),"관심사 ",s.jsx("span",{className:"text-gray-400 text-xs ml-2",children:"(최대 10개)"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.interests.map(e=>s.jsxs("span",{className:"bg-cyan-50 text-cyan-700 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[s.jsx("span",{children:e}),s.jsx("button",{onClick:()=>(e=>{f(s=>({...s,interests:s.interests.filter(s=>s!==e)}))})(e),className:"w-4 h-4 flex items-center justify-center hover:bg-cyan-200 rounded-full transition-colors cursor-pointer",children:s.jsx("i",{className:"ri-close-line text-xs"})})]},e))}),s.jsxs("button",{type:"button",onClick:()=>j(!0),className:"w-full px-4 py-3 border-2 border-dashed border-cyan-300 rounded-xl text-cyan-600 hover:bg-cyan-50 transition-all flex items-center justify-center gap-2 cursor-pointer",children:[s.jsx("i",{className:"ri-add-line"}),"관심사 선택하기 (",b.interests.length,"/10)"]})]})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("i",{className:"ri-check-line text-white text-2xl"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"저장 완료!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"프로필이 성공적으로 업데이트되었습니다."}),s.jsx("button",{onClick:()=>{v(!1),E()},className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:"확인"})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:s.jsxs("div",{className:"bg-white w-full max-w-lg max-h-[85vh] rounded-t-3xl sm:rounded-3xl overflow-hidden flex flex-col animate-slide-up",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white z-10",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"관심사 선택"}),s.jsx("button",{type:"button",onClick:()=>j(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 cursor-pointer",children:s.jsx("i",{className:"ri-close-line text-xl"})})]}),s.jsxs("div",{className:"px-6 py-3 bg-cyan-50 border-b",children:[s.jsxs("p",{className:"text-sm text-cyan-700 mb-2",children:["선택됨: ",s.jsxs("span",{className:"font-bold",children:[b.interests.length,"/10"]})]}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:0===b.interests.length?s.jsx("span",{className:"text-sm text-gray-400",children:"아래에서 관심사를 선택해주세요"}):b.interests.map(e=>s.jsx("span",{className:"bg-cyan-500 text-white px-2.5 py-1 rounded-full text-xs font-medium",children:e},e))})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-500 mb-3 flex items-center",children:[s.jsx("i",{className:"ri-fire-line mr-1 text-orange-500"}),"인기 관심사"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>s.jsx("button",{type:"button",onClick:()=>q(e),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-all cursor-pointer "+(b.interests.includes(e)?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]}),o.map(e=>s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-500 mb-3 flex items-center",children:[s.jsx("i",{className:`${d[e]} mr-1 text-cyan-500`}),e]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m[e].map(e=>s.jsx("button",{type:"button",onClick:()=>q(e),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-all cursor-pointer "+(b.interests.includes(e)?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]},e))]}),s.jsx("div",{className:"px-6 py-4 border-t bg-white",children:s.jsxs("button",{type:"button",onClick:()=>j(!1),className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-3 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all cursor-pointer",children:["선택 완료 (",b.interests.length,"개)"]})})]})}),s.jsx("style",{children:"\n        @keyframes slide-up {\n          from {\n            transform: translateY(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        .animate-slide-up {\n          animation: slide-up 0.3s ease-out;\n        }\n      "})]}):s.jsx("div",{className:"min-h-screen bg-cyan-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"로그인이 필요합니다"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"프로필을 수정하려면 먼저 로그인해주세요."}),s.jsx("button",{onClick:()=>u("/login"),className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all cursor-pointer",children:"로그인하기"})]})})}export{u as default};

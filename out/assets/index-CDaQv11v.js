(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function o2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function c2(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var a=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var l=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(a,s,l.get?l:{enumerable:!0,get:function(){return r[s]}})}),a}var Sd={exports:{}},hi={};var ug;function u2(){if(ug)return hi;ug=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return hi.Fragment=e,hi.jsx=a,hi.jsxs=a,hi}var dg;function d2(){return dg||(dg=1,Sd.exports=u2()),Sd.exports}var u=d2(),Nd={exports:{}},oe={};var fg;function f2(){if(fg)return oe;fg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function I(C,G,Q){this.props=C,this.context=G,this.refs=L,this.updater=Q||j}I.prototype.isReactComponent={},I.prototype.setState=function(C,G){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,G,"setState")},I.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=I.prototype;function S(C,G,Q){this.props=C,this.context=G,this.refs=L,this.updater=Q||j}var $=S.prototype=new k;$.constructor=S,T($,I.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function D(C,G,Q){var W=Q.ref;return{$$typeof:r,type:C,key:G,ref:W!==void 0?W:null,props:Q}}function J(C,G){return D(C.type,G,C.props)}function te(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function je(C){var G={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Q){return G[Q]})}var le=/\/+/g;function me(C,G){return typeof C=="object"&&C!==null&&C.key!=null?je(""+C.key):G.toString(36)}function $e(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(M,M):(C.status="pending",C.then(function(G){C.status==="pending"&&(C.status="fulfilled",C.value=G)},function(G){C.status==="pending"&&(C.status="rejected",C.reason=G)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function q(C,G,Q,W,ce){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var Ce=!1;if(C===null)Ce=!0;else switch(ge){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(C.$$typeof){case r:case e:Ce=!0;break;case x:return Ce=C._init,q(Ce(C._payload),G,Q,W,ce)}}if(Ce)return ce=ce(C),Ce=W===""?"."+me(C,0):W,Y(ce)?(Q="",Ce!=null&&(Q=Ce.replace(le,"$&/")+"/"),q(ce,G,Q,"",function(vr){return vr})):ce!=null&&(te(ce)&&(ce=J(ce,Q+(ce.key==null||C&&C.key===ce.key?"":(""+ce.key).replace(le,"$&/")+"/")+Ce)),G.push(ce)),1;Ce=0;var ft=W===""?".":W+":";if(Y(C))for(var Ve=0;Ve<C.length;Ve++)W=C[Ve],ge=ft+me(W,Ve),Ce+=q(W,G,Q,ge,ce);else if(Ve=_(C),typeof Ve=="function")for(C=Ve.call(C),Ve=0;!(W=C.next()).done;)W=W.value,ge=ft+me(W,Ve++),Ce+=q(W,G,Q,ge,ce);else if(ge==="object"){if(typeof C.then=="function")return q($e(C),G,Q,W,ce);throw G=String(C),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(C,G,Q){if(C==null)return C;var W=[],ce=0;return q(C,W,"","",function(ge){return G.call(Q,ge,ce++)}),W}function ae(C){if(C._status===-1){var G=C._result;G=G(),G.then(function(Q){(C._status===0||C._status===-1)&&(C._status=1,C._result=Q)},function(Q){(C._status===0||C._status===-1)&&(C._status=2,C._result=Q)}),C._status===-1&&(C._status=0,C._result=G)}if(C._status===1)return C._result.default;throw C._result}var pe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Se={map:X,forEach:function(C,G,Q){X(C,function(){G.apply(this,arguments)},Q)},count:function(C){var G=0;return X(C,function(){G++}),G},toArray:function(C){return X(C,function(G){return G})||[]},only:function(C){if(!te(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return oe.Activity=y,oe.Children=Se,oe.Component=I,oe.Fragment=a,oe.Profiler=l,oe.PureComponent=S,oe.StrictMode=s,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,oe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},oe.cache=function(C){return function(){return C.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(C,G,Q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=T({},C.props),ce=C.key;if(G!=null)for(ge in G.key!==void 0&&(ce=""+G.key),G)!U.call(G,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&G.ref===void 0||(W[ge]=G[ge]);var ge=arguments.length-2;if(ge===1)W.children=Q;else if(1<ge){for(var Ce=Array(ge),ft=0;ft<ge;ft++)Ce[ft]=arguments[ft+2];W.children=Ce}return D(C.type,ce,W)},oe.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},oe.createElement=function(C,G,Q){var W,ce={},ge=null;if(G!=null)for(W in G.key!==void 0&&(ge=""+G.key),G)U.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=G[W]);var Ce=arguments.length-2;if(Ce===1)ce.children=Q;else if(1<Ce){for(var ft=Array(Ce),Ve=0;Ve<Ce;Ve++)ft[Ve]=arguments[Ve+2];ce.children=ft}if(C&&C.defaultProps)for(W in Ce=C.defaultProps,Ce)ce[W]===void 0&&(ce[W]=Ce[W]);return D(C,ge,ce)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(C){return{$$typeof:h,render:C}},oe.isValidElement=te,oe.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:ae}},oe.memo=function(C,G){return{$$typeof:g,type:C,compare:G===void 0?null:G}},oe.startTransition=function(C){var G=R.T,Q={};R.T=Q;try{var W=C(),ce=R.S;ce!==null&&ce(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(M,pe)}catch(ge){pe(ge)}finally{G!==null&&Q.types!==null&&(G.types=Q.types),R.T=G}},oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},oe.use=function(C){return R.H.use(C)},oe.useActionState=function(C,G,Q){return R.H.useActionState(C,G,Q)},oe.useCallback=function(C,G){return R.H.useCallback(C,G)},oe.useContext=function(C){return R.H.useContext(C)},oe.useDebugValue=function(){},oe.useDeferredValue=function(C,G){return R.H.useDeferredValue(C,G)},oe.useEffect=function(C,G){return R.H.useEffect(C,G)},oe.useEffectEvent=function(C){return R.H.useEffectEvent(C)},oe.useId=function(){return R.H.useId()},oe.useImperativeHandle=function(C,G,Q){return R.H.useImperativeHandle(C,G,Q)},oe.useInsertionEffect=function(C,G){return R.H.useInsertionEffect(C,G)},oe.useLayoutEffect=function(C,G){return R.H.useLayoutEffect(C,G)},oe.useMemo=function(C,G){return R.H.useMemo(C,G)},oe.useOptimistic=function(C,G){return R.H.useOptimistic(C,G)},oe.useReducer=function(C,G,Q){return R.H.useReducer(C,G,Q)},oe.useRef=function(C){return R.H.useRef(C)},oe.useState=function(C){return R.H.useState(C)},oe.useSyncExternalStore=function(C,G,Q){return R.H.useSyncExternalStore(C,G,Q)},oe.useTransition=function(){return R.H.useTransition()},oe.version="19.2.0",oe}var hg;function Of(){return hg||(hg=1,Nd.exports=f2()),Nd.exports}var N=Of();const ie=r=>typeof r=="string",mi=()=>{let r,e;const a=new Promise((s,l)=>{r=s,e=l});return a.resolve=r,a.reject=e,a},mg=r=>r==null?"":""+r,h2=(r,e,a)=>{r.forEach(s=>{e[s]&&(a[s]=e[s])})},m2=/###/g,pg=r=>r&&r.indexOf("###")>-1?r.replace(m2,"."):r,gg=r=>!r||ie(r),wi=(r,e,a)=>{const s=ie(e)?e.split("."):e;let l=0;for(;l<s.length-1;){if(gg(r))return{};const c=pg(s[l]);!r[c]&&a&&(r[c]=new a),Object.prototype.hasOwnProperty.call(r,c)?r=r[c]:r={},++l}return gg(r)?{}:{obj:r,k:pg(s[l])}},xg=(r,e,a)=>{const{obj:s,k:l}=wi(r,e,Object);if(s!==void 0||e.length===1){s[l]=a;return}let c=e[e.length-1],d=e.slice(0,e.length-1),h=wi(r,d,Object);for(;h.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),h=wi(r,d,Object),h?.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=a},p2=(r,e,a,s)=>{const{obj:l,k:c}=wi(r,e,Object);l[c]=l[c]||[],l[c].push(a)},Oo=(r,e)=>{const{obj:a,k:s}=wi(r,e);if(a&&Object.prototype.hasOwnProperty.call(a,s))return a[s]},g2=(r,e,a)=>{const s=Oo(r,a);return s!==void 0?s:Oo(e,a)},dy=(r,e,a)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in r?ie(r[s])||r[s]instanceof String||ie(e[s])||e[s]instanceof String?a&&(r[s]=e[s]):dy(r[s],e[s],a):r[s]=e[s]);return r},Ks=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var x2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const y2=r=>ie(r)?r.replace(/[&<>"'\/]/g,e=>x2[e]):r;class b2{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const a=this.regExpMap.get(e);if(a!==void 0)return a;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const v2=[" ",",","?","!",";"],w2=new b2(20),_2=(r,e,a)=>{e=e||"",a=a||"";const s=v2.filter(d=>e.indexOf(d)<0&&a.indexOf(d)<0);if(s.length===0)return!0;const l=w2.getRegExp(`(${s.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!l.test(r);if(!c){const d=r.indexOf(a);d>0&&!l.test(r.substring(0,d))&&(c=!0)}return c},af=(r,e,a=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const s=e.split(a);let l=r;for(let c=0;c<s.length;){if(!l||typeof l!="object")return;let d,h="";for(let p=c;p<s.length;++p)if(p!==c&&(h+=a),h+=s[p],d=l[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&p<s.length-1)continue;c+=p-c+1;break}l=d}return l},Oi=r=>r?.replace("_","-"),j2={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console?.[r]?.apply?.(console,e)}};let S2=class sf{constructor(e,a={}){this.init(e,a)}init(e,a={}){this.prefix=a.prefix||"i18next:",this.logger=e||j2,this.options=a,this.debug=a.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,a,s,l){return l&&!this.debug?null:(ie(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[a](e))}create(e){return new sf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new sf(this.logger,e)}};var on=new S2;class Jo{constructor(){this.observers={}}on(e,a){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const l=this.observers[s].get(a)||0;this.observers[s].set(a,l+1)}),this}off(e,a){if(this.observers[e]){if(!a){delete this.observers[e];return}this.observers[e].delete(a)}}emit(e,...a){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([l,c])=>{for(let d=0;d<c;d++)l(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,c])=>{for(let d=0;d<c;d++)l.apply(l,[e,...a])})}}class yg extends Jo{constructor(e,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const a=this.options.ns.indexOf(e);a>-1&&this.options.ns.splice(a,1)}getResource(e,a,s,l={}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,a],s&&(Array.isArray(s)?h.push(...s):ie(s)&&c?h.push(...s.split(c)):h.push(s)));const p=Oo(this.data,h);return!p&&!a&&!s&&e.indexOf(".")>-1&&(e=h[0],a=h[1],s=h.slice(2).join(".")),p||!d||!ie(s)?p:af(this.data?.[e]?.[a],s,c)}addResource(e,a,s,l,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[e,a];s&&(h=h.concat(d?s.split(d):s)),e.indexOf(".")>-1&&(h=e.split("."),l=a,a=h[1]),this.addNamespaces(a),xg(this.data,h,l),c.silent||this.emit("added",e,a,s,l)}addResources(e,a,s,l={silent:!1}){for(const c in s)(ie(s[c])||Array.isArray(s[c]))&&this.addResource(e,a,c,s[c],{silent:!0});l.silent||this.emit("added",e,a,s)}addResourceBundle(e,a,s,l,c,d={silent:!1,skipCopy:!1}){let h=[e,a];e.indexOf(".")>-1&&(h=e.split("."),l=s,s=a,a=h[1]),this.addNamespaces(a);let p=Oo(this.data,h)||{};d.skipCopy||(s=JSON.parse(JSON.stringify(s))),l?dy(p,s,c):p={...p,...s},xg(this.data,h,p),d.silent||this.emit("added",e,a,s)}removeResourceBundle(e,a){this.hasResourceBundle(e,a)&&delete this.data[e][a],this.removeNamespaces(a),this.emit("removed",e,a)}hasResourceBundle(e,a){return this.getResource(e,a)!==void 0}getResourceBundle(e,a){return a||(a=this.options.defaultNS),this.getResource(e,a)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const a=this.getDataByLanguage(e);return!!(a&&Object.keys(a)||[]).find(l=>a[l]&&Object.keys(a[l]).length>0)}toJSON(){return this.data}}var fy={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,a,s,l){return r.forEach(c=>{e=this.processors[c]?.process(e,a,s,l)??e}),e}};const hy=Symbol("i18next/PATH_KEY");function N2(){const r=[],e=Object.create(null);let a;return e.get=(s,l)=>(a?.revoke?.(),l===hy?r:(r.push(l),a=Proxy.revocable(s,e),a.proxy)),Proxy.revocable(Object.create(null),e).proxy}function rf(r,e){const{[hy]:a}=r(N2());return a.join(e?.keySeparator??".")}const bg={},Ed=r=>!ie(r)&&typeof r!="boolean"&&typeof r!="number";class Io extends Jo{constructor(e,a={}){super(),h2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=on.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,a={interpolation:{}}){const s={...a};if(e==null)return!1;const l=this.resolve(e,s);if(l?.res===void 0)return!1;const c=Ed(l.res);return!(s.returnObjects===!1&&c)}extractFromKey(e,a){let s=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=a.ns||this.options.defaultNS||[];const d=s&&e.indexOf(s)>-1,h=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!_2(e,s,l);if(d&&!h){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:ie(c)?[c]:c};const g=e.split(s);(s!==l||s===l&&this.options.ns.indexOf(g[0])>-1)&&(c=g.shift()),e=g.join(l)}return{key:e,namespaces:ie(c)?[c]:c}}translate(e,a,s){let l=typeof a=="object"?{...a}:a;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),e==null)return"";typeof e=="function"&&(e=rf(e,{...this.options,...l})),Array.isArray(e)||(e=[String(e)]);const c=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:h,namespaces:p}=this.extractFromKey(e[e.length-1],l),g=p[p.length-1];let x=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const y=l.lng||this.language,v=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return v?c?{res:`${g}${x}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(l)}:`${g}${x}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(l)}:h;const _=this.resolve(e,l);let j=_?.res;const T=_?.usedKey||h,L=_?.exactUsedKey||h,I=["[object Number]","[object Function]","[object RegExp]"],k=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,$=l.count!==void 0&&!ie(l.count),Y=Io.hasDefaultValue(l),M=$?this.pluralResolver.getSuffix(y,l.count,l):"",R=l.ordinal&&$?this.pluralResolver.getSuffix(y,l.count,{ordinal:!1}):"",U=$&&!l.ordinal&&l.count===0,D=U&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${M}`]||l[`defaultValue${R}`]||l.defaultValue;let J=j;S&&!j&&Y&&(J=D);const te=Ed(J),je=Object.prototype.toString.apply(J);if(S&&J&&te&&I.indexOf(je)<0&&!(ie(k)&&Array.isArray(J))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const le=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,J,{...l,ns:p}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(_.res=le,_.usedParams=this.getUsedParamsDetails(l),_):le}if(d){const le=Array.isArray(J),me=le?[]:{},$e=le?L:T;for(const q in J)if(Object.prototype.hasOwnProperty.call(J,q)){const X=`${$e}${d}${q}`;Y&&!j?me[q]=this.translate(X,{...l,defaultValue:Ed(D)?D[q]:void 0,joinArrays:!1,ns:p}):me[q]=this.translate(X,{...l,joinArrays:!1,ns:p}),me[q]===X&&(me[q]=J[q])}j=me}}else if(S&&ie(k)&&Array.isArray(j))j=j.join(k),j&&(j=this.extendTranslation(j,e,l,s));else{let le=!1,me=!1;!this.isValidLookup(j)&&Y&&(le=!0,j=D),this.isValidLookup(j)||(me=!0,j=h);const q=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&me?void 0:j,X=Y&&D!==j&&this.options.updateMissing;if(me||le||X){if(this.logger.log(X?"updateKey":"missingKey",y,g,h,X?D:j),d){const C=this.resolve(h,{...l,keySeparator:!1});C&&C.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(let C=0;C<pe.length;C++)ae.push(pe[C]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(l.lng||this.language):ae.push(l.lng||this.language);const Se=(C,G,Q)=>{const W=Y&&Q!==j?Q:q;this.options.missingKeyHandler?this.options.missingKeyHandler(C,g,G,W,X,l):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(C,g,G,W,X,l),this.emit("missingKey",C,g,G,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?ae.forEach(C=>{const G=this.pluralResolver.getSuffixes(C,l);U&&l[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(Q=>{Se([C],h+Q,l[`defaultValue${Q}`]||D)})}):Se(ae,h,D))}j=this.extendTranslation(j,e,l,_,s),me&&j===h&&this.options.appendNamespaceToMissingKey&&(j=`${g}${x}${h}`),(me||le)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${x}${h}`:h,le?j:void 0,l))}return c?(_.res=j,_.usedParams=this.getUsedParamsDetails(l),_):j}extendTranslation(e,a,s,l,c){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=ie(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const y=e.match(this.interpolator.nestingRegexp);g=y&&y.length}let x=s.replace&&!ie(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),e=this.interpolator.interpolate(e,x,s.lng||this.language||l.usedLng,s),p){const y=e.match(this.interpolator.nestingRegexp),v=y&&y.length;g<v&&(s.nest=!1)}!s.lng&&l&&l.res&&(s.lng=this.language||l.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>c?.[0]===y[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${a[0]}`),null):this.translate(...y,a),s)),s.interpolation&&this.interpolator.reset()}const d=s.postProcess||this.options.postProcess,h=ie(d)?[d]:d;return e!=null&&h?.length&&s.applyPostProcessor!==!1&&(e=fy.handle(h,e,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,a={}){let s,l,c,d,h;return ie(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(p,a),x=g.key;l=x;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const v=a.count!==void 0&&!ie(a.count),_=v&&!a.ordinal&&a.count===0,j=a.context!==void 0&&(ie(a.context)||typeof a.context=="number")&&a.context!=="",T=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);y.forEach(L=>{this.isValidLookup(s)||(h=L,!bg[`${T[0]}-${L}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(bg[`${T[0]}-${L}`]=!0,this.logger.warn(`key "${l}" for languages "${T.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(I=>{if(this.isValidLookup(s))return;d=I;const k=[x];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,x,I,L,a);else{let $;v&&($=this.pluralResolver.getSuffix(I,a.count,a));const Y=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(a.ordinal&&$.indexOf(M)===0&&k.push(x+$.replace(M,this.options.pluralSeparator)),k.push(x+$),_&&k.push(x+Y)),j){const R=`${x}${this.options.contextSeparator||"_"}${a.context}`;k.push(R),v&&(a.ordinal&&$.indexOf(M)===0&&k.push(R+$.replace(M,this.options.pluralSeparator)),k.push(R+$),_&&k.push(R+Y))}}let S;for(;S=k.pop();)this.isValidLookup(s)||(c=S,s=this.getResource(I,L,S,a))}))})}),{res:s,usedKey:l,exactUsedKey:c,usedLng:d,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,a,s,l={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,a,s,l):this.resourceStore.getResource(e,a,s,l)}getUsedParamsDetails(e={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!ie(e.replace);let l=s?e.replace:e;if(s&&typeof e.count<"u"&&(l.count=e.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!s){l={...l};for(const c of a)delete l[c]}return l}static hasDefaultValue(e){const a="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&a===s.substring(0,a.length)&&e[s]!==void 0)return!0;return!1}}class vg{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=on.create("languageUtils")}getScriptPartFromCode(e){if(e=Oi(e),!e||e.indexOf("-")<0)return null;const a=e.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(e){if(e=Oi(e),!e||e.indexOf("-")<0)return e;const a=e.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(e){if(ie(e)&&e.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(e)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let a;return e.forEach(s=>{if(a)return;const l=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(l))&&(a=l)}),!a&&this.options.supportedLngs&&e.forEach(s=>{if(a)return;const l=this.getScriptPartFromCode(s);if(this.isSupportedCode(l))return a=l;const c=this.getLanguagePartFromCode(s);if(this.isSupportedCode(c))return a=c;a=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(e,a){if(!e)return[];if(typeof e=="function"&&(e=e(a)),ie(e)&&(e=[e]),Array.isArray(e))return e;if(!a)return e.default||[];let s=e[a];return s||(s=e[this.getScriptPartFromCode(a)]),s||(s=e[this.formatLanguageCode(a)]),s||(s=e[this.getLanguagePartFromCode(a)]),s||(s=e.default),s||[]}toResolveHierarchy(e,a){const s=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],e),l=[],c=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return ie(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):ie(e)&&c(this.formatLanguageCode(e)),s.forEach(d=>{l.indexOf(d)<0&&c(this.formatLanguageCode(d))}),l}}const wg={zero:0,one:1,two:2,few:3,many:4,other:5},_g={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class E2{constructor(e,a={}){this.languageUtils=e,this.options=a,this.logger=on.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,a){this.rules[e]=a}clearCache(){this.pluralRulesCache={}}getRule(e,a={}){const s=Oi(e==="dev"?"en":e),l=a.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:s,type:l});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(s,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_g;if(!e.match(/-|_/))return _g;const p=this.languageUtils.getLanguagePartFromCode(e);d=this.getRule(p,a)}return this.pluralRulesCache[c]=d,d}needsPlural(e,a={}){let s=this.getRule(e,a);return s||(s=this.getRule("dev",a)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,a,s={}){return this.getSuffixes(e,s).map(l=>`${a}${l}`)}getSuffixes(e,a={}){let s=this.getRule(e,a);return s||(s=this.getRule("dev",a)),s?s.resolvedOptions().pluralCategories.sort((l,c)=>wg[l]-wg[c]).map(l=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(e,a,s={}){const l=this.getRule(e,s);return l?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${l.select(a)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",a,s))}}const jg=(r,e,a,s=".",l=!0)=>{let c=g2(r,e,a);return!c&&l&&ie(a)&&(c=af(r,a,s),c===void 0&&(c=af(e,a,s))),c},Td=r=>r.replace(/\$/g,"$$$$");class T2{constructor(e={}){this.logger=on.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(a=>a),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:a,escapeValue:s,useRawValueToEscape:l,prefix:c,prefixEscaped:d,suffix:h,suffixEscaped:p,formatSeparator:g,unescapeSuffix:x,unescapePrefix:y,nestingPrefix:v,nestingPrefixEscaped:_,nestingSuffix:j,nestingSuffixEscaped:T,nestingOptionsSeparator:L,maxReplaces:I,alwaysFormat:k}=e.interpolation;this.escape=a!==void 0?a:y2,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=c?Ks(c):d||"{{",this.suffix=h?Ks(h):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=x?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=v?Ks(v):_||Ks("$t("),this.nestingSuffix=j?Ks(j):T||Ks(")"),this.nestingOptionsSeparator=L||",",this.maxReplaces=I||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(a,s)=>a?.source===s?(a.lastIndex=0,a):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,a,s,l){let c,d,h;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=_=>{if(_.indexOf(this.formatSeparator)<0){const I=jg(a,p,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,s,{...l,...a,interpolationkey:_}):I}const j=_.split(this.formatSeparator),T=j.shift().trim(),L=j.join(this.formatSeparator).trim();return this.format(jg(a,p,T,this.options.keySeparator,this.options.ignoreJSONStructure),L,s,{...l,...a,interpolationkey:T})};this.resetRegExp();const x=l?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Td(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Td(this.escape(_)):Td(_)}].forEach(_=>{for(h=0;c=_.regex.exec(e);){const j=c[1].trim();if(d=g(j),d===void 0)if(typeof x=="function"){const L=x(e,c,l);d=ie(L)?L:""}else if(l&&Object.prototype.hasOwnProperty.call(l,j))d="";else if(y){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${e}`),d="";else!ie(d)&&!this.useRawValueToEscape&&(d=mg(d));const T=_.safeValue(d);if(e=e.replace(c[0],T),y?(_.regex.lastIndex+=d.length,_.regex.lastIndex-=c[0].length):_.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,a,s={}){let l,c,d;const h=(p,g)=>{const x=this.nestingOptionsSeparator;if(p.indexOf(x)<0)return p;const y=p.split(new RegExp(`${x}[ ]*{`));let v=`{${y[1]}`;p=y[0],v=this.interpolate(v,d);const _=v.match(/'/g),j=v.match(/"/g);((_?.length??0)%2===0&&!j||j.length%2!==0)&&(v=v.replace(/'/g,'"'));try{d=JSON.parse(v),g&&(d={...g,...d})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,T),`${p}${x}${v}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,p};for(;l=this.nestingRegexp.exec(e);){let p=[];d={...s},d=d.replace&&!ie(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const g=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(g!==-1&&(p=l[1].slice(g).split(this.formatSeparator).map(x=>x.trim()).filter(Boolean),l[1]=l[1].slice(0,g)),c=a(h.call(this,l[1].trim(),d),d),c&&l[0]===e&&!ie(c))return c;ie(c)||(c=mg(c)),c||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${e}`),c=""),p.length&&(c=p.reduce((x,y)=>this.format(x,y,s.lng,{...s,interpolationkey:l[1].trim()}),c.trim())),e=e.replace(l[0],c),this.regexp.lastIndex=0}return e}}const C2=r=>{let e=r.toLowerCase().trim();const a={};if(r.indexOf("(")>-1){const s=r.split("(");e=s[0].toLowerCase().trim();const l=s[1].substring(0,s[1].length-1);e==="currency"&&l.indexOf(":")<0?a.currency||(a.currency=l.trim()):e==="relativetime"&&l.indexOf(":")<0?a.range||(a.range=l.trim()):l.split(";").forEach(d=>{if(d){const[h,...p]=d.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),x=h.trim();a[x]||(a[x]=g),g==="false"&&(a[x]=!1),g==="true"&&(a[x]=!0),isNaN(g)||(a[x]=parseInt(g,10))}})}return{formatName:e,formatOptions:a}},Sg=r=>{const e={};return(a,s,l)=>{let c=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(c={...c,[l.interpolationkey]:void 0});const d=s+JSON.stringify(c);let h=e[d];return h||(h=r(Oi(s),l),e[d]=h),h(a)}},A2=r=>(e,a,s)=>r(Oi(a),s)(e);class k2{constructor(e={}){this.logger=on.create("formatter"),this.options=e,this.init(e)}init(e,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const s=a.cacheInBuiltFormats?Sg:A2;this.formats={number:s((l,c)=>{const d=new Intl.NumberFormat(l,{...c});return h=>d.format(h)}),currency:s((l,c)=>{const d=new Intl.NumberFormat(l,{...c,style:"currency"});return h=>d.format(h)}),datetime:s((l,c)=>{const d=new Intl.DateTimeFormat(l,{...c});return h=>d.format(h)}),relativetime:s((l,c)=>{const d=new Intl.RelativeTimeFormat(l,{...c});return h=>d.format(h,c.range||"day")}),list:s((l,c)=>{const d=new Intl.ListFormat(l,{...c});return h=>d.format(h)})}}add(e,a){this.formats[e.toLowerCase().trim()]=a}addCached(e,a){this.formats[e.toLowerCase().trim()]=Sg(a)}format(e,a,s,l={}){const c=a.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(p=>p.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,p)=>{const{formatName:g,formatOptions:x}=C2(p);if(this.formats[g]){let y=h;try{const v=l?.formatParams?.[l.interpolationkey]||{},_=v.locale||v.lng||l.locale||l.lng||s;y=this.formats[g](h,_,{...x,...l,...v})}catch(v){this.logger.warn(v)}return y}else this.logger.warn(`there was no format function for ${g}`);return h},e)}}const R2=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class O2 extends Jo{constructor(e,a,s,l={}){super(),this.backend=e,this.store=a,this.services=s,this.languageUtils=s.languageUtils,this.options=l,this.logger=on.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,l.backend,l)}queueLoad(e,a,s,l){const c={},d={},h={},p={};return e.forEach(g=>{let x=!0;a.forEach(y=>{const v=`${g}|${y}`;!s.reload&&this.store.hasResourceBundle(g,y)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?d[v]===void 0&&(d[v]=!0):(this.state[v]=1,x=!1,d[v]===void 0&&(d[v]=!0),c[v]===void 0&&(c[v]=!0),p[y]===void 0&&(p[y]=!0)))}),x||(h[g]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(p)}}loaded(e,a,s){const l=e.split("|"),c=l[0],d=l[1];a&&this.emit("failedLoading",c,d,a),!a&&s&&this.store.addResourceBundle(c,d,s,void 0,void 0,{skipCopy:!0}),this.state[e]=a?-1:2,a&&s&&(this.state[e]=0);const h={};this.queue.forEach(p=>{p2(p.loaded,[c],d),R2(p,e),a&&p.errors.push(a),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{h[g]||(h[g]={});const x=p.loaded[g];x.length&&x.forEach(y=>{h[g][y]===void 0&&(h[g][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(p=>!p.done)}read(e,a,s,l=0,c=this.retryTimeout,d){if(!e.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:a,fcName:s,tried:l,wait:c,callback:d});return}this.readingCalls++;const h=(g,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&x&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,e,a,s,l+1,c*2,d)},c);return}d(g,x)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const g=p(e,a);g&&typeof g.then=="function"?g.then(x=>h(null,x)).catch(h):h(null,g)}catch(g){h(g)}return}return p(e,a,h)}prepareLoading(e,a,s={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();ie(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ie(a)&&(a=[a]);const c=this.queueLoad(e,a,s,l);if(!c.toLoad.length)return c.pending.length||l(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(e,a,s){this.prepareLoading(e,a,{},s)}reload(e,a,s){this.prepareLoading(e,a,{reload:!0},s)}loadOne(e,a=""){const s=e.split("|"),l=s[0],c=s[1];this.read(l,c,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${a}loading namespace ${c} for language ${l} failed`,d),!d&&h&&this.logger.log(`${a}loaded namespace ${c} for language ${l}`,h),this.loaded(e,d,h)})}saveMissing(e,a,s,l,c,d={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${s}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...d,isUpdate:c},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,a,s,l,p):x=g(e,a,s,l),x&&typeof x.then=="function"?x.then(y=>h(null,y)).catch(h):h(null,x)}catch(x){h(x)}else g(e,a,s,l,h,p)}!e||!e[0]||this.store.addResource(e[0],a,s,l)}}}const Ng=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),ie(r[1])&&(e.defaultValue=r[1]),ie(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const a=r[3]||r[2];Object.keys(a).forEach(s=>{e[s]=a[s]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Eg=r=>(ie(r.ns)&&(r.ns=[r.ns]),ie(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),ie(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),go=()=>{},I2=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(a=>{typeof r[a]=="function"&&(r[a]=r[a].bind(r))})};class _i extends Jo{constructor(e={},a){if(super(),this.options=Eg(e),this.services={},this.logger=on,this.modules={external:[]},I2(this),a&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,a),this;setTimeout(()=>{this.init(e,a)},0)}}init(e={},a){this.isInitializing=!0,typeof e=="function"&&(a=e,e={}),e.defaultNS==null&&e.ns&&(ie(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Ng();this.options={...s,...this.options,...Eg(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const l=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?on.init(l(this.modules.logger),this.options):on.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=k2;const x=new vg(this.options);this.store=new yg(this.options.resources,this.options);const y=this.services;y.logger=on,y.resourceStore=this.store,y.languageUtils=x,y.pluralResolver=new E2(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(y.formatter=l(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new T2(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new O2(l(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(_,...j)=>{this.emit(_,...j)}),this.modules.languageDetector&&(y.languageDetector=l(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=l(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Io(this.services,this.options),this.translator.on("*",(_,...j)=>{this.emit(_,...j)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,a||(a=go),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...x)=>this.store[g](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...x)=>(this.store[g](...x),this)});const h=mi(),p=()=>{const g=(x,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),a(x,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(e,a=go){let s=a;const l=ie(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(l?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const c=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&c.indexOf(g)<0&&c.push(g)})};l?d(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),this.options.preload?.forEach?.(h=>d(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(e,a,s){const l=mi();return typeof e=="function"&&(s=e,e=void 0),typeof a=="function"&&(s=a,a=void 0),e||(e=this.languages),a||(a=this.options.ns),s||(s=go),this.services.backendConnector.reload(e,a,c=>{l.resolve(),s(c)}),l}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fy.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let a=0;a<this.languages.length;a++){const s=this.languages[a];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,a){this.isLanguageChangingTo=e;const s=mi();this.emit("languageChanging",e);const l=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,p)=>{p?this.isLanguageChangingTo===e&&(l(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),a&&a(h,(...g)=>this.t(...g))},d=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const p=ie(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(ie(h)?[h]:h);g&&(this.language||l(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,x=>{c(x,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),s}getFixedT(e,a,s){const l=(c,d,...h)=>{let p;typeof d!="object"?p=this.options.overloadTranslationOptionHandler([c,d].concat(h)):p={...d},p.lng=p.lng||l.lng,p.lngs=p.lngs||l.lngs,p.ns=p.ns||l.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||l.keyPrefix);const g=this.options.keySeparator||".";let x;return p.keyPrefix&&Array.isArray(c)?x=c.map(y=>(typeof y=="function"&&(y=rf(y,{...this.options,...d})),`${p.keyPrefix}${g}${y}`)):(typeof c=="function"&&(c=rf(c,{...this.options,...d})),x=p.keyPrefix?`${p.keyPrefix}${g}${c}`:c),this.t(x,p)};return ie(e)?l.lng=e:l.lngs=e,l.ns=a,l.keyPrefix=s,l}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=a.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const d=(h,p)=>{const g=this.services.backendConnector.state[`${h}|${p}`];return g===-1||g===0||g===2};if(a.precheck){const h=a.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(s,e)&&(!l||d(c,e)))}loadNamespaces(e,a){const s=mi();return this.options.ns?(ie(e)&&(e=[e]),e.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{s.resolve(),a&&a(l)}),s):(a&&a(),Promise.resolve())}loadLanguages(e,a){const s=mi();ie(e)&&(e=[e]);const l=this.options.preload||[],c=e.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=l.concat(c),this.loadResources(d=>{s.resolve(),a&&a(d)}),s):(a&&a(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new vg(Ng());return e.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},a){const s=new _i(e,a);return s.createInstance=_i.createInstance,s}cloneInstance(e={},a=go){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const l={...this.options,...e,isClone:!0},c=new _i(l);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},s){const h=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((x,y)=>(x[y]={...p[g][y]},x),p[g]),p),{});c.store=new yg(h,l),c.services.resourceStore=c.store}return c.translator=new Io(c.services,l),c.translator.on("*",(h,...p)=>{c.emit(h,...p)}),c.init(l,a),c.translator.options=l,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=_i.createInstance();dt.createInstance;dt.dir;dt.init;dt.loadResources;dt.reloadResources;dt.use;dt.changeLanguage;dt.getFixedT;dt.t;dt.exists;dt.setDefaultNamespace;dt.hasLoadedNamespace;dt.loadNamespaces;dt.loadLanguages;const D2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,L2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},U2=r=>L2[r],M2=r=>r.replace(D2,U2);let Tg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:M2};const P2=(r={})=>{Tg={...Tg,...r}},z2={type:"3rdParty",init(r){P2(r.options.react)}},$2=N.createContext();function B2({i18n:r,defaultNS:e,children:a}){const s=N.useMemo(()=>({i18n:r,defaultNS:e}),[r,e]);return N.createElement($2.Provider,{value:s},a)}const{slice:H2,forEach:q2}=[];function V2(r){return q2.call(H2.call(arguments,1),e=>{if(e)for(const a in e)r[a]===void 0&&(r[a]=e[a])}),r}function G2(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(a=>a.test(r))}const Cg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,K2=function(r,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},l=encodeURIComponent(e);let c=`${r}=${l}`;if(s.maxAge>0){const d=s.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(s.domain){if(!Cg.test(s.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${s.domain}`}if(s.path){if(!Cg.test(s.path))throw new TypeError("option path is invalid");c+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(c+="; HttpOnly"),s.secure&&(c+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(c+="; Partitioned"),c},Ag={create(r,e,a,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+a*60*1e3)),s&&(l.domain=s),document.cookie=K2(r,e,l)},read(r){const e=`${r}=`,a=document.cookie.split(";");for(let s=0;s<a.length;s++){let l=a[s];for(;l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(e)===0)return l.substring(e.length,l.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var F2={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return Ag.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:a,cookieMinutes:s,cookieDomain:l,cookieOptions:c}=e;a&&typeof document<"u"&&Ag.create(a,r,s,l,c)}},Y2={name:"querystring",lookup(r){let{lookupQuerystring:e}=r,a;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const c=s.substring(1).split("&");for(let d=0;d<c.length;d++){const h=c[d].indexOf("=");h>0&&c[d].substring(0,h)===e&&(a=c[d].substring(h+1))}}return a}},J2={name:"hash",lookup(r){let{lookupHash:e,lookupFromHashIndex:a}=r,s;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const c=l.substring(1);if(e){const d=c.split("&");for(let h=0;h<d.length;h++){const p=d[h].indexOf("=");p>0&&d[h].substring(0,p)===e&&(s=d[h].substring(p+1))}}if(s)return s;if(!s&&a>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof a=="number"?a:0]?.replace("/",""):void 0}}}return s}};let Fs=null;const kg=()=>{if(Fs!==null)return Fs;try{if(Fs=typeof window<"u"&&window.localStorage!==null,!Fs)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{Fs=!1}return Fs};var X2={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&kg())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:a}=e;a&&kg()&&window.localStorage.setItem(a,r)}};let Ys=null;const Rg=()=>{if(Ys!==null)return Ys;try{if(Ys=typeof window<"u"&&window.sessionStorage!==null,!Ys)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{Ys=!1}return Ys};var Q2={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&Rg())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:a}=e;a&&Rg()&&window.sessionStorage.setItem(a,r)}},Z2={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:a,userLanguage:s,language:l}=navigator;if(a)for(let c=0;c<a.length;c++)e.push(a[c]);s&&e.push(s),l&&e.push(l)}return e.length>0?e:void 0}},W2={name:"htmlTag",lookup(r){let{htmlTag:e}=r,a;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(a=s.getAttribute("lang")),a}},e_={name:"path",lookup(r){let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof e=="number"?e:0]?.replace("/",""):void 0}},t_={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:e}=r;const a=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[a]}};let my=!1;try{document.cookie,my=!0}catch{}const py=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];my||py.splice(1,1);const n_=()=>({order:py,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class gy{constructor(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,a)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=V2(a,this.options||{},n_()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=l=>l.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(F2),this.addDetector(Y2),this.addDetector(X2),this.addDetector(Q2),this.addDetector(Z2),this.addDetector(W2),this.addDetector(e_),this.addDetector(t_),this.addDetector(J2)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return e.forEach(s=>{if(this.detectors[s]){let l=this.detectors[s].lookup(this.options);l&&typeof l=="string"&&(l=[l]),l&&(a=a.concat(l))}}),a=a.filter(s=>s!=null&&!G2(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||a.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}gy.type="languageDetector";const Og=Object.assign({}),yi={};Object.keys(Og).forEach(r=>{const e=r.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(e){const[,a]=e,s=Og[r];yi[a]||(yi[a]={translation:{}}),s.default&&(yi[a].translation={...yi[a].translation,...s.default})}});dt.use(gy).use(z2).init({lng:"en",fallbackLng:"en",debug:!1,resources:yi,interpolation:{escapeValue:!1}});var Cd={exports:{}},pi={},Ad={exports:{}},kd={};var Ig;function a_(){return Ig||(Ig=1,(function(r){function e(q,X){var ae=q.length;q.push(X);e:for(;0<ae;){var pe=ae-1>>>1,Se=q[pe];if(0<l(Se,X))q[pe]=X,q[ae]=Se,ae=pe;else break e}}function a(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var X=q[0],ae=q.pop();if(ae!==X){q[0]=ae;e:for(var pe=0,Se=q.length,C=Se>>>1;pe<C;){var G=2*(pe+1)-1,Q=q[G],W=G+1,ce=q[W];if(0>l(Q,ae))W<Se&&0>l(ce,Q)?(q[pe]=ce,q[W]=ae,pe=W):(q[pe]=Q,q[G]=ae,pe=G);else if(W<Se&&0>l(ce,ae))q[pe]=ce,q[W]=ae,pe=W;else break e}}return X}function l(q,X){var ae=q.sortIndex-X.sortIndex;return ae!==0?ae:q.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var p=[],g=[],x=1,y=null,v=3,_=!1,j=!1,T=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var X=a(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=q)s(g),X.sortIndex=X.expirationTime,e(p,X);else break;X=a(g)}}function Y(q){if(T=!1,$(q),!j)if(a(p)!==null)j=!0,M||(M=!0,je());else{var X=a(g);X!==null&&$e(Y,X.startTime-q)}}var M=!1,R=-1,U=5,D=-1;function J(){return L?!0:!(r.unstable_now()-D<U)}function te(){if(L=!1,M){var q=r.unstable_now();D=q;var X=!0;try{e:{j=!1,T&&(T=!1,k(R),R=-1),_=!0;var ae=v;try{t:{for($(q),y=a(p);y!==null&&!(y.expirationTime>q&&J());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,v=y.priorityLevel;var Se=pe(y.expirationTime<=q);if(q=r.unstable_now(),typeof Se=="function"){y.callback=Se,$(q),X=!0;break t}y===a(p)&&s(p),$(q)}else s(p);y=a(p)}if(y!==null)X=!0;else{var C=a(g);C!==null&&$e(Y,C.startTime-q),X=!1}}break e}finally{y=null,v=ae,_=!1}X=void 0}}finally{X?je():M=!1}}}var je;if(typeof S=="function")je=function(){S(te)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,me=le.port2;le.port1.onmessage=te,je=function(){me.postMessage(null)}}else je=function(){I(te,0)};function $e(q,X){R=I(function(){q(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(q){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var ae=v;v=X;try{return q()}finally{v=ae}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=v;v=q;try{return X()}finally{v=ae}},r.unstable_scheduleCallback=function(q,X,ae){var pe=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ae+Se,q={id:x++,callback:X,priorityLevel:q,startTime:ae,expirationTime:Se,sortIndex:-1},ae>pe?(q.sortIndex=ae,e(g,q),a(p)===null&&q===a(g)&&(T?(k(R),R=-1):T=!0,$e(Y,ae-pe))):(q.sortIndex=Se,e(p,q),j||_||(j=!0,M||(M=!0,je()))),q},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(q){var X=v;return function(){var ae=v;v=X;try{return q.apply(this,arguments)}finally{v=ae}}}})(kd)),kd}var Dg;function s_(){return Dg||(Dg=1,Ad.exports=a_()),Ad.exports}var Rd={exports:{}},ut={};var Lg;function r_(){if(Lg)return ut;Lg=1;var r=Of();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:g,implementation:x}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ut.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,x)},ut.flushSync=function(p){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=x,s.d.f()}},ut.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ut.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ut.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,y=h(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):x==="script"&&s.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ut.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ut.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=h(x,g.crossOrigin);s.d.L(p,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ut.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=h(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ut.requestFormReset=function(p){s.d.r(p)},ut.unstable_batchedUpdates=function(p,g){return p(g)},ut.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},ut.useFormStatus=function(){return d.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var Ug;function i_(){if(Ug)return Rd.exports;Ug=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rd.exports=r_(),Rd.exports}var Mg;function l_(){if(Mg)return pi;Mg=1;var r=s_(),e=Of(),a=i_();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var i=t,o=n;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return p(f),t;if(m===o)return p(f),n;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=f,o=m;else{for(var b=!1,w=f.child;w;){if(w===i){b=!0,i=f,o=m;break}if(w===o){b=!0,o=f,i=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===i){b=!0,i=m,o=f;break}if(w===o){b=!0,o=m,i=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function je(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var le=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===le?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case I:return"Profiler";case L:return"StrictMode";case Y:return"Suspense";case M:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case S:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:me(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return me(t(n))}catch{}}return null}var $e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},pe=[],Se=-1;function C(t){return{current:t}}function G(t){0>Se||(t.current=pe[Se],pe[Se]=null,Se--)}function Q(t,n){Se++,pe[Se]=t.current,t.current=n}var W=C(null),ce=C(null),ge=C(null),Ce=C(null);function ft(t,n){switch(Q(ge,n),Q(ce,t),Q(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ip(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ip(n),t=Dp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(W),Q(W,t)}function Ve(){G(W),G(ce),G(ge)}function vr(t){t.memoizedState!==null&&Q(Ce,t);var n=W.current,i=Dp(n,t.type);n!==i&&(Q(ce,t),Q(W,i))}function Qi(t){ce.current===t&&(G(W),G(ce)),Ce.current===t&&(G(Ce),ci._currentValue=ae)}var ic,ch;function ka(t){if(ic===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ic=n&&n[1]||"",ch=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ic+t+ch}var lc=!1;function oc(t,n){if(!t||lc)return"";lc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(H){var B=H}Reflect.construct(t,[],F)}else{try{F.call()}catch(H){B=H}t.call(F.prototype)}}else{try{throw Error()}catch(H){B=H}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var E=b.split(`
`),z=w.split(`
`);for(f=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(o===E.length||f===z.length)for(o=E.length-1,f=z.length-1;1<=o&&0<=f&&E[o]!==z[f];)f--;for(;1<=o&&0<=f;o--,f--)if(E[o]!==z[f]){if(o!==1||f!==1)do if(o--,f--,0>f||E[o]!==z[f]){var V=`
`+E[o].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=o&&0<=f);break}}}finally{lc=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ka(i):""}function zv(t,n){switch(t.tag){case 26:case 27:case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return t.child!==n&&n!==null?ka("Suspense Fallback"):ka("Suspense");case 19:return ka("SuspenseList");case 0:case 15:return oc(t.type,!1);case 11:return oc(t.type.render,!1);case 1:return oc(t.type,!0);case 31:return ka("Activity");default:return""}}function uh(t){try{var n="",i=null;do n+=zv(t,i),i=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var cc=Object.prototype.hasOwnProperty,uc=r.unstable_scheduleCallback,dc=r.unstable_cancelCallback,$v=r.unstable_shouldYield,Bv=r.unstable_requestPaint,St=r.unstable_now,Hv=r.unstable_getCurrentPriorityLevel,dh=r.unstable_ImmediatePriority,fh=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,qv=r.unstable_LowPriority,hh=r.unstable_IdlePriority,Vv=r.log,Gv=r.unstable_setDisableYieldValue,wr=null,Nt=null;function Gn(t){if(typeof Vv=="function"&&Gv(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(wr,t)}catch{}}var Et=Math.clz32?Math.clz32:Yv,Kv=Math.log,Fv=Math.LN2;function Yv(t){return t>>>=0,t===0?32:31-(Kv(t)/Fv|0)|0}var Wi=256,el=262144,tl=4194304;function Ra(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nl(t,n,i){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?f=Ra(o):(b&=w,b!==0?f=Ra(b):i||(i=w&~t,i!==0&&(f=Ra(i))))):(w=o&~m,w!==0?f=Ra(w):b!==0?f=Ra(b):i||(i=o&~t,i!==0&&(f=Ra(i)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:f}function _r(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jv(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mh(){var t=tl;return tl<<=1,(tl&62914560)===0&&(tl=4194304),t}function fc(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function jr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xv(t,n,i,o,f,m){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var w=t.entanglements,E=t.expirationTimes,z=t.hiddenUpdates;for(i=b&~i;0<i;){var V=31-Et(i),F=1<<V;w[V]=0,E[V]=-1;var B=z[V];if(B!==null)for(z[V]=null,V=0;V<B.length;V++){var H=B[V];H!==null&&(H.lane&=-536870913)}i&=~F}o!==0&&ph(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function ph(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function gh(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var o=31-Et(i),f=1<<o;f&n|t[o]&n&&(t[o]|=n),i&=~f}}function xh(t,n){var i=n&-n;return i=(i&42)!==0?1:hc(i),(i&(t.suspendedLanes|n))!==0?0:i}function hc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yh(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:ag(t.type))}function bh(t,n){var i=X.p;try{return X.p=t,n()}finally{X.p=i}}var Kn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Kn,gt="__reactProps$"+Kn,os="__reactContainer$"+Kn,pc="__reactEvents$"+Kn,Qv="__reactListeners$"+Kn,Zv="__reactHandles$"+Kn,vh="__reactResources$"+Kn,Sr="__reactMarker$"+Kn;function gc(t){delete t[rt],delete t[gt],delete t[pc],delete t[Qv],delete t[Zv]}function cs(t){var n=t[rt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[os]||i[rt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Bp(t);t!==null;){if(i=t[rt])return i;t=Bp(t)}return n}t=i,i=t.parentNode}return null}function us(t){if(t=t[rt]||t[os]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ds(t){var n=t[vh];return n||(n=t[vh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(t){t[Sr]=!0}var wh=new Set,_h={};function Oa(t,n){fs(t,n),fs(t+"Capture",n)}function fs(t,n){for(_h[t]=n,t=0;t<n.length;t++)wh.add(n[t])}var Wv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jh={},Sh={};function ew(t){return cc.call(Sh,t)?!0:cc.call(jh,t)?!1:Wv.test(t)?Sh[t]=!0:(jh[t]=!0,!1)}function al(t,n,i){if(ew(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function sl(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function pn(t,n,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tw(t,n,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xc(t){if(!t._valueTracker){var n=Nh(t)?"checked":"value";t._valueTracker=tw(t,n,""+t[n])}}function Eh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return t&&(o=Nh(t)?t.checked?"true":"false":t.value),t=o,t!==i?(n.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nw=/[\n"\\]/g;function Mt(t){return t.replace(nw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yc(t,n,i,o,f,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?bc(t,b,Ut(n)):i!=null?bc(t,b,Ut(i)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Ut(w):t.removeAttribute("name")}function Th(t,n,i,o,f,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){xc(t);return}i=i!=null?""+Ut(i):"",n=n!=null?""+Ut(n):i,w||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),xc(t)}function bc(t,n,i){n==="number"&&rl(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function hs(t,n,i,o){if(t=t.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=n.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Ut(i),n=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Ch(t,n,i){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+Ut(i):""}function Ah(t,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if($e(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Ut(n),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),xc(t)}function ms(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var aw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kh(t,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,i):typeof i!="number"||i===0||aw.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function Rh(t,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&i[f]!==o&&kh(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&kh(t,m,n[m])}function vc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(t){return rw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gn(){}var wc=null;function _c(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,gs=null;function Oh(t){var n=us(t);if(n&&(t=n.stateNode)){var i=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(yc(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==t&&o.form===t.form){var f=o[gt]||null;if(!f)throw Error(s(90));yc(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===t.form&&Eh(o)}break e;case"textarea":Ch(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&hs(t,!!i.multiple,n,!1)}}}var jc=!1;function Ih(t,n,i){if(jc)return t(n,i);jc=!0;try{var o=t(n);return o}finally{if(jc=!1,(ps!==null||gs!==null)&&(Fl(),ps&&(n=ps,t=gs,gs=ps=null,Oh(n),t)))for(n=0;n<t.length;n++)Oh(t[n])}}function Er(t,n){var i=t.stateNode;if(i===null)return null;var o=i[gt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(xn)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Sc=!1}var Fn=null,Nc=null,ll=null;function Dh(){if(ll)return ll;var t,n=Nc,i=n.length,o,f="value"in Fn?Fn.value:Fn.textContent,m=f.length;for(t=0;t<i&&n[t]===f[t];t++);var b=i-t;for(o=1;o<=b&&n[i-o]===f[m-o];o++);return ll=f.slice(t,1<o?1-o:void 0)}function ol(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function Lh(){return!1}function xt(t){function n(i,o,f,m,b){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?cl:Lh,this.isPropagationStopped=Lh,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),n}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=xt(Ia),Cr=y({},Ia,{view:0,detail:0}),iw=xt(Cr),Ec,Tc,Ar,dl=y({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Ec=t.screenX-Ar.screenX,Tc=t.screenY-Ar.screenY):Tc=Ec=0,Ar=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Tc}}),Uh=xt(dl),lw=y({},dl,{dataTransfer:0}),ow=xt(lw),cw=y({},Cr,{relatedTarget:0}),Cc=xt(cw),uw=y({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),dw=xt(uw),fw=y({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hw=xt(fw),mw=y({},Ia,{data:0}),Mh=xt(mw),pw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yw(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xw[t])?!!n[t]:!1}function Ac(){return yw}var bw=y({},Cr,{key:function(t){if(t.key){var n=pw[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ol(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(t){return t.type==="keypress"?ol(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ol(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vw=xt(bw),ww=y({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=xt(ww),_w=y({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),jw=xt(_w),Sw=y({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nw=xt(Sw),Ew=y({},dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tw=xt(Ew),Cw=y({},Ia,{newState:0,oldState:0}),Aw=xt(Cw),kw=[9,13,27,32],kc=xn&&"CompositionEvent"in window,kr=null;xn&&"documentMode"in document&&(kr=document.documentMode);var Rw=xn&&"TextEvent"in window&&!kr,zh=xn&&(!kc||kr&&8<kr&&11>=kr),$h=" ",Bh=!1;function Hh(t,n){switch(t){case"keyup":return kw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function Ow(t,n){switch(t){case"compositionend":return qh(n);case"keypress":return n.which!==32?null:(Bh=!0,$h);case"textInput":return t=n.data,t===$h&&Bh?null:t;default:return null}}function Iw(t,n){if(xs)return t==="compositionend"||!kc&&Hh(t,n)?(t=Dh(),ll=Nc=Fn=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zh&&n.locale!=="ko"?null:n.data;default:return null}}var Dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Dw[t.type]:n==="textarea"}function Gh(t,n,i,o){ps?gs?gs.push(o):gs=[o]:ps=o,n=eo(n,"onChange"),0<n.length&&(i=new ul("onChange","change",null,i,o),t.push({event:i,listeners:n}))}var Rr=null,Or=null;function Lw(t){Tp(t,0)}function fl(t){var n=Nr(t);if(Eh(n))return t}function Kh(t,n){if(t==="change")return n}var Fh=!1;if(xn){var Rc;if(xn){var Oc="oninput"in document;if(!Oc){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),Oc=typeof Yh.oninput=="function"}Rc=Oc}else Rc=!1;Fh=Rc&&(!document.documentMode||9<document.documentMode)}function Jh(){Rr&&(Rr.detachEvent("onpropertychange",Xh),Or=Rr=null)}function Xh(t){if(t.propertyName==="value"&&fl(Or)){var n=[];Gh(n,Or,t,_c(t)),Ih(Lw,n)}}function Uw(t,n,i){t==="focusin"?(Jh(),Rr=n,Or=i,Rr.attachEvent("onpropertychange",Xh)):t==="focusout"&&Jh()}function Mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(Or)}function Pw(t,n){if(t==="click")return fl(n)}function zw(t,n){if(t==="input"||t==="change")return fl(n)}function $w(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tt=typeof Object.is=="function"?Object.is:$w;function Ir(t,n){if(Tt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!cc.call(n,f)||!Tt(t[f],n[f]))return!1}return!0}function Qh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zh(t,n){var i=Qh(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=n&&o>=n)return{node:i,offset:n-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qh(i)}}function Wh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Wh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=rl(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=rl(t.document)}return n}function Ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Bw=xn&&"documentMode"in document&&11>=document.documentMode,ys=null,Dc=null,Dr=null,Lc=!1;function tm(t,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lc||ys==null||ys!==rl(o)||(o=ys,"selectionStart"in o&&Ic(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Dr&&Ir(Dr,o)||(Dr=o,o=eo(Dc,"onSelect"),0<o.length&&(n=new ul("onSelect","select",null,n,i),t.push({event:n,listeners:o}),n.target=ys)))}function Da(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var bs={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Uc={},nm={};xn&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function La(t){if(Uc[t])return Uc[t];if(!bs[t])return t;var n=bs[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in nm)return Uc[t]=n[i];return t}var am=La("animationend"),sm=La("animationiteration"),rm=La("animationstart"),Hw=La("transitionrun"),qw=La("transitionstart"),Vw=La("transitioncancel"),im=La("transitionend"),lm=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Ft(t,n){lm.set(t,n),Oa(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pt=[],vs=0,Pc=0;function ml(){for(var t=vs,n=Pc=vs=0;n<t;){var i=Pt[n];Pt[n++]=null;var o=Pt[n];Pt[n++]=null;var f=Pt[n];Pt[n++]=null;var m=Pt[n];if(Pt[n++]=null,o!==null&&f!==null){var b=o.pending;b===null?f.next=f:(f.next=b.next,b.next=f),o.pending=f}m!==0&&om(i,f,m)}}function pl(t,n,i,o){Pt[vs++]=t,Pt[vs++]=n,Pt[vs++]=i,Pt[vs++]=o,Pc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function zc(t,n,i,o){return pl(t,n,i,o),gl(t)}function Ua(t,n){return pl(t,null,null,n),gl(t)}function om(t,n,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var f=!1,m=t.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Et(i),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=i|536870912),m):null}function gl(t){if(50<ni)throw ni=0,Yu=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ws={};function Gw(t,n,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,n,i,o){return new Gw(t,n,i,o)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,n){var i=t.alternate;return i===null?(i=Ct(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function cm(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xl(t,n,i,o,f,m){var b=0;if(o=t,typeof t=="function")$c(t)&&(b=1);else if(typeof t=="string")b=X1(t,i,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Ct(31,i,n,f),t.elementType=D,t.lanes=m,t;case T:return Ma(i.children,f,m,n);case L:b=8,f|=24;break;case I:return t=Ct(12,i,n,f|2),t.elementType=I,t.lanes=m,t;case Y:return t=Ct(13,i,n,f),t.elementType=Y,t.lanes=m,t;case M:return t=Ct(19,i,n,f),t.elementType=M,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:b=10;break e;case k:b=9;break e;case $:b=11;break e;case R:b=14;break e;case U:b=16,o=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Ct(b,i,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Ma(t,n,i,o){return t=Ct(7,t,o,n),t.lanes=i,t}function Bc(t,n,i){return t=Ct(6,t,null,n),t.lanes=i,t}function um(t){var n=Ct(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,i){return n=Ct(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var dm=new WeakMap;function zt(t,n){if(typeof t=="object"&&t!==null){var i=dm.get(t);return i!==void 0?i:(n={value:t,source:n,stack:uh(n)},dm.set(t,n),n)}return{value:t,source:n,stack:uh(n)}}var _s=[],js=0,yl=null,Lr=0,$t=[],Bt=0,Yn=null,tn=1,nn="";function bn(t,n){_s[js++]=Lr,_s[js++]=yl,yl=t,Lr=n}function fm(t,n,i){$t[Bt++]=tn,$t[Bt++]=nn,$t[Bt++]=Yn,Yn=t;var o=tn;t=nn;var f=32-Et(o)-1;o&=~(1<<f),i+=1;var m=32-Et(n)+f;if(30<m){var b=f-f%5;m=(o&(1<<b)-1).toString(32),o>>=b,f-=b,tn=1<<32-Et(n)+f|i<<f|o,nn=m+t}else tn=1<<m|i<<f|o,nn=t}function qc(t){t.return!==null&&(bn(t,1),fm(t,1,0))}function Vc(t){for(;t===yl;)yl=_s[--js],_s[js]=null,Lr=_s[--js],_s[js]=null;for(;t===Yn;)Yn=$t[--Bt],$t[Bt]=null,nn=$t[--Bt],$t[Bt]=null,tn=$t[--Bt],$t[Bt]=null}function hm(t,n){$t[Bt++]=tn,$t[Bt++]=nn,$t[Bt++]=Yn,tn=n.id,nn=n.overflow,Yn=t}var it=null,Me=null,_e=!1,Jn=null,Ht=!1,Gc=Error(s(519));function Xn(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ur(zt(n,t)),Gc}function mm(t){var n=t.stateNode,i=t.type,o=t.memoizedProps;switch(n[rt]=t,n[gt]=o,i){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(i=0;i<si.length;i++)ye(si[i],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),Th(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),Ah(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||Rp(n.textContent,i)?(o.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),o.onScroll!=null&&ye("scroll",n),o.onScrollEnd!=null&&ye("scrollend",n),o.onClick!=null&&(n.onclick=gn),n=!0):n=!1,n||Xn(t,!0)}function pm(t){for(it=t.return;it;)switch(it.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:it=it.return}}function Ss(t){if(t!==it)return!1;if(!_e)return pm(t),_e=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||cd(t.type,t.memoizedProps)),i=!i),i&&Me&&Xn(t),pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Me=$p(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Me=$p(t)}else n===27?(n=Me,ua(t.type)?(t=md,md=null,Me=t):Me=n):Me=it?Vt(t.stateNode.nextSibling):null;return!0}function Pa(){Me=it=null,_e=!1}function Kc(){var t=Jn;return t!==null&&(wt===null?wt=t:wt.push.apply(wt,t),Jn=null),t}function Ur(t){Jn===null?Jn=[t]:Jn.push(t)}var Fc=C(null),za=null,vn=null;function Qn(t,n,i){Q(Fc,n._currentValue),n._currentValue=i}function wn(t){t._currentValue=Fc.current,G(Fc)}function Yc(t,n,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===i)break;t=t.return}}function Jc(t,n,i,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var E=0;E<n.length;E++)if(w.context===n[E]){m.lanes|=i,w=m.alternate,w!==null&&(w.lanes|=i),Yc(m.return,i,t),o||(b=null);break e}m=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),Yc(b,i,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ns(t,n,i,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;Tt(f.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(f===Ce.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ci):t=[ci])}f=f.return}t!==null&&Jc(n,t,i,o),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Tt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){za=t,vn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lt(t){return gm(za,t)}function vl(t,n){return za===null&&$a(t),gm(t,n)}function gm(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},vn===null){if(t===null)throw Error(s(308));vn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vn=vn.next=n;return i}var Kw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},Fw=r.unstable_scheduleCallback,Yw=r.unstable_NormalPriority,Fe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new Kw,data:new Map,refCount:0}}function Mr(t){t.refCount--,t.refCount===0&&Fw(Yw,function(){t.controller.abort()})}var Pr=null,Qc=0,Es=0,Ts=null;function Jw(t,n){if(Pr===null){var i=Pr=[];Qc=0,Es=ed(),Ts={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Qc++,n.then(xm,xm),n}function xm(){if(--Qc===0&&Pr!==null){Ts!==null&&(Ts.status="fulfilled");var t=Pr;Pr=null,Es=0,Ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Xw(t,n){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var ym=q.S;q.S=function(t,n){tp=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jw(t,n),ym!==null&&ym(t,n)};var Ba=C(null);function Zc(){var t=Ba.current;return t!==null?t:De.pooledCache}function wl(t,n){n===null?Q(Ba,Ba.current):Q(Ba,n.pool)}function bm(){var t=Zc();return t===null?null:{parent:Fe._currentValue,pool:t}}var Cs=Error(s(460)),Wc=Error(s(474)),_l=Error(s(542)),jl={then:function(){}};function vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wm(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(gn,gn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(gn,gn);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw qa=n,Cs}}function Ha(t){try{var n=t._init;return n(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(qa=i,Cs):i}}var qa=null;function _m(){if(qa===null)throw Error(s(459));var t=qa;return qa=null,t}function jm(t){if(t===Cs||t===_l)throw Error(s(483))}var As=null,zr=0;function Sl(t){var n=zr;return zr+=1,As===null&&(As=[]),wm(As,t,n)}function $r(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nl(t,n){throw n.$$typeof===v?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Sm(t){function n(O,A){if(t){var P=O.deletions;P===null?(O.deletions=[A],O.flags|=16):P.push(A)}}function i(O,A){if(!t)return null;for(;A!==null;)n(O,A),A=A.sibling;return null}function o(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function f(O,A){return O=yn(O,A),O.index=0,O.sibling=null,O}function m(O,A,P){return O.index=P,t?(P=O.alternate,P!==null?(P=P.index,P<A?(O.flags|=67108866,A):P):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function b(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function w(O,A,P,K){return A===null||A.tag!==6?(A=Bc(P,O.mode,K),A.return=O,A):(A=f(A,P),A.return=O,A)}function E(O,A,P,K){var se=P.type;return se===T?V(O,A,P.props.children,K,P.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===U&&Ha(se)===A.type)?(A=f(A,P.props),$r(A,P),A.return=O,A):(A=xl(P.type,P.key,P.props,null,O.mode,K),$r(A,P),A.return=O,A)}function z(O,A,P,K){return A===null||A.tag!==4||A.stateNode.containerInfo!==P.containerInfo||A.stateNode.implementation!==P.implementation?(A=Hc(P,O.mode,K),A.return=O,A):(A=f(A,P.children||[]),A.return=O,A)}function V(O,A,P,K,se){return A===null||A.tag!==7?(A=Ma(P,O.mode,K,se),A.return=O,A):(A=f(A,P),A.return=O,A)}function F(O,A,P){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Bc(""+A,O.mode,P),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return P=xl(A.type,A.key,A.props,null,O.mode,P),$r(P,A),P.return=O,P;case j:return A=Hc(A,O.mode,P),A.return=O,A;case U:return A=Ha(A),F(O,A,P)}if($e(A)||je(A))return A=Ma(A,O.mode,P,null),A.return=O,A;if(typeof A.then=="function")return F(O,Sl(A),P);if(A.$$typeof===S)return F(O,vl(O,A),P);Nl(O,A)}return null}function B(O,A,P,K){var se=A!==null?A.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return se!==null?null:w(O,A,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return P.key===se?E(O,A,P,K):null;case j:return P.key===se?z(O,A,P,K):null;case U:return P=Ha(P),B(O,A,P,K)}if($e(P)||je(P))return se!==null?null:V(O,A,P,K,null);if(typeof P.then=="function")return B(O,A,Sl(P),K);if(P.$$typeof===S)return B(O,A,vl(O,P),K);Nl(O,P)}return null}function H(O,A,P,K,se){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return O=O.get(P)||null,w(A,O,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return O=O.get(K.key===null?P:K.key)||null,E(A,O,K,se);case j:return O=O.get(K.key===null?P:K.key)||null,z(A,O,K,se);case U:return K=Ha(K),H(O,A,P,K,se)}if($e(K)||je(K))return O=O.get(P)||null,V(A,O,K,se,null);if(typeof K.then=="function")return H(O,A,P,Sl(K),se);if(K.$$typeof===S)return H(O,A,P,vl(A,K),se);Nl(A,K)}return null}function ee(O,A,P,K){for(var se=null,Ne=null,ne=A,he=A=0,we=null;ne!==null&&he<P.length;he++){ne.index>he?(we=ne,ne=null):we=ne.sibling;var Ee=B(O,ne,P[he],K);if(Ee===null){ne===null&&(ne=we);break}t&&ne&&Ee.alternate===null&&n(O,ne),A=m(Ee,A,he),Ne===null?se=Ee:Ne.sibling=Ee,Ne=Ee,ne=we}if(he===P.length)return i(O,ne),_e&&bn(O,he),se;if(ne===null){for(;he<P.length;he++)ne=F(O,P[he],K),ne!==null&&(A=m(ne,A,he),Ne===null?se=ne:Ne.sibling=ne,Ne=ne);return _e&&bn(O,he),se}for(ne=o(ne);he<P.length;he++)we=H(ne,O,he,P[he],K),we!==null&&(t&&we.alternate!==null&&ne.delete(we.key===null?he:we.key),A=m(we,A,he),Ne===null?se=we:Ne.sibling=we,Ne=we);return t&&ne.forEach(function(pa){return n(O,pa)}),_e&&bn(O,he),se}function re(O,A,P,K){if(P==null)throw Error(s(151));for(var se=null,Ne=null,ne=A,he=A=0,we=null,Ee=P.next();ne!==null&&!Ee.done;he++,Ee=P.next()){ne.index>he?(we=ne,ne=null):we=ne.sibling;var pa=B(O,ne,Ee.value,K);if(pa===null){ne===null&&(ne=we);break}t&&ne&&pa.alternate===null&&n(O,ne),A=m(pa,A,he),Ne===null?se=pa:Ne.sibling=pa,Ne=pa,ne=we}if(Ee.done)return i(O,ne),_e&&bn(O,he),se;if(ne===null){for(;!Ee.done;he++,Ee=P.next())Ee=F(O,Ee.value,K),Ee!==null&&(A=m(Ee,A,he),Ne===null?se=Ee:Ne.sibling=Ee,Ne=Ee);return _e&&bn(O,he),se}for(ne=o(ne);!Ee.done;he++,Ee=P.next())Ee=H(ne,O,he,Ee.value,K),Ee!==null&&(t&&Ee.alternate!==null&&ne.delete(Ee.key===null?he:Ee.key),A=m(Ee,A,he),Ne===null?se=Ee:Ne.sibling=Ee,Ne=Ee);return t&&ne.forEach(function(l2){return n(O,l2)}),_e&&bn(O,he),se}function Ie(O,A,P,K){if(typeof P=="object"&&P!==null&&P.type===T&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case _:e:{for(var se=P.key;A!==null;){if(A.key===se){if(se=P.type,se===T){if(A.tag===7){i(O,A.sibling),K=f(A,P.props.children),K.return=O,O=K;break e}}else if(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===U&&Ha(se)===A.type){i(O,A.sibling),K=f(A,P.props),$r(K,P),K.return=O,O=K;break e}i(O,A);break}else n(O,A);A=A.sibling}P.type===T?(K=Ma(P.props.children,O.mode,K,P.key),K.return=O,O=K):(K=xl(P.type,P.key,P.props,null,O.mode,K),$r(K,P),K.return=O,O=K)}return b(O);case j:e:{for(se=P.key;A!==null;){if(A.key===se)if(A.tag===4&&A.stateNode.containerInfo===P.containerInfo&&A.stateNode.implementation===P.implementation){i(O,A.sibling),K=f(A,P.children||[]),K.return=O,O=K;break e}else{i(O,A);break}else n(O,A);A=A.sibling}K=Hc(P,O.mode,K),K.return=O,O=K}return b(O);case U:return P=Ha(P),Ie(O,A,P,K)}if($e(P))return ee(O,A,P,K);if(je(P)){if(se=je(P),typeof se!="function")throw Error(s(150));return P=se.call(P),re(O,A,P,K)}if(typeof P.then=="function")return Ie(O,A,Sl(P),K);if(P.$$typeof===S)return Ie(O,A,vl(O,P),K);Nl(O,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,A!==null&&A.tag===6?(i(O,A.sibling),K=f(A,P),K.return=O,O=K):(i(O,A),K=Bc(P,O.mode,K),K.return=O,O=K),b(O)):i(O,A)}return function(O,A,P,K){try{zr=0;var se=Ie(O,A,P,K);return As=null,se}catch(ne){if(ne===Cs||ne===_l)throw ne;var Ne=Ct(29,ne,null,O.mode);return Ne.lanes=K,Ne.return=O,Ne}finally{}}}var Va=Sm(!0),Nm=Sm(!1),Zn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ea(t,n,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Te&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=gl(t),om(t,null,i),n}return pl(t,o,n,i),gl(t)}function Br(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,i|=o,n.lanes=i,gh(t,i)}}function nu(t,n){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?f=m=n:m=m.next=n}else f=m=n;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var au=!1;function Hr(){if(au){var t=Ts;if(t!==null)throw t}}function qr(t,n,i,o){au=!1;var f=t.updateQueue;Zn=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var E=w,z=E.next;E.next=null,b===null?m=z:b.next=z,b=E;var V=t.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==b&&(w===null?V.firstBaseUpdate=z:w.next=z,V.lastBaseUpdate=E))}if(m!==null){var F=f.baseState;b=0,V=z=E=null,w=m;do{var B=w.lane&-536870913,H=B!==w.lane;if(H?(ve&B)===B:(o&B)===B){B!==0&&B===Es&&(au=!0),V!==null&&(V=V.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ee=t,re=w;B=n;var Ie=i;switch(re.tag){case 1:if(ee=re.payload,typeof ee=="function"){F=ee.call(Ie,F,B);break e}F=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,B=typeof ee=="function"?ee.call(Ie,F,B):ee,B==null)break e;F=y({},F,B);break e;case 2:Zn=!0}}B=w.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[B]:H.push(B))}else H={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(z=V=H,E=F):V=V.next=H,b|=B;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;H=w,w=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);V===null&&(E=F),f.baseState=E,f.firstBaseUpdate=z,f.lastBaseUpdate=V,m===null&&(f.shared.lanes=0),ra|=b,t.lanes=b,t.memoizedState=F}}function Em(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Tm(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Em(i[t],n)}var ks=C(null),El=C(0);function Cm(t,n){t=kn,Q(El,t),Q(ks,n),kn=t|n.baseLanes}function su(){Q(El,kn),Q(ks,ks.current)}function ru(){kn=El.current,G(ks),G(El)}var At=C(null),qt=null;function ta(t){var n=t.alternate;Q(Ge,Ge.current&1),Q(At,t),qt===null&&(n===null||ks.current!==null||n.memoizedState!==null)&&(qt=t)}function iu(t){Q(Ge,Ge.current),Q(At,t),qt===null&&(qt=t)}function Am(t){t.tag===22?(Q(Ge,Ge.current),Q(At,t),qt===null&&(qt=t)):na()}function na(){Q(Ge,Ge.current),Q(At,At.current)}function kt(t){G(At),qt===t&&(qt=null),G(Ge)}var Ge=C(0);function Tl(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||fd(i)||hd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _n=0,ue=null,Re=null,Ye=null,Cl=!1,Rs=!1,Ga=!1,Al=0,Vr=0,Os=null,Qw=0;function He(){throw Error(s(321))}function lu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Tt(t[i],n[i]))return!1;return!0}function ou(t,n,i,o,f,m){return _n=m,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?f0:ju,Ga=!1,m=i(o,f),Ga=!1,Rs&&(m=Rm(n,i,o,f)),km(t),m}function km(t){q.H=Fr;var n=Re!==null&&Re.next!==null;if(_n=0,Ye=Re=ue=null,Cl=!1,Vr=0,Os=null,n)throw Error(s(300));t===null||Je||(t=t.dependencies,t!==null&&bl(t)&&(Je=!0))}function Rm(t,n,i,o){ue=t;var f=0;do{if(Rs&&(Os=null),Vr=0,Rs=!1,25<=f)throw Error(s(301));if(f+=1,Ye=Re=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=h0,m=n(i,o)}while(Rs);return m}function Zw(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Gr(n):n,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ue.flags|=1024),n}function cu(){var t=Al!==0;return Al=0,t}function uu(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function du(t){if(Cl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cl=!1}_n=0,Ye=Re=ue=null,Rs=!1,Vr=Al=0,Os=null}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ue.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ke(){if(Re===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var n=Ye===null?ue.memoizedState:Ye.next;if(n!==null)Ye=n,Re=t;else{if(t===null)throw ue.alternate===null?Error(s(467)):Error(s(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ye===null?ue.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gr(t){var n=Vr;return Vr+=1,Os===null&&(Os=[]),t=wm(Os,t,n),n=ue,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?f0:ju),t}function Rl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gr(t);if(t.$$typeof===S)return lt(t)}throw Error(s(438,String(t)))}function fu(t){var n=null,i=ue.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=ue.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=kl(),ue.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),o=0;o<t;o++)i[o]=J;return n.index++,i}function jn(t,n){return typeof n=="function"?n(t):n}function Ol(t){var n=Ke();return hu(n,Re,t)}function hu(t,n,i){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var w=b=null,E=null,z=n,V=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(ve&F)===F:(_n&F)===F){var B=z.revertLane;if(B===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===Es&&(V=!0);else if((_n&B)===B){z=z.next,B===Es&&(V=!0);continue}else F={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},E===null?(w=E=F,b=m):E=E.next=F,ue.lanes|=B,ra|=B;F=z.action,Ga&&i(m,F),m=z.hasEagerState?z.eagerState:i(m,F)}else B={lane:F,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},E===null?(w=E=B,b=m):E=E.next=B,ue.lanes|=F,ra|=F;z=z.next}while(z!==null&&z!==n);if(E===null?b=m:E.next=w,!Tt(m,t.memoizedState)&&(Je=!0,V&&(i=Ts,i!==null)))throw i;t.memoizedState=m,t.baseState=b,t.baseQueue=E,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function mu(t){var n=Ke(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var o=i.dispatch,f=i.pending,m=n.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);Tt(m,n.memoizedState)||(Je=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function Om(t,n,i){var o=ue,f=Ke(),m=_e;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=n();var b=!Tt((Re||f).memoizedState,i);if(b&&(f.memoizedState=i,Je=!0),f=f.queue,xu(Lm.bind(null,o,f,t),[t]),f.getSnapshot!==n||b||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Is(9,{destroy:void 0},Dm.bind(null,o,f,i,n),null),De===null)throw Error(s(349));m||(_n&127)!==0||Im(o,n,i)}return i}function Im(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=ue.updateQueue,n===null?(n=kl(),ue.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Dm(t,n,i,o){n.value=i,n.getSnapshot=o,Um(n)&&Mm(t)}function Lm(t,n,i){return i(function(){Um(n)&&Mm(t)})}function Um(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Tt(t,i)}catch{return!0}}function Mm(t){var n=Ua(t,2);n!==null&&_t(n,t,2)}function pu(t){var n=ht();if(typeof t=="function"){var i=t;if(t=i(),Ga){Gn(!0);try{i()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:t},n}function Pm(t,n,i,o){return t.baseState=i,hu(t,Re,typeof o=="function"?o:jn)}function Ww(t,n,i,o,f){if(Ll(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};q.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,zm(n,m)):(m.next=i.next,n.pending=i.next=m)}}function zm(t,n){var i=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=q.T,b={};q.T=b;try{var w=i(f,o),E=q.S;E!==null&&E(b,w),$m(t,n,w)}catch(z){gu(t,n,z)}finally{m!==null&&b.types!==null&&(m.types=b.types),q.T=m}}else try{m=i(f,o),$m(t,n,m)}catch(z){gu(t,n,z)}}function $m(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Bm(t,n,o)},function(o){return gu(t,n,o)}):Bm(t,n,i)}function Bm(t,n,i){n.status="fulfilled",n.value=i,Hm(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,zm(t,i)))}function gu(t,n,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Hm(n),n=n.next;while(n!==o)}t.action=null}function Hm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function Vm(t,n){if(_e){var i=De.formState;if(i!==null){e:{var o=ue;if(_e){if(Me){t:{for(var f=Me,m=Ht;f.nodeType!==8;){if(!m){f=null;break t}if(f=Vt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Me=Vt(f.nextSibling),o=f.data==="F!";break e}}Xn(o)}o=!1}o&&(n=i[0])}}return i=ht(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},i.queue=o,i=c0.bind(null,ue,o),o.dispatch=i,o=pu(!1),m=_u.bind(null,ue,!1,o.queue),o=ht(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,i=Ww.bind(null,ue,f,m,i),f.dispatch=i,o.memoizedState=t,[n,i,!1]}function Gm(t){var n=Ke();return Km(n,Re,t)}function Km(t,n,i){if(n=hu(t,n,qm)[0],t=Ol(jn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Gr(n)}catch(b){throw b===Cs?_l:b}else o=n;n=Ke();var f=n.queue,m=f.dispatch;return i!==n.memoizedState&&(ue.flags|=2048,Is(9,{destroy:void 0},e1.bind(null,f,i),null)),[o,m,t]}function e1(t,n){t.action=n}function Fm(t){var n=Ke(),i=Re;if(i!==null)return Km(n,i,t);Ke(),n=n.memoizedState,i=Ke();var o=i.queue.dispatch;return i.memoizedState=t,[n,o,!1]}function Is(t,n,i,o){return t={tag:t,create:i,deps:o,inst:n,next:null},n=ue.updateQueue,n===null&&(n=kl(),ue.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,n.lastEffect=t),t}function Ym(){return Ke().memoizedState}function Il(t,n,i,o){var f=ht();ue.flags|=t,f.memoizedState=Is(1|n,{destroy:void 0},i,o===void 0?null:o)}function Dl(t,n,i,o){var f=Ke();o=o===void 0?null:o;var m=f.memoizedState.inst;Re!==null&&o!==null&&lu(o,Re.memoizedState.deps)?f.memoizedState=Is(n,m,i,o):(ue.flags|=t,f.memoizedState=Is(1|n,m,i,o))}function Jm(t,n){Il(8390656,8,t,n)}function xu(t,n){Dl(2048,8,t,n)}function t1(t){ue.flags|=4;var n=ue.updateQueue;if(n===null)n=kl(),ue.updateQueue=n,n.events=[t];else{var i=n.events;i===null?n.events=[t]:i.push(t)}}function Xm(t){var n=Ke().memoizedState;return t1({ref:n,nextImpl:t}),function(){if((Te&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Qm(t,n){return Dl(4,2,t,n)}function Zm(t,n){return Dl(4,4,t,n)}function Wm(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function e0(t,n,i){i=i!=null?i.concat([t]):null,Dl(4,4,Wm.bind(null,n,t),i)}function yu(){}function t0(t,n){var i=Ke();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&lu(n,o[1])?o[0]:(i.memoizedState=[t,n],t)}function n0(t,n){var i=Ke();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&lu(n,o[1]))return o[0];if(o=t(),Ga){Gn(!0);try{t()}finally{Gn(!1)}}return i.memoizedState=[o,n],o}function bu(t,n,i){return i===void 0||(_n&1073741824)!==0&&(ve&261930)===0?t.memoizedState=n:(t.memoizedState=i,t=ap(),ue.lanes|=t,ra|=t,i)}function a0(t,n,i,o){return Tt(i,n)?i:ks.current!==null?(t=bu(t,i,o),Tt(t,n)||(Je=!0),t):(_n&42)===0||(_n&1073741824)!==0&&(ve&261930)===0?(Je=!0,t.memoizedState=i):(t=ap(),ue.lanes|=t,ra|=t,n)}function s0(t,n,i,o,f){var m=X.p;X.p=m!==0&&8>m?m:8;var b=q.T,w={};q.T=w,_u(t,!1,n,i);try{var E=f(),z=q.S;if(z!==null&&z(w,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=Xw(E,o);Kr(t,n,V,It(t))}else Kr(t,n,o,It(t))}catch(F){Kr(t,n,{then:function(){},status:"rejected",reason:F},It())}finally{X.p=m,b!==null&&w.types!==null&&(b.types=w.types),q.T=b}}function n1(){}function vu(t,n,i,o){if(t.tag!==5)throw Error(s(476));var f=r0(t).queue;s0(t,f,n,ae,i===null?n1:function(){return i0(t),i(o)})}function r0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:ae},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function i0(t){var n=r0(t);n.next===null&&(n=t.alternate.memoizedState),Kr(t,n.next.queue,{},It())}function wu(){return lt(ci)}function l0(){return Ke().memoizedState}function o0(){return Ke().memoizedState}function a1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=It();t=Wn(i);var o=ea(n,t,i);o!==null&&(_t(o,n,i),Br(o,n,i)),n={cache:Xc()},t.payload=n;return}n=n.return}}function s1(t,n,i){var o=It();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ll(t)?u0(n,i):(i=zc(t,n,i,o),i!==null&&(_t(i,t,o),d0(i,n,o)))}function c0(t,n,i){var o=It();Kr(t,n,i,o)}function Kr(t,n,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ll(t))u0(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,w=m(b,i);if(f.hasEagerState=!0,f.eagerState=w,Tt(w,b))return pl(t,n,f,0),De===null&&ml(),!1}catch{}finally{}if(i=zc(t,n,f,o),i!==null)return _t(i,t,o),d0(i,n,o),!0}return!1}function _u(t,n,i,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ll(t)){if(n)throw Error(s(479))}else n=zc(t,i,o,2),n!==null&&_t(n,t,2)}function Ll(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function u0(t,n){Rs=Cl=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function d0(t,n,i){if((i&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,i|=o,n.lanes=i,gh(t,i)}}var Fr={readContext:lt,use:Rl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Fr.useEffectEvent=He;var f0={readContext:lt,use:Rl,useCallback:function(t,n){return ht().memoizedState=[t,n===void 0?null:n],t},useContext:lt,useEffect:Jm,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,Il(4194308,4,Wm.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Il(4194308,4,t,n)},useInsertionEffect:function(t,n){Il(4,2,t,n)},useMemo:function(t,n){var i=ht();n=n===void 0?null:n;var o=t();if(Ga){Gn(!0);try{t()}finally{Gn(!1)}}return i.memoizedState=[o,n],o},useReducer:function(t,n,i){var o=ht();if(i!==void 0){var f=i(n);if(Ga){Gn(!0);try{i(n)}finally{Gn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=s1.bind(null,ue,t),[o.memoizedState,t]},useRef:function(t){var n=ht();return t={current:t},n.memoizedState=t},useState:function(t){t=pu(t);var n=t.queue,i=c0.bind(null,ue,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:yu,useDeferredValue:function(t,n){var i=ht();return bu(i,t,n)},useTransition:function(){var t=pu(!1);return t=s0.bind(null,ue,t.queue,!0,!1),ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var o=ue,f=ht();if(_e){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),De===null)throw Error(s(349));(ve&127)!==0||Im(o,n,i)}f.memoizedState=i;var m={value:i,getSnapshot:n};return f.queue=m,Jm(Lm.bind(null,o,m,t),[t]),o.flags|=2048,Is(9,{destroy:void 0},Dm.bind(null,o,m,i,n),null),i},useId:function(){var t=ht(),n=De.identifierPrefix;if(_e){var i=nn,o=tn;i=(o&~(1<<32-Et(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Al++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Qw++,n="_"+n+"r_"+i.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wu,useFormState:Vm,useActionState:Vm,useOptimistic:function(t){var n=ht();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=_u.bind(null,ue,!0,i),i.dispatch=n,[t,n]},useMemoCache:fu,useCacheRefresh:function(){return ht().memoizedState=a1.bind(null,ue)},useEffectEvent:function(t){var n=ht(),i={impl:t};return n.memoizedState=i,function(){if((Te&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},ju={readContext:lt,use:Rl,useCallback:t0,useContext:lt,useEffect:xu,useImperativeHandle:e0,useInsertionEffect:Qm,useLayoutEffect:Zm,useMemo:n0,useReducer:Ol,useRef:Ym,useState:function(){return Ol(jn)},useDebugValue:yu,useDeferredValue:function(t,n){var i=Ke();return a0(i,Re.memoizedState,t,n)},useTransition:function(){var t=Ol(jn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:Gr(t),n]},useSyncExternalStore:Om,useId:l0,useHostTransitionStatus:wu,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var i=Ke();return Pm(i,Re,t,n)},useMemoCache:fu,useCacheRefresh:o0};ju.useEffectEvent=Xm;var h0={readContext:lt,use:Rl,useCallback:t0,useContext:lt,useEffect:xu,useImperativeHandle:e0,useInsertionEffect:Qm,useLayoutEffect:Zm,useMemo:n0,useReducer:mu,useRef:Ym,useState:function(){return mu(jn)},useDebugValue:yu,useDeferredValue:function(t,n){var i=Ke();return Re===null?bu(i,t,n):a0(i,Re.memoizedState,t,n)},useTransition:function(){var t=mu(jn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:Gr(t),n]},useSyncExternalStore:Om,useId:l0,useHostTransitionStatus:wu,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var i=Ke();return Re!==null?Pm(i,Re,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:fu,useCacheRefresh:o0};h0.useEffectEvent=Xm;function Su(t,n,i,o){n=t.memoizedState,i=i(o,n),i=i==null?n:y({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Nu={enqueueSetState:function(t,n,i){t=t._reactInternals;var o=It(),f=Wn(o);f.payload=n,i!=null&&(f.callback=i),n=ea(t,f,o),n!==null&&(_t(n,t,o),Br(n,t,o))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var o=It(),f=Wn(o);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=ea(t,f,o),n!==null&&(_t(n,t,o),Br(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=It(),o=Wn(i);o.tag=2,n!=null&&(o.callback=n),n=ea(t,o,i),n!==null&&(_t(n,t,i),Br(n,t,i))}};function m0(t,n,i,o,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):n.prototype&&n.prototype.isPureReactComponent?!Ir(i,o)||!Ir(f,m):!0}function p0(t,n,i,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==t&&Nu.enqueueReplaceState(n,n.state,null)}function Ka(t,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(t=t.defaultProps){i===n&&(i=y({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function g0(t){hl(t)}function x0(t){console.error(t)}function y0(t){hl(t)}function Ul(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function b0(t,n,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Eu(t,n,i){return i=Wn(i),i.tag=3,i.payload={element:null},i.callback=function(){Ul(t,n)},i}function v0(t){return t=Wn(t),t.tag=3,t}function w0(t,n,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){b0(n,i,o)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){b0(n,i,o),typeof f!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function r1(t,n,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Ns(n,i,f,!0),i=At.current,i!==null){switch(i.tag){case 31:case 13:return qt===null?Yl():i.alternate===null&&qe===0&&(qe=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===jl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Qu(t,o,f)),!1;case 22:return i.flags|=65536,o===jl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Qu(t,o,f)),!1}throw Error(s(435,i.tag))}return Qu(t,o,f),Yl(),!1}if(_e)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Gc&&(t=Error(s(422),{cause:o}),Ur(zt(t,i)))):(o!==Gc&&(n=Error(s(423),{cause:o}),Ur(zt(n,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=zt(o,i),f=Eu(t.stateNode,o,f),nu(t,f),qe!==4&&(qe=2)),!1;var m=Error(s(520),{cause:o});if(m=zt(m,i),ti===null?ti=[m]:ti.push(m),qe!==4&&(qe=2),n===null)return!0;o=zt(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Eu(i.stateNode,o,t),nu(i,t),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ia===null||!ia.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=v0(f),w0(f,t,i,o),nu(i,f),!1}i=i.return}while(i!==null);return!1}var Tu=Error(s(461)),Je=!1;function ot(t,n,i,o){n.child=t===null?Nm(n,null,i,o):Va(n,t.child,i,o)}function _0(t,n,i,o,f){i=i.render;var m=n.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return $a(n),o=ou(t,n,i,b,m,f),w=cu(),t!==null&&!Je?(uu(t,n,f),Sn(t,n,f)):(_e&&w&&qc(n),n.flags|=1,ot(t,n,o,f),n.child)}function j0(t,n,i,o,f){if(t===null){var m=i.type;return typeof m=="function"&&!$c(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,S0(t,n,m,o,f)):(t=xl(i.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Lu(t,f)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:Ir,i(b,o)&&t.ref===n.ref)return Sn(t,n,f)}return n.flags|=1,t=yn(m,o),t.ref=n.ref,t.return=n,n.child=t}function S0(t,n,i,o,f){if(t!==null){var m=t.memoizedProps;if(Ir(m,o)&&t.ref===n.ref)if(Je=!1,n.pendingProps=o=m,Lu(t,f))(t.flags&131072)!==0&&(Je=!0);else return n.lanes=t.lanes,Sn(t,n,f)}return Cu(t,n,i,o,f)}function N0(t,n,i,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return E0(t,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wl(n,m!==null?m.cachePool:null),m!==null?Cm(n,m):su(),Am(n);else return o=n.lanes=536870912,E0(t,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(wl(n,m.cachePool),Cm(n,m),na(),n.memoizedState=null):(t!==null&&wl(n,null),su(),na());return ot(t,n,f,i),n.child}function Yr(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function E0(t,n,i,o,f){var m=Zc();return m=m===null?null:{parent:Fe._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},t!==null&&wl(n,null),su(),Am(n),t!==null&&Ns(t,n,o,!0),n.childLanes=f,null}function Ml(t,n){return n=zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function T0(t,n,i){return Va(n,t.child,null,i),t=Ml(n,n.pendingProps),t.flags|=2,kt(n),n.memoizedState=null,t}function i1(t,n,i){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(_e){if(o.mode==="hidden")return t=Ml(n,o),n.lanes=536870912,Yr(null,t);if(iu(n),(t=Me)?(t=zp(t,Ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Yn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=um(t),i.return=n,n.child=i,it=n,Me=null)):t=null,t===null)throw Xn(n);return n.lanes=536870912,null}return Ml(n,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(iu(n),f)if(n.flags&256)n.flags&=-257,n=T0(t,n,i);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Je||Ns(t,n,i,!1),f=(i&t.childLanes)!==0,Je||f){if(o=De,o!==null&&(b=xh(o,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ua(t,b),_t(o,t,b),Tu;Yl(),n=T0(t,n,i)}else t=m.treeContext,Me=Vt(b.nextSibling),it=n,_e=!0,Jn=null,Ht=!1,t!==null&&hm(n,t),n=Ml(n,o),n.flags|=4096;return n}return t=yn(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Pl(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function Cu(t,n,i,o,f){return $a(n),i=ou(t,n,i,o,void 0,f),o=cu(),t!==null&&!Je?(uu(t,n,f),Sn(t,n,f)):(_e&&o&&qc(n),n.flags|=1,ot(t,n,i,f),n.child)}function C0(t,n,i,o,f,m){return $a(n),n.updateQueue=null,i=Rm(n,o,i,f),km(t),o=cu(),t!==null&&!Je?(uu(t,n,m),Sn(t,n,m)):(_e&&o&&qc(n),n.flags|=1,ot(t,n,i,m),n.child)}function A0(t,n,i,o,f){if($a(n),n.stateNode===null){var m=ws,b=i.contextType;typeof b=="object"&&b!==null&&(m=lt(b)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},eu(n),b=i.contextType,m.context=typeof b=="object"&&b!==null?lt(b):ws,m.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Su(n,i,b,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Nu.enqueueReplaceState(m,m.state,null),qr(n,o,m,f),Hr(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var w=n.memoizedProps,E=Ka(i,w);m.props=E;var z=m.context,V=i.contextType;b=ws,typeof V=="object"&&V!==null&&(b=lt(V));var F=i.getDerivedStateFromProps;V=typeof F=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||z!==b)&&p0(n,m,o,b),Zn=!1;var B=n.memoizedState;m.state=B,qr(n,o,m,f),Hr(),z=n.memoizedState,w||B!==z||Zn?(typeof F=="function"&&(Su(n,i,F,o),z=n.memoizedState),(E=Zn||m0(n,i,E,o,B,z,b))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),m.props=o,m.state=z,m.context=b,o=E):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,tu(t,n),b=n.memoizedProps,V=Ka(i,b),m.props=V,F=n.pendingProps,B=m.context,z=i.contextType,E=ws,typeof z=="object"&&z!==null&&(E=lt(z)),w=i.getDerivedStateFromProps,(z=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==F||B!==E)&&p0(n,m,o,E),Zn=!1,B=n.memoizedState,m.state=B,qr(n,o,m,f),Hr();var H=n.memoizedState;b!==F||B!==H||Zn||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof w=="function"&&(Su(n,i,w,o),H=n.memoizedState),(V=Zn||m0(n,i,V,o,B,H,E)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,H,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,H,E)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),m.props=o,m.state=H,m.context=E,o=V):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Pl(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Va(n,t.child,null,f),n.child=Va(n,null,i,f)):ot(t,n,i,f),n.memoizedState=m.state,t=n.child):t=Sn(t,n,f),t}function k0(t,n,i,o){return Pa(),n.flags|=256,ot(t,n,i,o),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(t){return{baseLanes:t,cachePool:bm()}}function Ru(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Ot),t}function R0(t,n,i){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ge.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(_e){if(f?ta(n):na(),(t=Me)?(t=zp(t,Ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Yn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=um(t),i.return=n,n.child=i,it=n,Me=null)):t=null,t===null)throw Xn(n);return hd(t)?n.lanes=32:n.lanes=536870912,null}var w=o.children;return o=o.fallback,f?(na(),f=n.mode,w=zl({mode:"hidden",children:w},f),o=Ma(o,f,i,null),w.return=n,o.return=n,w.sibling=o,n.child=w,o=n.child,o.memoizedState=ku(i),o.childLanes=Ru(t,b,i),n.memoizedState=Au,Yr(null,o)):(ta(n),Ou(n,w))}var E=t.memoizedState;if(E!==null&&(w=E.dehydrated,w!==null)){if(m)n.flags&256?(ta(n),n.flags&=-257,n=Iu(t,n,i)):n.memoizedState!==null?(na(),n.child=t.child,n.flags|=128,n=null):(na(),w=o.fallback,f=n.mode,o=zl({mode:"visible",children:o.children},f),w=Ma(w,f,i,null),w.flags|=2,o.return=n,w.return=n,o.sibling=w,n.child=o,Va(n,t.child,null,i),o=n.child,o.memoizedState=ku(i),o.childLanes=Ru(t,b,i),n.memoizedState=Au,n=Yr(null,o));else if(ta(n),hd(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var z=b.dgst;b=z,o=Error(s(419)),o.stack="",o.digest=b,Ur({value:o,source:null,stack:null}),n=Iu(t,n,i)}else if(Je||Ns(t,n,i,!1),b=(i&t.childLanes)!==0,Je||b){if(b=De,b!==null&&(o=xh(b,i),o!==0&&o!==E.retryLane))throw E.retryLane=o,Ua(t,o),_t(b,t,o),Tu;fd(w)||Yl(),n=Iu(t,n,i)}else fd(w)?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,Me=Vt(w.nextSibling),it=n,_e=!0,Jn=null,Ht=!1,t!==null&&hm(n,t),n=Ou(n,o.children),n.flags|=4096);return n}return f?(na(),w=o.fallback,f=n.mode,E=t.child,z=E.sibling,o=yn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,z!==null?w=yn(z,w):(w=Ma(w,f,i,null),w.flags|=2),w.return=n,o.return=n,o.sibling=w,n.child=o,Yr(null,o),o=n.child,w=t.child.memoizedState,w===null?w=ku(i):(f=w.cachePool,f!==null?(E=Fe._currentValue,f=f.parent!==E?{parent:E,pool:E}:f):f=bm(),w={baseLanes:w.baseLanes|i,cachePool:f}),o.memoizedState=w,o.childLanes=Ru(t,b,i),n.memoizedState=Au,Yr(t.child,o)):(ta(n),i=t.child,t=i.sibling,i=yn(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=i,n.memoizedState=null,i)}function Ou(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=Ct(22,t,null,n),t.lanes=0,t}function Iu(t,n,i){return Va(n,t.child,null,i),t=Ou(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function O0(t,n,i){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Yc(t.return,n,i)}function Du(t,n,i,o,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=i,b.tailMode=f,b.treeForkCount=m)}function I0(t,n,i){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var b=Ge.current,w=(b&2)!==0;if(w?(b=b&1|2,n.flags|=128):b&=1,Q(Ge,b),ot(t,n,o,i),o=_e?Lr:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,i,n);else if(t.tag===19)O0(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)t=i.alternate,t!==null&&Tl(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),Du(n,!1,f,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Tl(t)===null){n.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Du(n,!0,i,null,m,o);break;case"together":Du(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Sn(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ra|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Ns(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,i=yn(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=yn(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function Lu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function l1(t,n,i){switch(n.tag){case 3:ft(n,n.stateNode.containerInfo),Qn(n,Fe,t.memoizedState.cache),Pa();break;case 27:case 5:vr(n);break;case 4:ft(n,n.stateNode.containerInfo);break;case 10:Qn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,iu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ta(n),n.flags|=128,null):(i&n.child.childLanes)!==0?R0(t,n,i):(ta(n),t=Sn(t,n,i),t!==null?t.sibling:null);ta(n);break;case 19:var f=(t.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Ns(t,n,i,!1),o=(i&n.childLanes)!==0),f){if(o)return I0(t,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Ge,Ge.current),o)break;return null;case 22:return n.lanes=0,N0(t,n,i,n.pendingProps);case 24:Qn(n,Fe,t.memoizedState.cache)}return Sn(t,n,i)}function D0(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Je=!0;else{if(!Lu(t,i)&&(n.flags&128)===0)return Je=!1,l1(t,n,i);Je=(t.flags&131072)!==0}else Je=!1,_e&&(n.flags&1048576)!==0&&fm(n,Lr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ha(n.elementType),n.type=t,typeof t=="function")$c(t)?(o=Ka(t,o),n.tag=1,n=A0(null,n,t,o,i)):(n.tag=0,n=Cu(null,n,t,o,i));else{if(t!=null){var f=t.$$typeof;if(f===$){n.tag=11,n=_0(null,n,t,o,i);break e}else if(f===R){n.tag=14,n=j0(null,n,t,o,i);break e}}throw n=me(t)||t,Error(s(306,n,""))}}return n;case 0:return Cu(t,n,n.type,n.pendingProps,i);case 1:return o=n.type,f=Ka(o,n.pendingProps),A0(t,n,o,f,i);case 3:e:{if(ft(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,tu(t,n),qr(n,o,null,i);var b=n.memoizedState;if(o=b.cache,Qn(n,Fe,o),o!==m.cache&&Jc(n,[Fe],i,!0),Hr(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=k0(t,n,o,i);break e}else if(o!==f){f=zt(Error(s(424)),n),Ur(f),n=k0(t,n,o,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Me=Vt(t.firstChild),it=n,_e=!0,Jn=null,Ht=!0,i=Nm(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Pa(),o===f){n=Sn(t,n,i);break e}ot(t,n,o,i)}n=n.child}return n;case 26:return Pl(t,n),t===null?(i=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=i:_e||(i=n.type,t=n.pendingProps,o=to(ge.current).createElement(i),o[rt]=n,o[gt]=t,ct(o,i,t),nt(o),n.stateNode=o):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return vr(n),t===null&&_e&&(o=n.stateNode=Hp(n.type,n.pendingProps,ge.current),it=n,Ht=!0,f=Me,ua(n.type)?(md=f,Me=Vt(o.firstChild)):Me=f),ot(t,n,n.pendingProps.children,i),Pl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&_e&&((f=o=Me)&&(o=M1(o,n.type,n.pendingProps,Ht),o!==null?(n.stateNode=o,it=n,Me=Vt(o.firstChild),Ht=!1,f=!0):f=!1),f||Xn(n)),vr(n),f=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,cd(f,m)?o=null:b!==null&&cd(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=ou(t,n,Zw,null,null,i),ci._currentValue=f),Pl(t,n),ot(t,n,o,i),n.child;case 6:return t===null&&_e&&((t=i=Me)&&(i=P1(i,n.pendingProps,Ht),i!==null?(n.stateNode=i,it=n,Me=null,t=!0):t=!1),t||Xn(n)),null;case 13:return R0(t,n,i);case 4:return ft(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Va(n,null,o,i):ot(t,n,o,i),n.child;case 11:return _0(t,n,n.type,n.pendingProps,i);case 7:return ot(t,n,n.pendingProps,i),n.child;case 8:return ot(t,n,n.pendingProps.children,i),n.child;case 12:return ot(t,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Qn(n,n.type,o.value),ot(t,n,o.children,i),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,$a(n),f=lt(f),o=o(f),n.flags|=1,ot(t,n,o,i),n.child;case 14:return j0(t,n,n.type,n.pendingProps,i);case 15:return S0(t,n,n.type,n.pendingProps,i);case 19:return I0(t,n,i);case 31:return i1(t,n,i);case 22:return N0(t,n,i,n.pendingProps);case 24:return $a(n),o=lt(Fe),t===null?(f=Zc(),f===null&&(f=De,m=Xc(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),n.memoizedState={parent:o,cache:f},eu(n),Qn(n,Fe,f)):((t.lanes&i)!==0&&(tu(t,n),qr(n,null,null,i),Hr()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Qn(n,Fe,o)):(o=m.cache,Qn(n,Fe,o),o!==f.cache&&Jc(n,[Fe],i,!0))),ot(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Nn(t){t.flags|=4}function Uu(t,n,i,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(lp())t.flags|=8192;else throw qa=jl,Wc}else t.flags&=-16777217}function L0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n))if(lp())t.flags|=8192;else throw qa=jl,Wc}function $l(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mh():536870912,t.lanes|=n,Ms|=n)}function Jr(t,n){if(!_e)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Pe(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(n)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=i,n}function o1(t,n,i){var o=n.pendingProps;switch(Vc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return i=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wn(Fe),Ve(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ss(n)?Nn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kc())),Pe(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(Nn(n),m!==null?(Pe(n),L0(n,m)):(Pe(n),Uu(n,f,null,o,i))):m?m!==t.memoizedState?(Nn(n),Pe(n),L0(n,m)):(Pe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Nn(n),Pe(n),Uu(n,f,t,o,i)),null;case 27:if(Qi(n),i=ge.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Nn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Pe(n),null}t=W.current,Ss(n)?mm(n):(t=Hp(f,o,i),n.stateNode=t,Nn(n))}return Pe(n),null;case 5:if(Qi(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Nn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Pe(n),null}if(m=W.current,Ss(n))mm(n);else{var b=to(ge.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(f,{is:o.is}):b.createElement(f)}}m[rt]=n,m[gt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(ct(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Nn(n)}}return Pe(n),Uu(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,i),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Nn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=ge.current,Ss(n)){if(t=n.stateNode,i=n.memoizedProps,o=null,f=it,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[rt]=n,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Rp(t.nodeValue,i)),t||Xn(n,!0)}else t=to(t).createTextNode(o),t[rt]=n,n.stateNode=t}return Pe(n),null;case 31:if(i=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ss(n),i!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[rt]=n}else Pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),t=!1}else i=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Pe(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ss(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[rt]=n}else Pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),f=!1}else f=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),i!==t&&i&&(n.child.flags|=8192),$l(n,n.updateQueue),Pe(n),null);case 4:return Ve(),t===null&&sd(n.stateNode.containerInfo),Pe(n),null;case 10:return wn(n.type),Pe(n),null;case 19:if(G(Ge),o=n.memoizedState,o===null)return Pe(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Jr(o,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Tl(t),m!==null){for(n.flags|=128,Jr(o,!1),t=m.updateQueue,n.updateQueue=t,$l(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)cm(i,t),i=i.sibling;return Q(Ge,Ge.current&1|2),_e&&bn(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&St()>Gl&&(n.flags|=128,f=!0,Jr(o,!1),n.lanes=4194304)}else{if(!f)if(t=Tl(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,$l(n,t),Jr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!_e)return Pe(n),null}else 2*St()-o.renderingStartTime>Gl&&i!==536870912&&(n.flags|=128,f=!0,Jr(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=St(),t.sibling=null,i=Ge.current,Q(Ge,f?i&1|2:i&1),_e&&bn(n,o.treeForkCount),t):(Pe(n),null);case 22:case 23:return kt(n),ru(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),i=n.updateQueue,i!==null&&$l(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),t!==null&&G(Ba),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),wn(Fe),Pe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function c1(t,n){switch(Vc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wn(Fe),Ve(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qi(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(s(340));Pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(Ge),null;case 4:return Ve(),null;case 10:return wn(n.type),null;case 22:case 23:return kt(n),ru(),t!==null&&G(Ba),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wn(Fe),null;case 25:return null;default:return null}}function U0(t,n){switch(Vc(n),n.tag){case 3:wn(Fe),Ve();break;case 26:case 27:case 5:Qi(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:G(Ge);break;case 10:wn(n.type);break;case 22:case 23:kt(n),ru(),t!==null&&G(Ba);break;case 24:wn(Fe)}}function Xr(t,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&t)===t){o=void 0;var m=i.create,b=i.inst;o=m(),b.destroy=o}i=i.next}while(i!==f)}}catch(w){ke(n,n.return,w)}}function aa(t,n,i){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=n;var E=i,z=w;try{z()}catch(V){ke(f,E,V)}}}o=o.next}while(o!==m)}}catch(V){ke(n,n.return,V)}}function M0(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{Tm(n,i)}catch(o){ke(t,t.return,o)}}}function P0(t,n,i){i.props=Ka(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){ke(t,n,o)}}function Qr(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(f){ke(t,n,f)}}function an(t,n){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){ke(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ke(t,n,f)}else i.current=null}function z0(t){var n=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){ke(t,t.return,f)}}function Mu(t,n,i){try{var o=t.stateNode;R1(o,t.type,i,n),o[gt]=n}catch(f){ke(t,t.return,f)}}function $0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ua(t.type)||t.tag===4}function Pu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zu(t,n,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=gn));else if(o!==4&&(o===27&&ua(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(zu(t,n,i),t=t.sibling;t!==null;)zu(t,n,i),t=t.sibling}function Bl(t,n,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(o!==4&&(o===27&&ua(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Bl(t,n,i),t=t.sibling;t!==null;)Bl(t,n,i),t=t.sibling}function B0(t){var n=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ct(n,o,i),n[rt]=t,n[gt]=i}catch(m){ke(t,t.return,m)}}var En=!1,Xe=!1,$u=!1,H0=typeof WeakSet=="function"?WeakSet:Set,at=null;function u1(t,n){if(t=t.containerInfo,ld=oo,t=em(t),Ic(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,w=-1,E=-1,z=0,V=0,F=t,B=null;t:for(;;){for(var H;F!==i||f!==0&&F.nodeType!==3||(w=b+f),F!==m||o!==0&&F.nodeType!==3||(E=b+o),F.nodeType===3&&(b+=F.nodeValue.length),(H=F.firstChild)!==null;)B=F,F=H;for(;;){if(F===t)break t;if(B===i&&++z===f&&(w=b),B===m&&++V===o&&(E=b),(H=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=H}i=w===-1||E===-1?null:{start:w,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(od={focusedElem:t,selectionRange:i},oo=!1,at=n;at!==null;)if(n=at,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,at=t;else for(;at!==null;){switch(n=at,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=n,f=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var ee=Ka(i.type,f);t=o.getSnapshotBeforeUpdate(ee,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(re){ke(i,i.return,re)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)dd(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,at=t;break}at=n.return}}function q0(t,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Cn(t,i),o&4&&Xr(5,i);break;case 1:if(Cn(t,i),o&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(b){ke(i,i.return,b)}else{var f=Ka(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ke(i,i.return,b)}}o&64&&M0(i),o&512&&Qr(i,i.return);break;case 3:if(Cn(t,i),o&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Tm(t,n)}catch(b){ke(i,i.return,b)}}break;case 27:n===null&&o&4&&B0(i);case 26:case 5:Cn(t,i),n===null&&o&4&&z0(i),o&512&&Qr(i,i.return);break;case 12:Cn(t,i);break;case 31:Cn(t,i),o&4&&K0(t,i);break;case 13:Cn(t,i),o&4&&F0(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=b1.bind(null,i),z1(t,i))));break;case 22:if(o=i.memoizedState!==null||En,!o){n=n!==null&&n.memoizedState!==null||Xe,f=En;var m=Xe;En=o,(Xe=n)&&!m?An(t,i,(i.subtreeFlags&8772)!==0):Cn(t,i),En=f,Xe=m}break;case 30:break;default:Cn(t,i)}}function V0(t){var n=t.alternate;n!==null&&(t.alternate=null,V0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&gc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,yt=!1;function Tn(t,n,i){for(i=i.child;i!==null;)G0(t,n,i),i=i.sibling}function G0(t,n,i){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(wr,i)}catch{}switch(i.tag){case 26:Xe||an(i,n),Tn(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Xe||an(i,n);var o=Be,f=yt;ua(i.type)&&(Be=i.stateNode,yt=!1),Tn(t,n,i),ii(i.stateNode),Be=o,yt=f;break;case 5:Xe||an(i,n);case 6:if(o=Be,f=yt,Be=null,Tn(t,n,i),Be=o,yt=f,Be!==null)if(yt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(i.stateNode)}catch(m){ke(i,n,m)}else try{Be.removeChild(i.stateNode)}catch(m){ke(i,n,m)}break;case 18:Be!==null&&(yt?(t=Be,Mp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Gs(t)):Mp(Be,i.stateNode));break;case 4:o=Be,f=yt,Be=i.stateNode.containerInfo,yt=!0,Tn(t,n,i),Be=o,yt=f;break;case 0:case 11:case 14:case 15:aa(2,i,n),Xe||aa(4,i,n),Tn(t,n,i);break;case 1:Xe||(an(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&P0(i,n,o)),Tn(t,n,i);break;case 21:Tn(t,n,i);break;case 22:Xe=(o=Xe)||i.memoizedState!==null,Tn(t,n,i),Xe=o;break;default:Tn(t,n,i)}}function K0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Gs(t)}catch(i){ke(n,n.return,i)}}}function F0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gs(t)}catch(i){ke(n,n.return,i)}}function d1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new H0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new H0),n;default:throw Error(s(435,t.tag))}}function Hl(t,n){var i=d1(t);n.forEach(function(o){if(!i.has(o)){i.add(o);var f=v1.bind(null,t,o);o.then(f,f)}})}function bt(t,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],m=t,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ua(w.type)){Be=w.stateNode,yt=!1;break e}break;case 5:Be=w.stateNode,yt=!1;break e;case 3:case 4:Be=w.stateNode.containerInfo,yt=!0;break e}w=w.return}if(Be===null)throw Error(s(160));G0(m,b,f),Be=null,yt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Y0(n,t),n=n.sibling}var Yt=null;function Y0(t,n){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bt(n,t),vt(t),o&4&&(aa(3,t,t.return),Xr(3,t),aa(5,t,t.return));break;case 1:bt(n,t),vt(t),o&512&&(Xe||i===null||an(i,i.return)),o&64&&En&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Yt;if(bt(n,t),vt(t),o&512&&(Xe||i===null||an(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Sr]||m[rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),ct(m,o,i),m[rt]=t,nt(m),o=m;break e;case"link":var b=Yp("link","href",f).get(o+(i.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(w,1);break t}}m=f.createElement(o),ct(m,o,i),f.head.appendChild(m);break;case"meta":if(b=Yp("meta","content",f).get(o+(i.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(w,1);break t}}m=f.createElement(o),ct(m,o,i),f.head.appendChild(m);break;default:throw Error(s(468,o))}m[rt]=t,nt(m),o=m}t.stateNode=o}else Jp(f,t.type,t.stateNode);else t.stateNode=Fp(f,o,t.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Jp(f,t.type,t.stateNode):Fp(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Mu(t,t.memoizedProps,i.memoizedProps)}break;case 27:bt(n,t),vt(t),o&512&&(Xe||i===null||an(i,i.return)),i!==null&&o&4&&Mu(t,t.memoizedProps,i.memoizedProps);break;case 5:if(bt(n,t),vt(t),o&512&&(Xe||i===null||an(i,i.return)),t.flags&32){f=t.stateNode;try{ms(f,"")}catch(ee){ke(t,t.return,ee)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Mu(t,f,i!==null?i.memoizedProps:f)),o&1024&&($u=!0);break;case 6:if(bt(n,t),vt(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(ee){ke(t,t.return,ee)}}break;case 3:if(so=null,f=Yt,Yt=no(n.containerInfo),bt(n,t),Yt=f,vt(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Gs(n.containerInfo)}catch(ee){ke(t,t.return,ee)}$u&&($u=!1,J0(t));break;case 4:o=Yt,Yt=no(t.stateNode.containerInfo),bt(n,t),vt(t),Yt=o;break;case 12:bt(n,t),vt(t);break;case 31:bt(n,t),vt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hl(t,o)));break;case 13:bt(n,t),vt(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vl=St()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hl(t,o)));break;case 22:f=t.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,z=En,V=Xe;if(En=z||f,Xe=V||E,bt(n,t),Xe=V,En=z,vt(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||E||En||Xe||Fa(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){E=i=n;try{if(m=E.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=E.stateNode;var F=E.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ee){ke(E,E.return,ee)}}}else if(n.tag===6){if(i===null){E=n;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(ee){ke(E,E.return,ee)}}}else if(n.tag===18){if(i===null){E=n;try{var H=E.stateNode;f?Pp(H,!0):Pp(E.stateNode,!1)}catch(ee){ke(E,E.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Hl(t,i))));break;case 19:bt(n,t),vt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hl(t,o)));break;case 30:break;case 21:break;default:bt(n,t),vt(t)}}function vt(t){var n=t.flags;if(n&2){try{for(var i,o=t.return;o!==null;){if($0(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,m=Pu(t);Bl(t,m,f);break;case 5:var b=i.stateNode;i.flags&32&&(ms(b,""),i.flags&=-33);var w=Pu(t);Bl(t,w,b);break;case 3:case 4:var E=i.stateNode.containerInfo,z=Pu(t);zu(t,z,E);break;default:throw Error(s(161))}}catch(V){ke(t,t.return,V)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function J0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;J0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Cn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)q0(t,n.alternate,n),n=n.sibling}function Fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:aa(4,n,n.return),Fa(n);break;case 1:an(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&P0(n,n.return,i),Fa(n);break;case 27:ii(n.stateNode);case 26:case 5:an(n,n.return),Fa(n);break;case 22:n.memoizedState===null&&Fa(n);break;case 30:Fa(n);break;default:Fa(n)}t=t.sibling}}function An(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:An(f,m,i),Xr(4,m);break;case 1:if(An(f,m,i),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){ke(o,o.return,z)}if(o=m,f=o.updateQueue,f!==null){var w=o.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)Em(E[f],w)}catch(z){ke(o,o.return,z)}}i&&b&64&&M0(m),Qr(m,m.return);break;case 27:B0(m);case 26:case 5:An(f,m,i),i&&o===null&&b&4&&z0(m),Qr(m,m.return);break;case 12:An(f,m,i);break;case 31:An(f,m,i),i&&b&4&&K0(f,m);break;case 13:An(f,m,i),i&&b&4&&F0(f,m);break;case 22:m.memoizedState===null&&An(f,m,i),Qr(m,m.return);break;case 30:break;default:An(f,m,i)}n=n.sibling}}function Bu(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Mr(i))}function Hu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mr(t))}function Jt(t,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X0(t,n,i,o),n=n.sibling}function X0(t,n,i,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Jt(t,n,i,o),f&2048&&Xr(9,n);break;case 1:Jt(t,n,i,o);break;case 3:Jt(t,n,i,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mr(t)));break;case 12:if(f&2048){Jt(t,n,i,o),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){ke(n,n.return,E)}}else Jt(t,n,i,o);break;case 31:Jt(t,n,i,o);break;case 13:Jt(t,n,i,o);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?Jt(t,n,i,o):Zr(t,n):m._visibility&2?Jt(t,n,i,o):(m._visibility|=2,Ds(t,n,i,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Bu(b,n);break;case 24:Jt(t,n,i,o),f&2048&&Hu(n.alternate,n);break;default:Jt(t,n,i,o)}}function Ds(t,n,i,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,b=n,w=i,E=o,z=b.flags;switch(b.tag){case 0:case 11:case 15:Ds(m,b,w,E,f),Xr(8,b);break;case 23:break;case 22:var V=b.stateNode;b.memoizedState!==null?V._visibility&2?Ds(m,b,w,E,f):Zr(m,b):(V._visibility|=2,Ds(m,b,w,E,f)),f&&z&2048&&Bu(b.alternate,b);break;case 24:Ds(m,b,w,E,f),f&&z&2048&&Hu(b.alternate,b);break;default:Ds(m,b,w,E,f)}n=n.sibling}}function Zr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,o=n,f=o.flags;switch(o.tag){case 22:Zr(i,o),f&2048&&Bu(o.alternate,o);break;case 24:Zr(i,o),f&2048&&Hu(o.alternate,o);break;default:Zr(i,o)}n=n.sibling}}var Wr=8192;function Ls(t,n,i){if(t.subtreeFlags&Wr)for(t=t.child;t!==null;)Q0(t,n,i),t=t.sibling}function Q0(t,n,i){switch(t.tag){case 26:Ls(t,n,i),t.flags&Wr&&t.memoizedState!==null&&Q1(i,Yt,t.memoizedState,t.memoizedProps);break;case 5:Ls(t,n,i);break;case 3:case 4:var o=Yt;Yt=no(t.stateNode.containerInfo),Ls(t,n,i),Yt=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Wr,Wr=16777216,Ls(t,n,i),Wr=o):Ls(t,n,i));break;default:Ls(t,n,i)}}function Z0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ei(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];at=o,ep(o,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W0(t),t=t.sibling}function W0(t){switch(t.tag){case 0:case 11:case 15:ei(t),t.flags&2048&&aa(9,t,t.return);break;case 3:ei(t);break;case 12:ei(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ql(t)):ei(t);break;default:ei(t)}}function ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];at=o,ep(o,t)}Z0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:aa(8,n,n.return),ql(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ql(n));break;default:ql(n)}t=t.sibling}}function ep(t,n){for(;at!==null;){var i=at;switch(i.tag){case 0:case 11:case 15:aa(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mr(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,at=o;else e:for(i=t;at!==null;){o=at;var f=o.sibling,m=o.return;if(V0(o),o===i){at=null;break e}if(f!==null){f.return=m,at=f;break e}at=m}}}var f1={getCacheForType:function(t){var n=lt(Fe),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i},cacheSignal:function(){return lt(Fe).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,Te=0,De=null,xe=null,ve=0,Ae=0,Rt=null,sa=!1,Us=!1,qu=!1,kn=0,qe=0,ra=0,Ya=0,Vu=0,Ot=0,Ms=0,ti=null,wt=null,Gu=!1,Vl=0,tp=0,Gl=1/0,Kl=null,ia=null,Ze=0,la=null,Ps=null,Rn=0,Ku=0,Fu=null,np=null,ni=0,Yu=null;function It(){return(Te&2)!==0&&ve!==0?ve&-ve:q.T!==null?ed():yh()}function ap(){if(Ot===0)if((ve&536870912)===0||_e){var t=el;el<<=1,(el&3932160)===0&&(el=262144),Ot=t}else Ot=536870912;return t=At.current,t!==null&&(t.flags|=32),Ot}function _t(t,n,i){(t===De&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(zs(t,0),oa(t,ve,Ot,!1)),jr(t,i),((Te&2)===0||t!==De)&&(t===De&&((Te&2)===0&&(Ya|=i),qe===4&&oa(t,ve,Ot,!1)),sn(t))}function sp(t,n,i){if((Te&6)!==0)throw Error(s(327));var o=!i&&(n&127)===0&&(n&t.expiredLanes)===0||_r(t,n),f=o?g1(t,n):Xu(t,n,!0),m=o;do{if(f===0){Us&&!o&&oa(t,n,0,!1);break}else{if(i=t.current.alternate,m&&!m1(i)){f=Xu(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=t;f=ti;var E=w.current.memoizedState.isDehydrated;if(E&&(zs(w,b).flags|=256),b=Xu(w,b,!1),b!==2){if(qu&&!E){w.errorRecoveryDisabledLanes|=m,Ya|=m,f=4;break e}m=wt,wt=f,m!==null&&(wt===null?wt=m:wt.push.apply(wt,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){zs(t,0),oa(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:oa(o,n,Ot,!sa);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Vl+300-St(),10<f)){if(oa(o,n,Ot,!sa),nl(o,0,!0)!==0)break e;Rn=n,o.timeoutHandle=Lp(rp.bind(null,o,i,wt,Kl,Gu,n,Ot,Ya,Ms,sa,m,"Throttled",-0,0),f);break e}rp(o,i,wt,Kl,Gu,n,Ot,Ya,Ms,sa,m,null,-0,0)}}break}while(!0);sn(t)}function rp(t,n,i,o,f,m,b,w,E,z,V,F,B,H){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},Q0(n,m,F);var ee=(m&62914560)===m?Vl-St():(m&4194048)===m?tp-St():0;if(ee=Z1(F,ee),ee!==null){Rn=m,t.cancelPendingCommit=ee(hp.bind(null,t,n,m,i,o,f,b,w,E,V,F,null,B,H)),oa(t,m,b,!z);return}}hp(t,n,m,i,o,f,b,w,E)}function m1(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],m=f.getSnapshot;f=f.value;try{if(!Tt(m(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oa(t,n,i,o){n&=~Vu,n&=~Ya,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-Et(f),b=1<<m;o[m]=-1,f&=~b}i!==0&&ph(t,i,n)}function Fl(){return(Te&6)===0?(ai(0),!1):!0}function Ju(){if(xe!==null){if(Ae===0)var t=xe.return;else t=xe,vn=za=null,du(t),As=null,zr=0,t=xe;for(;t!==null;)U0(t.alternate,t),t=t.return;xe=null}}function zs(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,D1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Rn=0,Ju(),De=t,xe=i=yn(t.current,null),ve=n,Ae=0,Rt=null,sa=!1,Us=_r(t,n),qu=!1,Ms=Ot=Vu=Ya=ra=qe=0,wt=ti=null,Gu=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Et(o),m=1<<f;n|=t[f],o&=~m}return kn=n,ml(),i}function ip(t,n){ue=null,q.H=Fr,n===Cs||n===_l?(n=_m(),Ae=3):n===Wc?(n=_m(),Ae=4):Ae=n===Tu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rt=n,xe===null&&(qe=1,Ul(t,zt(n,t.current)))}function lp(){var t=At.current;return t===null?!0:(ve&4194048)===ve?qt===null:(ve&62914560)===ve||(ve&536870912)!==0?t===qt:!1}function op(){var t=q.H;return q.H=Fr,t===null?Fr:t}function cp(){var t=q.A;return q.A=f1,t}function Yl(){qe=4,sa||(ve&4194048)!==ve&&At.current!==null||(Us=!0),(ra&134217727)===0&&(Ya&134217727)===0||De===null||oa(De,ve,Ot,!1)}function Xu(t,n,i){var o=Te;Te|=2;var f=op(),m=cp();(De!==t||ve!==n)&&(Kl=null,zs(t,n)),n=!1;var b=qe;e:do try{if(Ae!==0&&xe!==null){var w=xe,E=Rt;switch(Ae){case 8:Ju(),b=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var z=Ae;if(Ae=0,Rt=null,$s(t,w,E,z),i&&Us){b=0;break e}break;default:z=Ae,Ae=0,Rt=null,$s(t,w,E,z)}}p1(),b=qe;break}catch(V){ip(t,V)}while(!0);return n&&t.shellSuspendCounter++,vn=za=null,Te=o,q.H=f,q.A=m,xe===null&&(De=null,ve=0,ml()),b}function p1(){for(;xe!==null;)up(xe)}function g1(t,n){var i=Te;Te|=2;var o=op(),f=cp();De!==t||ve!==n?(Kl=null,Gl=St()+500,zs(t,n)):Us=_r(t,n);e:do try{if(Ae!==0&&xe!==null){n=xe;var m=Rt;t:switch(Ae){case 1:Ae=0,Rt=null,$s(t,n,m,1);break;case 2:case 9:if(vm(m)){Ae=0,Rt=null,dp(n);break}n=function(){Ae!==2&&Ae!==9||De!==t||(Ae=7),sn(t)},m.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:vm(m)?(Ae=0,Rt=null,dp(n)):(Ae=0,Rt=null,$s(t,n,m,7));break;case 5:var b=null;switch(xe.tag){case 26:b=xe.memoizedState;case 5:case 27:var w=xe;if(b?Xp(b):w.stateNode.complete){Ae=0,Rt=null;var E=w.sibling;if(E!==null)xe=E;else{var z=w.return;z!==null?(xe=z,Jl(z)):xe=null}break t}}Ae=0,Rt=null,$s(t,n,m,5);break;case 6:Ae=0,Rt=null,$s(t,n,m,6);break;case 8:Ju(),qe=6;break e;default:throw Error(s(462))}}x1();break}catch(V){ip(t,V)}while(!0);return vn=za=null,q.H=o,q.A=f,Te=i,xe!==null?0:(De=null,ve=0,ml(),qe)}function x1(){for(;xe!==null&&!$v();)up(xe)}function up(t){var n=D0(t.alternate,t,kn);t.memoizedProps=t.pendingProps,n===null?Jl(t):xe=n}function dp(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=C0(i,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=C0(i,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:du(n);default:U0(i,n),n=xe=cm(n,kn),n=D0(i,n,kn)}t.memoizedProps=t.pendingProps,n===null?Jl(t):xe=n}function $s(t,n,i,o){vn=za=null,du(n),As=null,zr=0;var f=n.return;try{if(r1(t,f,n,i,ve)){qe=1,Ul(t,zt(i,t.current)),xe=null;return}}catch(m){if(f!==null)throw xe=f,m;qe=1,Ul(t,zt(i,t.current)),xe=null;return}n.flags&32768?(_e||o===1?t=!0:Us||(ve&536870912)!==0?t=!1:(sa=t=!0,(o===2||o===9||o===3||o===6)&&(o=At.current,o!==null&&o.tag===13&&(o.flags|=16384))),fp(n,t)):Jl(n)}function Jl(t){var n=t;do{if((n.flags&32768)!==0){fp(n,sa);return}t=n.return;var i=o1(n.alternate,n,kn);if(i!==null){xe=i;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);qe===0&&(qe=5)}function fp(t,n){do{var i=c1(t.alternate,t);if(i!==null){i.flags&=32767,xe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=i}while(t!==null);qe=6,xe=null}function hp(t,n,i,o,f,m,b,w,E){t.cancelPendingCommit=null;do Xl();while(Ze!==0);if((Te&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Pc,Xv(t,i,m,b,w,E),t===De&&(xe=De=null,ve=0),Ps=n,la=t,Rn=i,Ku=m,Fu=f,np=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,w1(Zi,function(){return yp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=X.p,X.p=2,b=Te,Te|=4;try{u1(t,n,i)}finally{Te=b,X.p=f,q.T=o}}Ze=1,mp(),pp(),gp()}}function mp(){if(Ze===1){Ze=0;var t=la,n=Ps,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=q.T,q.T=null;var o=X.p;X.p=2;var f=Te;Te|=4;try{Y0(n,t);var m=od,b=em(t.containerInfo),w=m.focusedElem,E=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Wh(w.ownerDocument.documentElement,w)){if(E!==null&&Ic(w)){var z=E.start,V=E.end;if(V===void 0&&(V=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(V,w.value.length);else{var F=w.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var H=B.getSelection(),ee=w.textContent.length,re=Math.min(E.start,ee),Ie=E.end===void 0?re:Math.min(E.end,ee);!H.extend&&re>Ie&&(b=Ie,Ie=re,re=b);var O=Zh(w,re),A=Zh(w,Ie);if(O&&A&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==A.node||H.focusOffset!==A.offset)){var P=F.createRange();P.setStart(O.node,O.offset),H.removeAllRanges(),re>Ie?(H.addRange(P),H.extend(A.node,A.offset)):(P.setEnd(A.node,A.offset),H.addRange(P))}}}}for(F=[],H=w;H=H.parentNode;)H.nodeType===1&&F.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<F.length;w++){var K=F[w];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}oo=!!ld,od=ld=null}finally{Te=f,X.p=o,q.T=i}}t.current=n,Ze=2}}function pp(){if(Ze===2){Ze=0;var t=la,n=Ps,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=q.T,q.T=null;var o=X.p;X.p=2;var f=Te;Te|=4;try{q0(t,n.alternate,n)}finally{Te=f,X.p=o,q.T=i}}Ze=3}}function gp(){if(Ze===4||Ze===3){Ze=0,Bv();var t=la,n=Ps,i=Rn,o=np;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Ps=la=null,xp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ia=null),mc(i),n=n.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,f=X.p,X.p=2,q.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var w=o[b];m(w.value,{componentStack:w.stack})}}finally{q.T=n,X.p=f}}(Rn&3)!==0&&Xl(),sn(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===Yu?ni++:(ni=0,Yu=t):ni=0,ai(0)}}function xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Mr(n)))}function Xl(){return mp(),pp(),gp(),yp()}function yp(){if(Ze!==5)return!1;var t=la,n=Ku;Ku=0;var i=mc(Rn),o=q.T,f=X.p;try{X.p=32>i?32:i,q.T=null,i=Fu,Fu=null;var m=la,b=Rn;if(Ze=0,Ps=la=null,Rn=0,(Te&6)!==0)throw Error(s(331));var w=Te;if(Te|=4,W0(m.current),X0(m,m.current,b,i),Te=w,ai(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(wr,m)}catch{}return!0}finally{X.p=f,q.T=o,xp(t,n)}}function bp(t,n,i){n=zt(i,n),n=Eu(t.stateNode,n,2),t=ea(t,n,2),t!==null&&(jr(t,2),sn(t))}function ke(t,n,i){if(t.tag===3)bp(t,t,i);else for(;n!==null;){if(n.tag===3){bp(n,t,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ia===null||!ia.has(o))){t=zt(i,t),i=v0(2),o=ea(n,i,2),o!==null&&(w0(i,o,n,t),jr(o,2),sn(o));break}}n=n.return}}function Qu(t,n,i){var o=t.pingCache;if(o===null){o=t.pingCache=new h1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(i)||(qu=!0,f.add(i),t=y1.bind(null,t,n,i),n.then(t,t))}function y1(t,n,i){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,De===t&&(ve&i)===i&&(qe===4||qe===3&&(ve&62914560)===ve&&300>St()-Vl?(Te&2)===0&&zs(t,0):Vu|=i,Ms===ve&&(Ms=0)),sn(t)}function vp(t,n){n===0&&(n=mh()),t=Ua(t,n),t!==null&&(jr(t,n),sn(t))}function b1(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),vp(t,i)}function v1(t,n){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),vp(t,i)}function w1(t,n){return uc(t,n)}var Ql=null,Bs=null,Zu=!1,Zl=!1,Wu=!1,ca=0;function sn(t){t!==Bs&&t.next===null&&(Bs===null?Ql=Bs=t:Bs=Bs.next=t),Zl=!0,Zu||(Zu=!0,j1())}function ai(t,n){if(!Wu&&Zl){Wu=!0;do for(var i=!1,o=Ql;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var b=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-Et(42|t)+1)-1,m&=f&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Sp(o,m))}else m=ve,m=nl(o,o===De?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||_r(o,m)||(i=!0,Sp(o,m));o=o.next}while(i);Wu=!1}}function _1(){wp()}function wp(){Zl=Zu=!1;var t=0;ca!==0&&I1()&&(t=ca);for(var n=St(),i=null,o=Ql;o!==null;){var f=o.next,m=_p(o,n);m===0?(o.next=null,i===null?Ql=f:i.next=f,f===null&&(Bs=i)):(i=o,(t!==0||(m&3)!==0)&&(Zl=!0)),o=f}Ze!==0&&Ze!==5||ai(t),ca!==0&&(ca=0)}function _p(t,n){for(var i=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Et(m),w=1<<b,E=f[b];E===-1?((w&i)===0||(w&o)!==0)&&(f[b]=Jv(w,n)):E<=n&&(t.expiredLanes|=w),m&=~w}if(n=De,i=ve,i=nl(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===n&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&dc(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||_r(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(o!==null&&dc(o),mc(i)){case 2:case 8:i=fh;break;case 32:i=Zi;break;case 268435456:i=hh;break;default:i=Zi}return o=jp.bind(null,t),i=uc(i,o),t.callbackPriority=n,t.callbackNode=i,n}return o!==null&&o!==null&&dc(o),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Xl()&&t.callbackNode!==i)return null;var o=ve;return o=nl(t,t===De?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(sp(t,o,n),_p(t,St()),t.callbackNode!=null&&t.callbackNode===i?jp.bind(null,t):null)}function Sp(t,n){if(Xl())return null;sp(t,n,!0)}function j1(){L1(function(){(Te&6)!==0?uc(dh,_1):wp()})}function ed(){if(ca===0){var t=Es;t===0&&(t=Wi,Wi<<=1,(Wi&261888)===0&&(Wi=256)),ca=t}return ca}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:il(""+t)}function Ep(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function S1(t,n,i,o,f){if(n==="submit"&&i&&i.stateNode===f){var m=Np((f[gt]||null).action),b=o.submitter;b&&(n=(n=b[gt]||null)?Np(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var w=new ul("action","action",null,o,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ca!==0){var E=b?Ep(f,b):new FormData(f);vu(i,{pending:!0,data:E,method:f.method,action:m},null,E)}}else typeof m=="function"&&(w.preventDefault(),E=b?Ep(f,b):new FormData(f),vu(i,{pending:!0,data:E,method:f.method,action:m},m,E))},currentTarget:f}]})}}for(var td=0;td<Mc.length;td++){var nd=Mc[td],N1=nd.toLowerCase(),E1=nd[0].toUpperCase()+nd.slice(1);Ft(N1,"on"+E1)}Ft(am,"onAnimationEnd"),Ft(sm,"onAnimationIteration"),Ft(rm,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Hw,"onTransitionRun"),Ft(qw,"onTransitionStart"),Ft(Vw,"onTransitionCancel"),Ft(im,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(si));function Tp(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var b=o.length-1;0<=b;b--){var w=o[b],E=w.instance,z=w.currentTarget;if(w=w.listener,E!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=z;try{m(f)}catch(V){hl(V)}f.currentTarget=null,m=E}else for(b=0;b<o.length;b++){if(w=o[b],E=w.instance,z=w.currentTarget,w=w.listener,E!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=z;try{m(f)}catch(V){hl(V)}f.currentTarget=null,m=E}}}}function ye(t,n){var i=n[pc];i===void 0&&(i=n[pc]=new Set);var o=t+"__bubble";i.has(o)||(Cp(n,t,2,!1),i.add(o))}function ad(t,n,i){var o=0;n&&(o|=4),Cp(i,t,o,n)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[Wl]){t[Wl]=!0,wh.forEach(function(i){i!=="selectionchange"&&(T1.has(i)||ad(i,!1,t),ad(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Wl]||(n[Wl]=!0,ad("selectionchange",!1,n))}}function Cp(t,n,i,o){switch(ag(n)){case 2:var f=t2;break;case 8:f=n2;break;default:f=bd}i=f.bind(null,n,i,t),f=void 0,!Sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,i,{capture:!0,passive:f}):t.addEventListener(n,i,!0):f!==void 0?t.addEventListener(n,i,{passive:f}):t.addEventListener(n,i,!1)}function rd(t,n,i,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=o.return;b!==null;){var E=b.tag;if((E===3||E===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=cs(w),b===null)return;if(E=b.tag,E===5||E===6||E===26||E===27){o=m=b;continue e}w=w.parentNode}}o=o.return}Ih(function(){var z=m,V=_c(i),F=[];e:{var B=lm.get(t);if(B!==void 0){var H=ul,ee=t;switch(t){case"keypress":if(ol(i)===0)break e;case"keydown":case"keyup":H=vw;break;case"focusin":ee="focus",H=Cc;break;case"focusout":ee="blur",H=Cc;break;case"beforeblur":case"afterblur":H=Cc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=jw;break;case am:case sm:case rm:H=dw;break;case im:H=Nw;break;case"scroll":case"scrollend":H=iw;break;case"wheel":H=Tw;break;case"copy":case"cut":case"paste":H=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ph;break;case"toggle":case"beforetoggle":H=Aw}var re=(n&4)!==0,Ie=!re&&(t==="scroll"||t==="scrollend"),O=re?B!==null?B+"Capture":null:B;re=[];for(var A=z,P;A!==null;){var K=A;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||O===null||(K=Er(A,O),K!=null&&re.push(ri(A,K,P))),Ie)break;A=A.return}0<re.length&&(B=new H(B,ee,null,i,V),F.push({event:B,listeners:re}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&i!==wc&&(ee=i.relatedTarget||i.fromElement)&&(cs(ee)||ee[os]))break e;if((H||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ee=i.relatedTarget||i.toElement,H=z,ee=ee?cs(ee):null,ee!==null&&(Ie=c(ee),re=ee.tag,ee!==Ie||re!==5&&re!==27&&re!==6)&&(ee=null)):(H=null,ee=z),H!==ee)){if(re=Uh,K="onMouseLeave",O="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(re=Ph,K="onPointerLeave",O="onPointerEnter",A="pointer"),Ie=H==null?B:Nr(H),P=ee==null?B:Nr(ee),B=new re(K,A+"leave",H,i,V),B.target=Ie,B.relatedTarget=P,K=null,cs(V)===z&&(re=new re(O,A+"enter",ee,i,V),re.target=P,re.relatedTarget=Ie,K=re),Ie=K,H&&ee)t:{for(re=C1,O=H,A=ee,P=0,K=O;K;K=re(K))P++;K=0;for(var se=A;se;se=re(se))K++;for(;0<P-K;)O=re(O),P--;for(;0<K-P;)A=re(A),K--;for(;P--;){if(O===A||A!==null&&O===A.alternate){re=O;break t}O=re(O),A=re(A)}re=null}else re=null;H!==null&&Ap(F,B,H,re,!1),ee!==null&&Ie!==null&&Ap(F,Ie,ee,re,!0)}}e:{if(B=z?Nr(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ne=Kh;else if(Vh(B))if(Fh)Ne=zw;else{Ne=Mw;var ne=Uw}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&vc(z.elementType)&&(Ne=Kh):Ne=Pw;if(Ne&&(Ne=Ne(t,z))){Gh(F,Ne,i,V);break e}ne&&ne(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&bc(B,"number",B.value)}switch(ne=z?Nr(z):window,t){case"focusin":(Vh(ne)||ne.contentEditable==="true")&&(ys=ne,Dc=z,Dr=null);break;case"focusout":Dr=Dc=ys=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,tm(F,i,V);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":tm(F,i,V)}var he;if(kc)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else xs?Hh(t,i)&&(we="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(we="onCompositionStart");we&&(zh&&i.locale!=="ko"&&(xs||we!=="onCompositionStart"?we==="onCompositionEnd"&&xs&&(he=Dh()):(Fn=V,Nc="value"in Fn?Fn.value:Fn.textContent,xs=!0)),ne=eo(z,we),0<ne.length&&(we=new Mh(we,t,null,i,V),F.push({event:we,listeners:ne}),he?we.data=he:(he=qh(i),he!==null&&(we.data=he)))),(he=Rw?Ow(t,i):Iw(t,i))&&(we=eo(z,"onBeforeInput"),0<we.length&&(ne=new Mh("onBeforeInput","beforeinput",null,i,V),F.push({event:ne,listeners:we}),ne.data=he)),S1(F,t,z,i,V)}Tp(F,n)})}function ri(t,n,i){return{instance:t,listener:n,currentTarget:i}}function eo(t,n){for(var i=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Er(t,i),f!=null&&o.unshift(ri(t,f,m)),f=Er(t,n),f!=null&&o.push(ri(t,f,m))),t.tag===3)return o;t=t.return}return[]}function C1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ap(t,n,i,o,f){for(var m=n._reactName,b=[];i!==null&&i!==o;){var w=i,E=w.alternate,z=w.stateNode;if(w=w.tag,E!==null&&E===o)break;w!==5&&w!==26&&w!==27||z===null||(E=z,f?(z=Er(i,m),z!=null&&b.unshift(ri(i,z,E))):f||(z=Er(i,m),z!=null&&b.push(ri(i,z,E)))),i=i.return}b.length!==0&&t.push({event:n,listeners:b})}var A1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(k1,"")}function Rp(t,n){return n=kp(n),kp(t)===n}function Oe(t,n,i,o,f,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ms(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ms(t,""+o);break;case"className":sl(t,"class",o);break;case"tabIndex":sl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(t,i,o);break;case"style":Rh(t,o,m);break;case"data":if(n!=="object"){sl(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=il(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&Oe(t,n,"name",f.name,f,null),Oe(t,n,"formEncType",f.formEncType,f,null),Oe(t,n,"formMethod",f.formMethod,f,null),Oe(t,n,"formTarget",f.formTarget,f,null)):(Oe(t,n,"encType",f.encType,f,null),Oe(t,n,"method",f.method,f,null),Oe(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=il(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=gn);break;case"onScroll":o!=null&&ye("scroll",t);break;case"onScrollEnd":o!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=il(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":ye("beforetoggle",t),ye("toggle",t),al(t,"popover",o);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":al(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=sw.get(i)||i,al(t,i,o))}}function id(t,n,i,o,f,m){switch(i){case"style":Rh(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof o=="string"?ms(t,o):(typeof o=="number"||typeof o=="bigint")&&ms(t,""+o);break;case"onScroll":o!=null&&ye("scroll",t);break;case"onScrollEnd":o!=null&&ye("scrollend",t);break;case"onClick":o!=null&&(t.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_h.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),m=t[gt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,o,f);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):al(t,i,o)}}}function ct(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var o=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Oe(t,n,m,b,i,null)}}f&&Oe(t,n,"srcSet",i.srcSet,i,null),o&&Oe(t,n,"src",i.src,i,null);return;case"input":ye("invalid",t);var w=m=b=f=null,E=null,z=null;for(o in i)if(i.hasOwnProperty(o)){var V=i[o];if(V!=null)switch(o){case"name":f=V;break;case"type":b=V;break;case"checked":E=V;break;case"defaultChecked":z=V;break;case"value":m=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:Oe(t,n,o,V,i,null)}}Th(t,m,w,E,z,b,f,!1);return;case"select":ye("invalid",t),o=b=m=null;for(f in i)if(i.hasOwnProperty(f)&&(w=i[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:Oe(t,n,f,w,i,null)}n=m,i=b,t.multiple=!!o,n!=null?hs(t,!!o,n,!1):i!=null&&hs(t,!!o,i,!0);return;case"textarea":ye("invalid",t),m=f=o=null;for(b in i)if(i.hasOwnProperty(b)&&(w=i[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Oe(t,n,b,w,i,null)}Ah(t,o,f,m);return;case"option":for(E in i)if(i.hasOwnProperty(E)&&(o=i[E],o!=null))switch(E){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Oe(t,n,E,o,i,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(o=0;o<si.length;o++)ye(si[o],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Oe(t,n,z,o,i,null)}return;default:if(vc(n)){for(V in i)i.hasOwnProperty(V)&&(o=i[V],o!==void 0&&id(t,n,V,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&Oe(t,n,w,o,i,null))}function R1(t,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,w=null,E=null,z=null,V=null;for(H in i){var F=i[H];if(i.hasOwnProperty(H)&&F!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":E=F;default:o.hasOwnProperty(H)||Oe(t,n,H,null,o,F)}}for(var B in o){var H=o[B];if(F=i[B],o.hasOwnProperty(B)&&(H!=null||F!=null))switch(B){case"type":m=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":V=H;break;case"value":b=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==F&&Oe(t,n,B,H,o,F)}}yc(t,b,w,E,z,V,m,f);return;case"select":H=b=w=B=null;for(m in i)if(E=i[m],i.hasOwnProperty(m)&&E!=null)switch(m){case"value":break;case"multiple":H=E;default:o.hasOwnProperty(m)||Oe(t,n,m,null,o,E)}for(f in o)if(m=o[f],E=i[f],o.hasOwnProperty(f)&&(m!=null||E!=null))switch(f){case"value":B=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==E&&Oe(t,n,f,m,o,E)}n=w,i=b,o=H,B!=null?hs(t,!!i,B,!1):!!o!=!!i&&(n!=null?hs(t,!!i,n,!0):hs(t,!!i,i?[]:"",!1));return;case"textarea":H=B=null;for(w in i)if(f=i[w],i.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Oe(t,n,w,null,o,f)}for(b in o)if(f=o[b],m=i[b],o.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":B=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Oe(t,n,b,f,o,m)}Ch(t,B,H);return;case"option":for(var ee in i)if(B=i[ee],i.hasOwnProperty(ee)&&B!=null&&!o.hasOwnProperty(ee))switch(ee){case"selected":t.selected=!1;break;default:Oe(t,n,ee,null,o,B)}for(E in o)if(B=o[E],H=i[E],o.hasOwnProperty(E)&&B!==H&&(B!=null||H!=null))switch(E){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Oe(t,n,E,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in i)B=i[re],i.hasOwnProperty(re)&&B!=null&&!o.hasOwnProperty(re)&&Oe(t,n,re,null,o,B);for(z in o)if(B=o[z],H=i[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Oe(t,n,z,B,o,H)}return;default:if(vc(n)){for(var Ie in i)B=i[Ie],i.hasOwnProperty(Ie)&&B!==void 0&&!o.hasOwnProperty(Ie)&&id(t,n,Ie,void 0,o,B);for(V in o)B=o[V],H=i[V],!o.hasOwnProperty(V)||B===H||B===void 0&&H===void 0||id(t,n,V,B,o,H);return}}for(var O in i)B=i[O],i.hasOwnProperty(O)&&B!=null&&!o.hasOwnProperty(O)&&Oe(t,n,O,null,o,B);for(F in o)B=o[F],H=i[F],!o.hasOwnProperty(F)||B===H||B==null&&H==null||Oe(t,n,F,B,o,H)}function Op(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],m=f.transferSize,b=f.initiatorType,w=f.duration;if(m&&w&&Op(b)){for(b=0,w=f.responseEnd,o+=1;o<i.length;o++){var E=i[o],z=E.startTime;if(z>w)break;var V=E.transferSize,F=E.initiatorType;V&&Op(F)&&(E=E.responseEnd,b+=V*(E<w?1:(w-z)/(E-z)))}if(--o,n+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ld=null,od=null;function to(t){return t.nodeType===9?t:t.ownerDocument}function Ip(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function I1(){var t=window.event;return t&&t.type==="popstate"?t===ud?!1:(ud=t,!0):(ud=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(U1)}:Lp;function U1(t){setTimeout(function(){throw t})}function ua(t){return t==="head"}function Mp(t,n){var i=n,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(f),Gs(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")ii(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,ii(i);for(var m=i.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[Sr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&ii(t.ownerDocument.body);i=f}while(i);Gs(n)}function Pp(t,n){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":dd(i),gc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function M1(t,n,i,o){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Sr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function P1(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vt(t.nextSibling),t===null))return null;return t}function zp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vt(t.nextSibling),t===null))return null;return t}function fd(t){return t.data==="$?"||t.data==="$~"}function hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function z1(t,n){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var md=null;function $p(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(n===0)return Vt(t.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}t=t.nextSibling}return null}function Bp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return t;n--}else i!=="/$"&&i!=="/&"||n++}t=t.previousSibling}return null}function Hp(t,n,i){switch(n=to(i),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ii(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);gc(t)}var Gt=new Map,qp=new Set;function no(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var On=X.d;X.d={f:$1,r:B1,D:H1,C:q1,L:V1,m:G1,X:F1,S:K1,M:Y1};function $1(){var t=On.f(),n=Fl();return t||n}function B1(t){var n=us(t);n!==null&&n.tag===5&&n.type==="form"?i0(n):On.r(t)}var Hs=typeof document>"u"?null:document;function Vp(t,n,i){var o=Hs;if(o&&typeof n=="string"&&n){var f=Mt(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),qp.has(f)||(qp.add(f),t={rel:t,crossOrigin:i,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),ct(n,"link",t),nt(n),o.head.appendChild(n)))}}function H1(t){On.D(t),Vp("dns-prefetch",t,null)}function q1(t,n){On.C(t,n),Vp("preconnect",t,n)}function V1(t,n,i){On.L(t,n,i);var o=Hs;if(o&&t&&n){var f='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Mt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Mt(i.imageSizes)+'"]')):f+='[href="'+Mt(t)+'"]';var m=f;switch(n){case"style":m=qs(t);break;case"script":m=Vs(t)}Gt.has(m)||(t=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),Gt.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(li(m))||n==="script"&&o.querySelector(oi(m))||(n=o.createElement("link"),ct(n,"link",t),nt(n),o.head.appendChild(n)))}}function G1(t,n){On.m(t,n);var i=Hs;if(i&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Mt(o)+'"][href="'+Mt(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vs(t)}if(!Gt.has(m)&&(t=y({rel:"modulepreload",href:t},n),Gt.set(m,t),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(oi(m)))return}o=i.createElement("link"),ct(o,"link",t),nt(o),i.head.appendChild(o)}}}function K1(t,n,i){On.S(t,n,i);var o=Hs;if(o&&t){var f=ds(o).hoistableStyles,m=qs(t);n=n||"default";var b=f.get(m);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(li(m)))w.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},i),(i=Gt.get(m))&&pd(t,i);var E=b=o.createElement("link");nt(E),ct(E,"link",t),E._p=new Promise(function(z,V){E.onload=z,E.onerror=V}),E.addEventListener("load",function(){w.loading|=1}),E.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ao(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(m,b)}}}function F1(t,n){On.X(t,n);var i=Hs;if(i&&t){var o=ds(i).hoistableScripts,f=Vs(t),m=o.get(f);m||(m=i.querySelector(oi(f)),m||(t=y({src:t,async:!0},n),(n=Gt.get(f))&&gd(t,n),m=i.createElement("script"),nt(m),ct(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Y1(t,n){On.M(t,n);var i=Hs;if(i&&t){var o=ds(i).hoistableScripts,f=Vs(t),m=o.get(f);m||(m=i.querySelector(oi(f)),m||(t=y({src:t,async:!0,type:"module"},n),(n=Gt.get(f))&&gd(t,n),m=i.createElement("script"),nt(m),ct(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Gp(t,n,i,o){var f=(f=ge.current)?no(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=qs(i.href),i=ds(f).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=qs(i.href);var m=ds(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(li(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Gt.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Gt.set(t,i),m||J1(f,t,i,b.state))),n&&o===null)throw Error(s(528,""));return b}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vs(i),i=ds(f).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qs(t){return'href="'+Mt(t)+'"'}function li(t){return'link[rel="stylesheet"]['+t+"]"}function Kp(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function J1(t,n,i,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ct(n,"link",i),nt(n),t.head.appendChild(n))}function Vs(t){return'[src="'+Mt(t)+'"]'}function oi(t){return"script[async]"+t}function Fp(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Mt(i.href)+'"]');if(o)return n.instance=o,nt(o),o;var f=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),nt(o),ct(o,"style",f),ao(o,i.precedence,t),n.instance=o;case"stylesheet":f=qs(i.href);var m=t.querySelector(li(f));if(m)return n.state.loading|=4,n.instance=m,nt(m),m;o=Kp(i),(f=Gt.get(f))&&pd(o,f),m=(t.ownerDocument||t).createElement("link"),nt(m);var b=m;return b._p=new Promise(function(w,E){b.onload=w,b.onerror=E}),ct(m,"link",o),n.state.loading|=4,ao(m,i.precedence,t),n.instance=m;case"script":return m=Vs(i.src),(f=t.querySelector(oi(m)))?(n.instance=f,nt(f),f):(o=i,(f=Gt.get(m))&&(o=y({},i),gd(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),nt(f),ct(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ao(o,i.precedence,t));return n.instance}function ao(t,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===n)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var so=null;function Yp(t,n,i){if(so===null){var o=new Map,f=so=new Map;f.set(i,o)}else f=so,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var m=i[f];if(!(m[Sr]||m[rt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var w=o.get(b);w?w.push(m):o.set(b,[m])}}return o}function Jp(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function X1(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q1(t,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=qs(o.href),m=n.querySelector(li(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ro.bind(t),n.then(t,t)),i.state.loading|=4,i.instance=m,nt(m);return}m=n.ownerDocument||n,o=Kp(o),(f=Gt.get(f))&&pd(o,f),m=m.createElement("link"),nt(m);var b=m;b._p=new Promise(function(w,E){b.onload=w,b.onerror=E}),ct(m,"link",o),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ro.bind(t),n.addEventListener("load",i),n.addEventListener("error",i))}}var xd=0;function Z1(t,n){return t.stylesheets&&t.count===0&&lo(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&lo(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*O1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lo(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var io=null;function lo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,io=new Map,n.forEach(W1,t),io=null,ro.call(t))}function W1(t,n){if(!(n.state.loading&4)){var i=io.get(t);if(i)var o=i.get(null);else{i=new Map,io.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),o=b)}o&&i.set(null,o)}f=n.instance,b=f.getAttribute("data-precedence"),m=i.get(b)||o,m===o&&i.set(null,f),i.set(b,f),this.count++,o=ro.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var ci={$$typeof:S,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function e2(t,n,i,o,f,m,b,w,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.hiddenUpdates=fc(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qp(t,n,i,o,f,m,b,w,E,z,V,F){return t=new e2(t,n,i,b,E,z,V,F,w),n=1,m===!0&&(n|=24),m=Ct(3,null,null,n),t.current=m,m.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},eu(m),t}function Zp(t){return t?(t=ws,t):ws}function Wp(t,n,i,o,f,m){f=Zp(f),o.context===null?o.context=f:o.pendingContext=f,o=Wn(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=ea(t,o,n),i!==null&&(_t(i,t,n),Br(i,t,n))}function eg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function yd(t,n){eg(t,n),(t=t.alternate)&&eg(t,n)}function tg(t){if(t.tag===13||t.tag===31){var n=Ua(t,67108864);n!==null&&_t(n,t,67108864),yd(t,67108864)}}function ng(t){if(t.tag===13||t.tag===31){var n=It();n=hc(n);var i=Ua(t,n);i!==null&&_t(i,t,n),yd(t,n)}}var oo=!0;function t2(t,n,i,o){var f=q.T;q.T=null;var m=X.p;try{X.p=2,bd(t,n,i,o)}finally{X.p=m,q.T=f}}function n2(t,n,i,o){var f=q.T;q.T=null;var m=X.p;try{X.p=8,bd(t,n,i,o)}finally{X.p=m,q.T=f}}function bd(t,n,i,o){if(oo){var f=vd(o);if(f===null)rd(t,n,o,co,i),sg(t,o);else if(s2(f,t,n,i,o))o.stopPropagation();else if(sg(t,o),n&4&&-1<a2.indexOf(t)){for(;f!==null;){var m=us(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Ra(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var E=1<<31-Et(b);w.entanglements[1]|=E,b&=~E}sn(m),(Te&6)===0&&(Gl=St()+500,ai(0))}}break;case 31:case 13:w=Ua(m,2),w!==null&&_t(w,m,2),Fl(),yd(m,2)}if(m=vd(o),m===null&&rd(t,n,o,co,i),m===f)break;f=m}f!==null&&o.stopPropagation()}else rd(t,n,o,null,i)}}function vd(t){return t=_c(t),wd(t)}var co=null;function wd(t){if(co=null,t=cs(t),t!==null){var n=c(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=d(n),t!==null)return t;t=null}else if(i===31){if(t=h(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return co=t,null}function ag(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hv()){case dh:return 2;case fh:return 8;case Zi:case qv:return 32;case hh:return 268435456;default:return 32}default:return 32}}var _d=!1,da=null,fa=null,ha=null,ui=new Map,di=new Map,ma=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sg(t,n){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":ui.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(n.pointerId)}}function fi(t,n,i,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=us(n),n!==null&&tg(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function s2(t,n,i,o,f){switch(n){case"focusin":return da=fi(da,t,n,i,o,f),!0;case"dragenter":return fa=fi(fa,t,n,i,o,f),!0;case"mouseover":return ha=fi(ha,t,n,i,o,f),!0;case"pointerover":var m=f.pointerId;return ui.set(m,fi(ui.get(m)||null,t,n,i,o,f)),!0;case"gotpointercapture":return m=f.pointerId,di.set(m,fi(di.get(m)||null,t,n,i,o,f)),!0}return!1}function rg(t){var n=cs(t.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){t.blockedOn=n,bh(t.priority,function(){ng(i)});return}}else if(n===31){if(n=h(i),n!==null){t.blockedOn=n,bh(t.priority,function(){ng(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=vd(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);wc=o,i.target.dispatchEvent(o),wc=null}else return n=us(i),n!==null&&tg(n),t.blockedOn=i,!1;n.shift()}return!0}function ig(t,n,i){uo(t)&&i.delete(n)}function r2(){_d=!1,da!==null&&uo(da)&&(da=null),fa!==null&&uo(fa)&&(fa=null),ha!==null&&uo(ha)&&(ha=null),ui.forEach(ig),di.forEach(ig)}function fo(t,n){t.blockedOn===n&&(t.blockedOn=null,_d||(_d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r2)))}var ho=null;function lg(t){ho!==t&&(ho=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ho===t&&(ho=null);for(var n=0;n<t.length;n+=3){var i=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(wd(o||i)===null)continue;break}var m=us(i);m!==null&&(t.splice(n,3),n-=3,vu(m,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Gs(t){function n(E){return fo(E,t)}da!==null&&fo(da,t),fa!==null&&fo(fa,t),ha!==null&&fo(ha,t),ui.forEach(n),di.forEach(n);for(var i=0;i<ma.length;i++){var o=ma[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ma.length&&(i=ma[0],i.blockedOn===null);)rg(i),i.blockedOn===null&&ma.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],m=i[o+1],b=f[gt]||null;if(typeof m=="function")b||lg(i);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[gt]||null)w=b.formAction;else if(wd(f)!==null)continue}else w=b.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),lg(i)}}}function og(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function jd(t){this._internalRoot=t}mo.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=It();Wp(i,o,t,n,null,null)},mo.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Wp(t.current,2,null,t,null,null),Fl(),n[os]=null}};function mo(t){this._internalRoot=t}mo.prototype.unstable_scheduleHydration=function(t){if(t){var n=yh();t={blockedOn:null,target:t,priority:n};for(var i=0;i<ma.length&&n!==0&&n<ma[i].priority;i++);ma.splice(i,0,t),i===0&&rg(t)}};var cg=e.version;if(cg!=="19.2.0")throw Error(s(527,cg,"19.2.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var i2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{wr=po.inject(i2),Nt=po}catch{}}return pi.createRoot=function(t,n){if(!l(t))throw Error(s(299));var i=!1,o="",f=g0,m=x0,b=y0;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Qp(t,1,!1,null,null,i,o,null,f,m,b,og),t[os]=n.current,sd(t),new jd(n)},pi.hydrateRoot=function(t,n,i){if(!l(t))throw Error(s(299));var o=!1,f="",m=g0,b=x0,w=y0,E=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(E=i.formState)),n=Qp(t,1,!0,n,i??null,o,f,E,m,b,w,og),n.context=Zp(null),i=n.current,o=It(),o=hc(o),f=Wn(o),f.callback=null,ea(i,f,o),i=o,n.current.lanes=i,jr(n,i),sn(n),t[os]=n.current,sd(t),new mo(n)},pi.version="19.2.0",pi}var Pg;function o_(){if(Pg)return Cd.exports;Pg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cd.exports=l_(),Cd.exports}var c_=o_();var zg="popstate";function u_(r={}){function e(s,l){let{pathname:c,search:d,hash:h}=s.location;return lf("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(s,l){return typeof l=="string"?l:Ii(l)}return f_(e,a,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d_(){return Math.random().toString(36).substring(2,10)}function $g(r,e){return{usr:r.state,key:r.key,idx:e}}function lf(r,e,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bi(e):e,state:a,key:e&&e.key||s||d_()}}function Ii({pathname:r="/",search:e="",hash:a=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Bi(r){let e={};if(r){let a=r.indexOf("#");a>=0&&(e.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function f_(r,e,a,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,d=l.history,h="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){h="POP";let L=x(),I=L==null?null:L-g;g=L,p&&p({action:h,location:T.location,delta:I})}function v(L,I){h="PUSH";let k=lf(T.location,L,I);g=x()+1;let S=$g(k,g),$=T.createHref(k);try{d.pushState(S,"",$)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign($)}c&&p&&p({action:h,location:T.location,delta:1})}function _(L,I){h="REPLACE";let k=lf(T.location,L,I);g=x();let S=$g(k,g),$=T.createHref(k);d.replaceState(S,"",$),c&&p&&p({action:h,location:T.location,delta:0})}function j(L){return h_(L)}let T={get action(){return h},get location(){return r(l,d)},listen(L){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(zg,y),p=L,()=>{l.removeEventListener(zg,y),p=null}},createHref(L){return e(l,L)},createURL:j,encodeLocation(L){let I=j(L);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:_,go(L){return d.go(L)}};return T}function h_(r,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),tt(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ii(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function xy(r,e,a="/"){return m_(r,e,a,!1)}function m_(r,e,a,s){let l=typeof e=="string"?Bi(e):e,c=Pn(l.pathname||"/",a);if(c==null)return null;let d=yy(r);p_(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=E_(c);h=S_(d[p],g,s)}return h}function yy(r,e=[],a=[],s="",l=!1){let c=(d,h,p=l,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;tt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let y=Mn([s,x.relativePath]),v=a.concat(x);d.children&&d.children.length>0&&(tt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yy(d.children,e,v,y,p)),!(d.path==null&&!d.index)&&e.push({path:y,score:__(y,d.index),routesMeta:v})};return r.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))c(d,h);else for(let p of by(d.path))c(d,h,!0,p)}),e}function by(r){let e=r.split("/");if(e.length===0)return[];let[a,...s]=e,l=a.endsWith("?"),c=a.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let d=by(s.join("/")),h=[];return h.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&h.push(...d),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function p_(r){r.sort((e,a)=>e.score!==a.score?a.score-e.score:j_(e.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var g_=/^:[\w-]+$/,x_=3,y_=2,b_=1,v_=10,w_=-2,Bg=r=>r==="*";function __(r,e){let a=r.split("/"),s=a.length;return a.some(Bg)&&(s+=w_),e&&(s+=y_),a.filter(l=>!Bg(l)).reduce((l,c)=>l+(g_.test(c)?x_:c===""?b_:v_),s)}function j_(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function S_(r,e,a=!1){let{routesMeta:s}=r,l={},c="/",d=[];for(let h=0;h<s.length;++h){let p=s[h],g=h===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",y=Do({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),v=p.route;if(!y&&g&&a&&!s[s.length-1].route.index&&(y=Do({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:Mn([c,y.pathname]),pathnameBase:R_(Mn([c,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(c=Mn([c,y.pathnameBase]))}return d}function Do(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=N_(r.path,r.caseSensitive,r.end),l=e.match(a);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:y},v)=>{if(x==="*"){let j=h[v]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const _=h[v];return y&&!_?g[x]=void 0:g[x]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:r}}function N_(r,e=!1,a=!0){Kt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function E_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Pn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}var T_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C_=r=>T_.test(r);function A_(r,e="/"){let{pathname:a,search:s="",hash:l=""}=typeof r=="string"?Bi(r):r,c;if(a)if(C_(a))c=a;else{if(a.includes("//")){let d=a;a=a.replace(/\/\/+/g,"/"),Kt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${a}`)}a.startsWith("/")?c=Hg(a.substring(1),"/"):c=Hg(a,e)}else c=e;return{pathname:c,search:O_(s),hash:I_(l)}}function Hg(r,e){let a=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Od(r,e,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k_(r){return r.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function vy(r){let e=k_(r);return e.map((a,s)=>s===e.length-1?a.pathname:a.pathnameBase)}function wy(r,e,a,s=!1){let l;typeof r=="string"?l=Bi(r):(l={...r},tt(!l.pathname||!l.pathname.includes("?"),Od("?","pathname","search",l)),tt(!l.pathname||!l.pathname.includes("#"),Od("#","pathname","hash",l)),tt(!l.search||!l.search.includes("#"),Od("#","search","hash",l)));let c=r===""||l.pathname==="",d=c?"/":l.pathname,h;if(d==null)h=a;else{let y=e.length-1;if(!s&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;l.pathname=v.join("/")}h=y>=0?e[y]:"/"}let p=A_(l,h),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Mn=r=>r.join("/").replace(/\/\/+/g,"/"),R_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),O_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,I_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function D_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _y=["POST","PUT","PATCH","DELETE"];new Set(_y);var L_=["GET",..._y];new Set(L_);var gr=N.createContext(null);gr.displayName="DataRouter";var Xo=N.createContext(null);Xo.displayName="DataRouterState";N.createContext(!1);var jy=N.createContext({isTransitioning:!1});jy.displayName="ViewTransition";var U_=N.createContext(new Map);U_.displayName="Fetchers";var M_=N.createContext(null);M_.displayName="Await";var dn=N.createContext(null);dn.displayName="Navigation";var Qo=N.createContext(null);Qo.displayName="Location";var qn=N.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var If=N.createContext(null);If.displayName="RouteError";function P_(r,{relative:e}={}){tt(Hi(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=N.useContext(dn),{hash:l,pathname:c,search:d}=qi(r,{relative:e}),h=c;return a!=="/"&&(h=c==="/"?a:Mn([a,c])),s.createHref({pathname:h,search:d,hash:l})}function Hi(){return N.useContext(Qo)!=null}function fn(){return tt(Hi(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Qo).location}var Sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ny(r){N.useContext(dn).static||N.useLayoutEffect(r)}function ze(){let{isDataRoute:r}=N.useContext(qn);return r?Q_():z_()}function z_(){tt(Hi(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(gr),{basename:e,navigator:a}=N.useContext(dn),{matches:s}=N.useContext(qn),{pathname:l}=fn(),c=JSON.stringify(vy(s)),d=N.useRef(!1);return Ny(()=>{d.current=!0}),N.useCallback((p,g={})=>{if(Kt(d.current,Sy),!d.current)return;if(typeof p=="number"){a.go(p);return}let x=wy(p,JSON.parse(c),l,g.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Mn([e,x.pathname])),(g.replace?a.replace:a.push)(x,g.state,g)},[e,a,c,l,r])}N.createContext(null);function qi(r,{relative:e}={}){let{matches:a}=N.useContext(qn),{pathname:s}=fn(),l=JSON.stringify(vy(a));return N.useMemo(()=>wy(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function $_(r,e){return Ey(r)}function Ey(r,e,a,s,l){tt(Hi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=N.useContext(dn),{matches:d}=N.useContext(qn),h=d[d.length-1],p=h?h.params:{},g=h?h.pathname:"/",x=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";Ty(g,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=fn(),_;_=v;let j=_.pathname||"/",T=j;if(x!=="/"){let k=x.replace(/^\//,"").split("/");T="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let L=xy(r,{pathname:T});return Kt(y||L!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Kt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),G_(L&&L.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:Mn([x,c.encodeLocation?c.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:Mn([x,c.encodeLocation?c.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),d,a,s,l)}function B_(){let r=X_(),e=D_(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:c},"ErrorBoundary")," or"," ",N.createElement("code",{style:c},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),a?N.createElement("pre",{style:l},a):null,d)}var H_=N.createElement(B_,null),q_=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(qn.Provider,{value:this.props.routeContext},N.createElement(If.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V_({routeContext:r,match:e,children:a}){let s=N.useContext(gr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(qn.Provider,{value:r},a)}function G_(r,e=[],a=null,s=null,l=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let c=r,d=a?.errors;if(d!=null){let x=c.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);tt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let h=!1,p=-1;if(a)for(let x=0;x<c.length;x++){let y=c[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:v,errors:_}=a,j=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||j){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=a&&s?(x,y)=>{s(x,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:y})}:void 0;return c.reduceRight((x,y,v)=>{let _,j=!1,T=null,L=null;a&&(_=d&&y.route.id?d[y.route.id]:void 0,T=y.route.errorElement||H_,h&&(p<0&&v===0?(Ty("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,L=null):p===v&&(j=!0,L=y.route.hydrateFallbackElement||null)));let I=e.concat(c.slice(0,v+1)),k=()=>{let S;return _?S=T:j?S=L:y.route.Component?S=N.createElement(y.route.Component,null):y.route.element?S=y.route.element:S=x,N.createElement(V_,{match:y,routeContext:{outlet:x,matches:I,isDataRoute:a!=null},children:S})};return a&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?N.createElement(q_,{location:a.location,revalidation:a.revalidation,component:T,error:_,children:k(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):k()},null)}function Df(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(r){let e=N.useContext(gr);return tt(e,Df(r)),e}function F_(r){let e=N.useContext(Xo);return tt(e,Df(r)),e}function Y_(r){let e=N.useContext(qn);return tt(e,Df(r)),e}function Lf(r){let e=Y_(r),a=e.matches[e.matches.length-1];return tt(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function J_(){return Lf("useRouteId")}function X_(){let r=N.useContext(If),e=F_("useRouteError"),a=Lf("useRouteError");return r!==void 0?r:e.errors?.[a]}function Q_(){let{router:r}=K_("useNavigate"),e=Lf("useNavigate"),a=N.useRef(!1);return Ny(()=>{a.current=!0}),N.useCallback(async(l,c={})=>{Kt(a.current,Sy),a.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...c}))},[r,e])}var qg={};function Ty(r,e,a){!e&&!qg[r]&&(qg[r]=!0,Kt(!1,a))}N.memo(Z_);function Z_({routes:r,future:e,state:a,unstable_onError:s}){return Ey(r,void 0,a,s,e)}function W_({basename:r="/",children:e=null,location:a,navigationType:s="POP",navigator:l,static:c=!1}){tt(!Hi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof a=="string"&&(a=Bi(a));let{pathname:p="/",search:g="",hash:x="",state:y=null,key:v="default"}=a,_=N.useMemo(()=>{let j=Pn(p,d);return j==null?null:{location:{pathname:j,search:g,hash:x,state:y,key:v},navigationType:s}},[d,p,g,x,y,v,s]);return Kt(_!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(dn.Provider,{value:h},N.createElement(Qo.Provider,{children:e,value:_}))}var No="get",Eo="application/x-www-form-urlencoded";function Zo(r){return r!=null&&typeof r.tagName=="string"}function ej(r){return Zo(r)&&r.tagName.toLowerCase()==="button"}function tj(r){return Zo(r)&&r.tagName.toLowerCase()==="form"}function nj(r){return Zo(r)&&r.tagName.toLowerCase()==="input"}function aj(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sj(r,e){return r.button===0&&(!e||e==="_self")&&!aj(r)}function of(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,a)=>{let s=r[a];return e.concat(Array.isArray(s)?s.map(l=>[a,l]):[[a,s]])},[]))}function rj(r,e){let a=of(r);return e&&e.forEach((s,l)=>{a.has(l)||e.getAll(l).forEach(c=>{a.append(l,c)})}),a}var xo=null;function ij(){if(xo===null)try{new FormData(document.createElement("form"),0),xo=!1}catch{xo=!0}return xo}var lj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(r){return r!=null&&!lj.has(r)?(Kt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eo}"`),null):r}function oj(r,e){let a,s,l,c,d;if(tj(r)){let h=r.getAttribute("action");s=h?Pn(h,e):null,a=r.getAttribute("method")||No,l=Id(r.getAttribute("enctype"))||Eo,c=new FormData(r)}else if(ej(r)||nj(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(s=p?Pn(p,e):null,a=r.getAttribute("formmethod")||h.getAttribute("method")||No,l=Id(r.getAttribute("formenctype"))||Id(h.getAttribute("enctype"))||Eo,c=new FormData(h,r),!ij()){let{name:g,type:x,value:y}=r;if(x==="image"){let v=g?`${g}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else g&&c.append(g,y)}}else{if(Zo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=No,s=null,l=Eo,d=r}return c&&l==="text/plain"&&(d=c,c=void 0),{action:s,method:a.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cj(r,e,a){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${a}`:e&&Pn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function uj(r,e){if(r.id in e)return e[r.id];try{let a=await import(r.module);return e[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dj(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fj(r,e,a){let s=await Promise.all(r.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await uj(c,a);return d.links?d.links():[]}return[]}));return gj(s.flat(1).filter(dj).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Vg(r,e,a,s,l,c){let d=(p,g)=>a[g]?p.route.id!==a[g].route.id:!0,h=(p,g)=>a[g].pathname!==p.pathname||a[g].route.path?.endsWith("*")&&a[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>d(p,g)||h(p,g)):c==="data"?e.filter((p,g)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function hj(r,e,{includeHydrateFallback:a}={}){return mj(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function mj(r){return[...new Set(r)]}function pj(r){let e={},a=Object.keys(r).sort();for(let s of a)e[s]=r[s];return e}function gj(r,e){let a=new Set;return new Set(e),r.reduce((s,l)=>{let c=JSON.stringify(pj(l));return a.has(c)||(a.add(c),s.push({key:c,link:l})),s},[])}function Cy(){let r=N.useContext(gr);return Uf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xj(){let r=N.useContext(Xo);return Uf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mf=N.createContext(void 0);Mf.displayName="FrameworkContext";function Ay(){let r=N.useContext(Mf);return Uf(r,"You must render this element inside a <HydratedRouter> element"),r}function yj(r,e){let a=N.useContext(Mf),[s,l]=N.useState(!1),[c,d]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=e,v=N.useRef(null);N.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let T=I=>{I.forEach(k=>{d(k.isIntersecting)})},L=new IntersectionObserver(T,{threshold:.5});return v.current&&L.observe(v.current),()=>{L.disconnect()}}},[r]),N.useEffect(()=>{if(s){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[s]);let _=()=>{l(!0)},j=()=>{l(!1),d(!1)};return a?r!=="intent"?[c,v,{}]:[c,v,{onFocus:gi(h,_),onBlur:gi(p,j),onMouseEnter:gi(g,_),onMouseLeave:gi(x,j),onTouchStart:gi(y,_)}]:[!1,v,{}]}function gi(r,e){return a=>{r&&r(a),a.defaultPrevented||e(a)}}function bj({page:r,...e}){let{router:a}=Cy(),s=N.useMemo(()=>xy(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?N.createElement(wj,{page:r,matches:s,...e}):null}function vj(r){let{manifest:e,routeModules:a}=Ay(),[s,l]=N.useState([]);return N.useEffect(()=>{let c=!1;return fj(r,e,a).then(d=>{c||l(d)}),()=>{c=!0}},[r,e,a]),s}function wj({page:r,matches:e,...a}){let s=fn(),{manifest:l,routeModules:c}=Ay(),{basename:d}=Cy(),{loaderData:h,matches:p}=xj(),g=N.useMemo(()=>Vg(r,e,p,l,s,"data"),[r,e,p,l,s]),x=N.useMemo(()=>Vg(r,e,p,l,s,"assets"),[r,e,p,l,s]),y=N.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,T=!1;if(e.forEach(I=>{let k=l.routes[I.route.id];!k||!k.hasLoader||(!g.some(S=>S.route.id===I.route.id)&&I.route.id in h&&c[I.route.id]?.shouldRevalidate||k.hasClientLoader?T=!0:j.add(I.route.id))}),j.size===0)return[];let L=cj(r,d,"data");return T&&j.size>0&&L.searchParams.set("_routes",e.filter(I=>j.has(I.route.id)).map(I=>I.route.id).join(",")),[L.pathname+L.search]},[d,h,s,l,g,e,r,c]),v=N.useMemo(()=>hj(x,l),[x,l]),_=vj(x);return N.createElement(N.Fragment,null,y.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...a})),v.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...a})),_.map(({key:j,link:T})=>N.createElement("link",{key:j,nonce:a.nonce,...T})))}function _j(...r){return e=>{r.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var ky=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ky&&(window.__reactRouterVersion="7.9.6")}catch{}function jj({basename:r,children:e,window:a}){let s=N.useRef();s.current==null&&(s.current=u_({window:a,v5Compat:!0}));let l=s.current,[c,d]=N.useState({action:l.action,location:l.location}),h=N.useCallback(p=>{N.startTransition(()=>d(p))},[d]);return N.useLayoutEffect(()=>l.listen(h),[l,h]),N.createElement(W_,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l})}var Ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oy=N.forwardRef(function({onClick:e,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:d,state:h,target:p,to:g,preventScrollReset:x,viewTransition:y,...v},_){let{basename:j}=N.useContext(dn),T=typeof g=="string"&&Ry.test(g),L,I=!1;if(typeof g=="string"&&T&&(L=g,ky))try{let D=new URL(window.location.href),J=g.startsWith("//")?new URL(D.protocol+g):new URL(g),te=Pn(J.pathname,j);J.origin===D.origin&&te!=null?g=te+J.search+J.hash:I=!0}catch{Kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=P_(g,{relative:l}),[S,$,Y]=yj(s,v),M=Tj(g,{replace:d,state:h,target:p,preventScrollReset:x,relative:l,viewTransition:y});function R(D){e&&e(D),D.defaultPrevented||M(D)}let U=N.createElement("a",{...v,...Y,href:L||k,onClick:I||c?e:R,ref:_j(_,$),target:p,"data-discover":!T&&a==="render"?"true":void 0});return S&&!T?N.createElement(N.Fragment,null,U,N.createElement(bj,{page:k})):U});Oy.displayName="Link";var Sj=N.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:s="",end:l=!1,style:c,to:d,viewTransition:h,children:p,...g},x){let y=qi(d,{relative:g.relative}),v=fn(),_=N.useContext(Xo),{navigator:j,basename:T}=N.useContext(dn),L=_!=null&&Oj(y)&&h===!0,I=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,k=v.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;a||(k=k.toLowerCase(),S=S?S.toLowerCase():null,I=I.toLowerCase()),S&&T&&(S=Pn(S,T)||S);const $=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let Y=k===I||!l&&k.startsWith(I)&&k.charAt($)==="/",M=S!=null&&(S===I||!l&&S.startsWith(I)&&S.charAt(I.length)==="/"),R={isActive:Y,isPending:M,isTransitioning:L},U=Y?e:void 0,D;typeof s=="function"?D=s(R):D=[s,Y?"active":null,M?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let J=typeof c=="function"?c(R):c;return N.createElement(Oy,{...g,"aria-current":U,className:D,ref:x,style:J,to:d,viewTransition:h},typeof p=="function"?p(R):p)});Sj.displayName="NavLink";var Nj=N.forwardRef(({discover:r="render",fetcherKey:e,navigate:a,reloadDocument:s,replace:l,state:c,method:d=No,action:h,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,...v},_)=>{let j=kj(),T=Rj(h,{relative:g}),L=d.toLowerCase()==="get"?"get":"post",I=typeof h=="string"&&Ry.test(h),k=S=>{if(p&&p(S),S.defaultPrevented)return;S.preventDefault();let $=S.nativeEvent.submitter,Y=$?.getAttribute("formmethod")||d;j($||S.currentTarget,{fetcherKey:e,method:Y,navigate:a,replace:l,state:c,relative:g,preventScrollReset:x,viewTransition:y})};return N.createElement("form",{ref:_,method:L,action:T,onSubmit:s?p:k,...v,"data-discover":!I&&r==="render"?"true":void 0})});Nj.displayName="Form";function Ej(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iy(r){let e=N.useContext(gr);return tt(e,Ej(r)),e}function Tj(r,{target:e,replace:a,state:s,preventScrollReset:l,relative:c,viewTransition:d}={}){let h=ze(),p=fn(),g=qi(r,{relative:c});return N.useCallback(x=>{if(sj(x,e)){x.preventDefault();let y=a!==void 0?a:Ii(p)===Ii(g);h(r,{replace:y,state:s,preventScrollReset:l,relative:c,viewTransition:d})}},[p,h,g,a,s,e,r,l,c,d])}function Dy(r){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef(of(r)),a=N.useRef(!1),s=fn(),l=N.useMemo(()=>rj(s.search,a.current?null:e.current),[s.search]),c=ze(),d=N.useCallback((h,p)=>{const g=of(typeof h=="function"?h(new URLSearchParams(l)):h);a.current=!0,c("?"+g,p)},[c,l]);return[l,d]}var Cj=0,Aj=()=>`__${String(++Cj)}__`;function kj(){let{router:r}=Iy("useSubmit"),{basename:e}=N.useContext(dn),a=J_();return N.useCallback(async(s,l={})=>{let{action:c,method:d,encType:h,formData:p,body:g}=oj(s,e);if(l.navigate===!1){let x=l.fetcherKey||Aj();await r.fetch(x,a,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await r.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,a])}function Rj(r,{relative:e}={}){let{basename:a}=N.useContext(dn),s=N.useContext(qn);tt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...qi(r||".",{relative:e})},d=fn();if(r==null){c.search=d.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(x=>x==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let x=h.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Mn([a,c.pathname])),Ii(c)}function Oj(r,{relative:e}={}){let a=N.useContext(jy);tt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iy("useViewTransitionState"),l=qi(r,{relative:e});if(!a.isTransitioning)return!1;let c=Pn(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=Pn(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Do(l.pathname,d)!=null||Do(l.pathname,c)!=null}function Ij(){return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[u.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),u.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),u.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const Dj="modulepreload",Lj=function(r){return"/"+r},Gg={},Vi=function(e,a,s){let l=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var d=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=g(a.map(x=>{if(x=Lj(x),x in Gg)return;Gg[x]=!0;const y=x.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":Dj,y||(_.as="script"),_.crossOrigin="",_.href=x,p&&_.setAttribute("nonce",p),document.head.appendChild(_),y)return new Promise((j,T)=>{_.addEventListener("load",j),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})},Uj=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...a)=>Vi(async()=>{const{default:s}=await Promise.resolve().then(()=>xr);return{default:s}},[]).then(({default:s})=>s(...a)):e=fetch,(...a)=>e(...a)};class Pf extends Error{constructor(e,a="FunctionsError",s){super(e),this.name=a,this.context=s}}class Mj extends Pf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kg extends Pf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fg extends Pf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(cf||(cf={}));var Pj=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};class zj{constructor(e,{headers:a={},customFetch:s,region:l=cf.Any}={}){this.url=e,this.headers=a,this.region=l,this.fetch=Uj(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,a={}){var s;return Pj(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:d}=a;let h={},{region:p}=a;p||(p=this.region);const g=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(h["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(h["Content-Type"]="application/json",x=JSON.stringify(d)));const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:x}).catch(T=>{throw new Mj(T)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new Kg(y);if(!y.ok)throw new Fg(y);let _=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield y.json():_==="application/octet-stream"?j=yield y.blob():_==="text/event-stream"?j=y:_==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Fg||l instanceof Kg?l.context:void 0}}})}}var st={},Js={},Xs={},Qs={},Zs={},Ws={},$j=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=$j();const Bj=mr.fetch,Ly=mr.fetch.bind(mr),Uy=mr.Headers,Hj=mr.Request,qj=mr.Response,xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uy,Request:Hj,Response:qj,default:Ly,fetch:Bj},Symbol.toStringTag,{value:"Module"})),Vj=c2(xr);var yo={},Yg;function My(){if(Yg)return yo;Yg=1,Object.defineProperty(yo,"__esModule",{value:!0});class r extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return yo.default=r,yo}var Jg;function Py(){if(Jg)return Ws;Jg=1;var r=Ws&&Ws.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ws,"__esModule",{value:!0});const e=r(Vj),a=r(My());class s{constructor(c){var d,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,y,v,_;let j=null,T=null,L=null,I=g.status,k=g.statusText;if(g.ok){if(this.method!=="HEAD"){const M=await g.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?T=M:T=JSON.parse(M))}const $=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),Y=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");$&&Y&&Y.length>1&&(L=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(j={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,L=null,I=406,k="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const $=await g.text();try{j=JSON.parse($),Array.isArray(j)&&g.status===404&&(T=[],j=null,I=200,k="OK")}catch{g.status===404&&$===""?(I=204,k="No Content"):j={message:$}}if(j&&this.isMaybeSingle&&(!((_=j?.details)===null||_===void 0)&&_.includes("0 rows"))&&(j=null,I=200,k="OK"),j&&this.shouldThrowOnError)throw new a.default(j)}return{error:j,data:T,count:L,status:I,statusText:k}});return this.shouldThrowOnError||(p=p.catch(g=>{var x,y,v;return{error:{message:`${(x=g?.name)!==null&&x!==void 0?x:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=g?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return Ws.default=s,Ws}var Xg;function zy(){if(Xg)return Zs;Xg=1;var r=Zs&&Zs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zs,"__esModule",{value:!0});const e=r(Py());class a extends e.default{select(l){let c=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:d,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${l}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,c,{foreignTable:d,referencedTable:h=d}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(g,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:d=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var x;const y=[l?"analyze":null,c?"verbose":null,d?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${v}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Zs.default=a,Zs}var Qg;function zf(){if(Qg)return Qs;Qg=1;var r=Qs&&Qs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qs,"__esModule",{value:!0});const e=r(zy());class a extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Qs.default=a,Qs}var Zg;function $y(){if(Zg)return Xs;Zg=1;var r=Xs&&Xs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xs,"__esModule",{value:!0});const e=r(zf());class a{constructor(l,{headers:c={},schema:d,fetch:h}){this.url=l,this.headers=new Headers(c),this.schema=d,this.fetch=h}select(l,{head:c=!1,count:d}={}){const h=c?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:d=!0}={}){var h;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:d=!1,count:h,defaultToNull:p=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:c}={}){var d;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var c;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Xs.default=a,Xs}var Wg;function Gj(){if(Wg)return Js;Wg=1;var r=Js&&Js.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Js,"__esModule",{value:!0});const e=r($y()),a=r(zf());class s{constructor(c,{headers:d={},schema:h,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=h,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:h=!1,get:p=!1,count:g}={}){var x;let y;const v=new URL(`${this.url}/rpc/${c}`);let _;h||p?(y=h?"HEAD":"GET",Object.entries(d).filter(([T,L])=>L!==void 0).map(([T,L])=>[T,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([T,L])=>{v.searchParams.append(T,L)})):(y="POST",_=d);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new a.default({method:y,url:v,headers:j,schema:this.schemaName,body:_,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Js.default=s,Js}var ex;function Kj(){if(ex)return st;ex=1;var r=st&&st.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const e=r(Gj());st.PostgrestClient=e.default;const a=r($y());st.PostgrestQueryBuilder=a.default;const s=r(zf());st.PostgrestFilterBuilder=s.default;const l=r(zy());st.PostgrestTransformBuilder=l.default;const c=r(Py());st.PostgrestBuilder=c.default;const d=r(My());return st.PostgrestError=d.default,st.default={PostgrestClient:e.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:d.default},st}var Fj=Kj();const Yj=o2(Fj),{PostgrestClient:Jj,PostgrestQueryBuilder:x4,PostgrestFilterBuilder:y4,PostgrestTransformBuilder:b4,PostgrestBuilder:v4,PostgrestError:w4}=Yj;class Xj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const s=a.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let a=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(a+=`

Suggested solution: ${e.workaround}`),new Error(a)}static createWebSocket(e,a){const s=this.getWebSocketConstructor();return new s(e,a)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qj="2.15.5",Zj=`realtime-js/${Qj}`,Wj="1.0.0",uf=1e4,eS=1e3,tS=100;var ji;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ji||(ji={}));var We;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(We||(We={}));var Qt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Qt||(Qt={}));var df;(function(r){r.websocket="websocket"})(df||(df={}));var Wa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Wa||(Wa={}));class nS{constructor(){this.HEADER_LENGTH=1}decode(e,a){return e.constructor===ArrayBuffer?a(this._binaryDecode(e)):a(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const a=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,a,s)}_decodeBroadcast(e,a,s){const l=a.getUint8(1),c=a.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(e.slice(d,d+l));d=d+l;const p=s.decode(e.slice(d,d+c));d=d+c;const g=JSON.parse(s.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class By{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const tx=(r,e,a={})=>{var s;const l=(s=a.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((c,d)=>(c[d]=aS(d,r,e,l),c),{})},aS=(r,e,a,s)=>{const l=e.find(h=>h.name===r),c=l?.type,d=a[r];return c&&!s.includes(c)?Hy(c,d):ff(d)},Hy=(r,e)=>{if(r.charAt(0)==="_"){const a=r.slice(1,r.length);return lS(e,a)}switch(r){case Ue.bool:return sS(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return rS(e);case Ue.json:case Ue.jsonb:return iS(e);case Ue.timestamp:return oS(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return ff(e);default:return ff(e)}},ff=r=>r,sS=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},rS=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},iS=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},lS=(r,e)=>{if(typeof r!="string")return r;const a=r.length-1,s=r[a];if(r[0]==="{"&&s==="}"){let c;const d=r.slice(1,a);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>Hy(e,h))}return r},oS=r=>typeof r=="string"?r.replace(" ","T"):r,qy=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Dd{constructor(e,a,s={},l=uf){this.channel=e,this.event=a,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var s;return this._hasReceived(e)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nx;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(nx||(nx={}));class Si{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Si.syncState(this.state,l,c,d),this.pendingDiffs.forEach(p=>{this.state=Si.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Si.syncDiff(this.state,l,c,d),h())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,s,l){const c=this.cloneDeep(e),d=this.transformState(a),h={},p={};return this.map(c,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const y=c[g];if(y){const v=x.map(L=>L.presence_ref),_=y.map(L=>L.presence_ref),j=x.filter(L=>_.indexOf(L.presence_ref)<0),T=y.filter(L=>v.indexOf(L.presence_ref)<0);j.length>0&&(h[g]=j),T.length>0&&(p[g]=T)}else h[g]=x}),this.syncDiff(c,{joins:h,leaves:p},s,l)}static syncDiff(e,a,s,l){const{joins:c,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(c,(h,p)=>{var g;const x=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),x.length>0){const y=e[h].map(_=>_.presence_ref),v=x.filter(_=>y.indexOf(_.presence_ref)<0);e[h].unshift(...v)}s(h,x,p)}),this.map(d,(h,p)=>{let g=e[h];if(!g)return;const x=p.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),e[h]=g,l(h,g,p),g.length===0&&delete e[h]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(s=>a(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,s)=>{const l=e[s];return"metas"in l?a[s]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[s]=l,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ax;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ax||(ax={}));var Ni;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ni||(Ni={}));var Dn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class $f{constructor(e,a={config:{}},s){this.topic=e,this.params=a,this.socket=s,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Dd(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new By(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Si(this),this.broadcastEndpointURL=qy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,a=this.timeout){var s,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:d,presence:h,private:p}}=this.params,g=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&l!==void 0?l:[],x=!!this.bindings[Ni.PRESENCE]&&this.bindings[Ni.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},v={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(Dn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket.setAuth(),_===void 0){e?.(Dn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,L=(j=T?.length)!==null&&j!==void 0?j:0,I=[];for(let k=0;k<L;k++){const S=T[k],{filter:{event:$,schema:Y,table:M,filter:R}}=S,U=_&&_[k];if(U&&U.event===$&&U.schema===Y&&U.table===M&&U.filter===R)I.push(Object.assign(Object.assign({},S),{id:U.id}));else{this.unsubscribe(),this.state=We.errored,e?.(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(Dn.SUBSCRIBED);return}}).receive("error",_=>{this.state=We.errored,e?.(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,s){return this.state===We.joined&&e===Ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,a,s)}async send(e,a={}){var s,l;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,p;const g=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=We.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Dd(this,Qt.leave,{},e),s.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(e,a,s){const l=new AbortController,c=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(c),d}_push(e,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Dd(this,e,a,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tS){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(e,a,s){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,s){var l,c;const d=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:x}=Qt;if(s&&[h,p,g,x].indexOf(d)>=0&&s!==this._joinRef())return;let v=this._onMessage(d,a,s);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var j,T,L;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((L=(T=_.filter)===null||T===void 0?void 0:T.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===d}).map(_=>_.callback(v,s)):(c=this.bindings[d])===null||c===void 0||c.filter(_=>{var j,T,L,I,k,S;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const $=_.id,Y=(j=_.filter)===null||j===void 0?void 0:j.event;return $&&((T=a.ids)===null||T===void 0?void 0:T.includes($))&&(Y==="*"||Y?.toLocaleLowerCase()===((L=a.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const $=(k=(I=_?.filter)===null||I===void 0?void 0:I.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return $==="*"||$===((S=a?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:T,table:L,commit_timestamp:I,type:k,errors:S}=j;v=Object.assign(Object.assign({},{schema:T,table:L,commit_timestamp:I,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(j))}_.callback(v,s)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,s){const l=e.toLocaleLowerCase(),c={type:l,filter:a,callback:s};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,a){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&$f.isEqual(l.filter,a))})),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=tx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=tx(e.columns,e.old_record)),a}}const Ld=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cS=[1e3,2e3,5e3,1e4],uS=1e4,dS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fS{constructor(e,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uf,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ld,this.ref=0,this.reconnectTimer=null,this.logger=Ld,this.conn=null,this.sendBuffer=[],this.serializer=new nS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>Vi(async()=>{const{default:h}=await Promise.resolve().then(()=>xr);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((s=a?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${e}/${df.websocket}`,this.httpEndpoint=qy(e),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const a=e.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wj}))}disconnect(e,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,a,s){this.logger(e,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return Wa.Connecting;case ji.open:return Wa.Open;case ji.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,a={config:{}}){const s=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===s);if(l)return l;{const c=new $f(`realtime:${e}`,a,this);return this.channels.push(c),c}}push(e){const{topic:a,event:s,payload:l,ref:c}=e,d=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${a} ${s} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eS,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:c,ref:d}=a,h=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${s} ${l} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(l,c,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(e){var a;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var a;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const s=e.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${e}${s}${l}`}_workerObjectUrl(e){let a;if(e)a=e;else{const s=new Blob([dS],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(e,a=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(e=null){let a;e?a=e:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{const l={access_token:a,version:Zj};a&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(Qt.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${e}`,a)})}_triggerStateCallbacks(e,a){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(a)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new By(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var a,s,l,c,d,h,p,g,x;if(this.transport=(a=e?.transport)!==null&&a!==void 0?a:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:uf,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:bo.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Ld,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>cS[y-1]||uS),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((y,v)=>v(JSON.stringify(y))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Bf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class hS extends Bf{constructor(e,a,s){super(e),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hf extends Bf{constructor(e,a){super(e),this.name="StorageUnknownError",this.originalError=a}}var mS=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};const Vy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...a)=>Vi(async()=>{const{default:s}=await Promise.resolve().then(()=>xr);return{default:s}},void 0).then(({default:s})=>s(...a)):e=fetch,(...a)=>e(...a)},pS=()=>mS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vi(()=>Promise.resolve().then(()=>xr),void 0)).Response:Response}),mf=r=>{if(Array.isArray(r))return r.map(a=>mf(a));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([a,s])=>{const l=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=mf(s)}),e},gS=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var is=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};const Ud=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),xS=(r,e,a)=>is(void 0,void 0,void 0,function*(){const s=yield pS();r instanceof s&&!a?.noResolveJson?r.json().then(l=>{const c=r.status||500,d=l?.statusCode||c+"";e(new hS(Ud(l),c,d))}).catch(l=>{e(new hf(Ud(l),l))}):e(new hf(Ud(r),r))}),yS=(r,e,a,s)=>{const l={method:r,headers:e?.headers||{}};return r==="GET"||!s?l:(gS(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(s)):l.body=s,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),a))};function Gi(r,e,a,s,l,c){return is(this,void 0,void 0,function*(){return new Promise((d,h)=>{r(a,yS(e,s,l,c)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>xS(p,h,s))})})}function Lo(r,e,a,s){return is(this,void 0,void 0,function*(){return Gi(r,"GET",e,a,s)})}function rn(r,e,a,s,l){return is(this,void 0,void 0,function*(){return Gi(r,"POST",e,s,l,a)})}function pf(r,e,a,s,l){return is(this,void 0,void 0,function*(){return Gi(r,"PUT",e,s,l,a)})}function bS(r,e,a,s){return is(this,void 0,void 0,function*(){return Gi(r,"HEAD",e,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function Gy(r,e,a,s,l){return is(this,void 0,void 0,function*(){return Gi(r,"DELETE",e,s,l,a)})}var mt=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};const vS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wS{constructor(e,a={},s,l){this.shouldThrowOnError=!1,this.url=e,this.headers=a,this.bucketId=s,this.fetch=Vy(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,a,s,l){return mt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},sx),l);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const g=this._removeEmptyFolders(a),x=this._getFinalPath(g),y=yield(e=="PUT"?pf:rn)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}upload(e,a,s){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,a,s)})}uploadToSignedUrl(e,a,s,l){return mt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",a);try{let p;const g=Object.assign({upsert:sx.upsert},l),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const y=yield pf(this.fetch,h.toString(),p,{headers:x});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(et(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,a){return mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const l=Object.assign({},this.headers);a?.upsert&&(l["x-upsert"]="true");const c=yield rn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new Bf("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}update(e,a,s){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,a,s)})}move(e,a,s){return mt(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}copy(e,a,s){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}createSignedUrl(e,a,s){return mt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield rn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}createSignedUrls(e,a,s){return mt(this,void 0,void 0,function*(){try{const l=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:e},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}download(e,a){return mt(this,void 0,void 0,function*(){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),d=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Lo(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}})}info(e){return mt(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{const s=yield Lo(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:mf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}exists(e){return mt(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{return yield bS(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s)&&s instanceof hf){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,a){const s=this._getFinalPath(e),l=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const h=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&l.push(p);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}remove(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}list(e,a,s){return mt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},vS),a),{prefix:e||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}listV2(e,a){return mt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield rn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const a=[];return e.width&&a.push(`width=${e.width}`),e.height&&a.push(`height=${e.height}`),e.resize&&a.push(`resize=${e.resize}`),e.format&&a.push(`format=${e.format}`),e.quality&&a.push(`quality=${e.quality}`),a.join("&")}}const _S="2.12.1",jS={"X-Client-Info":`storage-js/${_S}`};var er=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};class SS{constructor(e,a={},s,l){this.shouldThrowOnError=!1;const c=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},jS),a),this.fetch=Vy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return er(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return er(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}createBucket(e,a={public:!1}){return er(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}updateBucket(e,a){return er(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}emptyBucket(e){return er(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}deleteBucket(e){return er(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}}class NS extends SS{constructor(e,a={},s,l){super(e,a,s,l)}from(e){return new wS(this.url,this.headers,e,this.fetch)}}const ES="2.57.4";let bi="";typeof Deno<"u"?bi="deno":typeof document<"u"?bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bi="react-native":bi="node";const TS={"X-Client-Info":`supabase-js-${bi}/${ES}`},CS={headers:TS},AS={schema:"public"},kS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RS={};var OS=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};const IS=r=>{let e;return r?e=r:typeof fetch>"u"?e=Ly:e=fetch,(...a)=>e(...a)},DS=()=>typeof Headers>"u"?Uy:Headers,LS=(r,e,a)=>{const s=IS(a),l=DS();return(c,d)=>OS(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:r;let g=new l(d?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),s(c,Object.assign(Object.assign({},d),{headers:g}))})};var US=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};function MS(r){return r.endsWith("/")?r:r+"/"}function PS(r,e){var a,s;const{db:l,auth:c,realtime:d,global:h}=r,{db:p,auth:g,realtime:x,global:y}=e,v={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},x),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(a=y?.headers)!==null&&a!==void 0?a:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>US(this,void 0,void 0,function*(){return""})};return r.accessToken?v.accessToken=r.accessToken:delete v.accessToken,v}function zS(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ky="2.71.1",lr=30*1e3,gf=3,Md=gf*lr,$S="http://localhost:9999",BS="supabase.auth.token",HS={"X-Client-Info":`gotrue-js/${Ky}`},xf="X-Supabase-Api-Version",Fy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VS=600*1e3;class Hf extends Error{constructor(e,a,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function de(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class GS extends Hf{constructor(e,a,s){super(e,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function KS(r){return de(r)&&r.name==="AuthApiError"}class Yy extends Hf{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class Ca extends Hf{constructor(e,a,s,l){super(e,s,l),this.name=a,this.status=s}}class ba extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FS(r){return de(r)&&r.name==="AuthSessionMissingError"}class vo extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends Ca{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _o extends Ca{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YS(r){return de(r)&&r.name==="AuthImplicitGrantRedirectError"}class rx extends Ca{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yf extends Ca{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function Pd(r){return de(r)&&r.name==="AuthRetryableFetchError"}class ix extends Ca{constructor(e,a,s){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class bf extends Ca{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lx=` 	
\r=`.split(""),JS=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<lx.length;e+=1)r[lx[e].charCodeAt(0)]=-2;for(let e=0;e<Uo.length;e+=1)r[Uo[e].charCodeAt(0)]=e;return r})();function ox(r,e,a){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;a(Uo[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;a(Uo[s]),e.queuedBits-=6}}function Jy(r,e,a){const s=JS[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)a(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function cx(r){const e=[],a=d=>{e.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{ZS(d,s,a)};for(let d=0;d<r.length;d+=1)Jy(r.charCodeAt(d),l,c);return e.join("")}function XS(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function QS(r,e){for(let a=0;a<r.length;a+=1){let s=r.charCodeAt(a);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(r.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}XS(s,e)}}function ZS(r,e,a){if(e.utf8seq===0){if(r<=127){a(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&a(e.codepoint)}}function WS(r){const e=[],a={queue:0,queuedBits:0},s=l=>{e.push(l)};for(let l=0;l<r.length;l+=1)Jy(r.charCodeAt(l),a,s);return new Uint8Array(e)}function eN(r){const e=[];return QS(r,a=>e.push(a)),new Uint8Array(e)}function tN(r){const e=[],a={queue:0,queuedBits:0},s=l=>{e.push(l)};return r.forEach(l=>ox(l,a,s)),ox(null,a,s),e.join("")}function nN(r){return Math.round(Date.now()/1e3)+r}function aN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},Xy=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ja.tested)return Ja.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable};function sN(r){const e={},a=new URL(r);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return a.searchParams.forEach((s,l)=>{e[l]=s}),e}const Qy=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...a)=>Vi(async()=>{const{default:s}=await Promise.resolve().then(()=>xr);return{default:s}},void 0).then(({default:s})=>s(...a)):e=fetch,(...a)=>e(...a)},rN=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",or=async(r,e,a)=>{await r.setItem(e,JSON.stringify(a))},Xa=async(r,e)=>{const a=await r.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ga=async(r,e)=>{await r.removeItem(e)};let Zy=class Wy{constructor(){this.promise=new Wy.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}};Zy.promiseConstructor=Promise;function zd(r){const e=r.split(".");if(e.length!==3)throw new bf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!qS.test(e[s]))throw new bf("JWT not in base64url format");return{header:JSON.parse(cx(e[0])),payload:JSON.parse(cx(e[1])),signature:WS(e[2]),raw:{header:e[0],payload:e[1]}}}async function iN(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function lN(r,e){return new Promise((s,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await r(c);if(!e(c,null,d)){s(d);return}}catch(d){if(!e(c,d)){l(d);return}}})()})}function oN(r){return("0"+r.toString(16)).substr(-2)}function cN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let l="";for(let c=0;c<56;c++)l+=a.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(e),Array.from(e,oN).join("")}async function uN(r){const a=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(s);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function dN(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const a=await uN(r);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tr(r,e,a=!1){const s=cN();let l=s;a&&(l+="/PASSWORD_RECOVERY"),await or(r,`${e}-code-verifier`,l);const c=await dN(s);return[c,s===c?"plain":"s256"]}const fN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hN(r){const e=r.headers.get(xf);if(!e||!e.match(fN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mN(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function pN(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nr(r){if(!gN.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $d(){const r={};return new Proxy(r,{get:(e,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ux(r){return JSON.parse(JSON.stringify(r))}var xN=function(r,e){var a={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(a[s[l]]=r[s[l]]);return a};const Qa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yN=[502,503,504];async function dx(r){var e;if(!rN(r))throw new yf(Qa(r),0);if(yN.includes(r.status))throw new yf(Qa(r),r.status);let a;try{a=await r.json()}catch(c){throw new Yy(Qa(c),c)}let s;const l=hN(r);if(l&&l.getTime()>=Fy["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new ix(Qa(a),r.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ba}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new ix(Qa(a),r.status,a.weak_password.reasons);throw new GS(Qa(a),r.status||500,s)}const bN=(r,e,a,s)=>{const l={method:r,headers:e?.headers||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),a))};async function be(r,e,a,s){var l;const c=Object.assign({},s?.headers);c[xf]||(c[xf]=Fy["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const d=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await vN(r,e,a+h,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function vN(r,e,a,s,l,c){const d=bN(e,s,l,c);let h;try{h=await r(a,Object.assign({},d))}catch(p){throw console.error(p),new yf(Qa(p),0)}if(h.ok||await dx(h),s?.noResolveJson)return h;try{return await h.json()}catch(p){await dx(p)}}function In(r){var e;let a=null;SN(r)&&(a=Object.assign({},r),r.expires_at||(a.expires_at=nN(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:a,user:s},error:null}}function fx(r){const e=In(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function va(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function wN(r){return{data:r,error:null}}function _N(r){const{action_link:e,email_otp:a,hashed_token:s,redirect_to:l,verification_type:c}=r,d=xN(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:a,hashed_token:s,redirect_to:l,verification_type:c},p=Object.assign({},d);return{data:{properties:h,user:p},error:null}}function jN(r){return r}function SN(r){return r.access_token&&r.refresh_token&&r.expires_in}const Bd=["global","local","others"];var NN=function(r,e){var a={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(a[s[l]]=r[s[l]]);return a};class EN{constructor({url:e="",headers:a={},fetch:s}){this.url=e,this.headers=a,this.fetch=Qy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,a=Bd[0]){if(Bd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bd.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,a={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:va})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:a}=e,s=NN(e,["options"]),l=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:_N,redirectTo:a?.redirectTo})}catch(a){if(de(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:va})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,s,l,c,d,h,p;try{const g={nextPage:null,lastPage:0,total:0},x=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=e?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:jN});if(x.error)throw x.error;const y=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(j.split(";")[1].split("=")[1]);g[`${L}Page`]=T}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(de(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){nr(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:va})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){nr(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:va})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,a=!1){nr(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:va})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){nr(e.userId);try{const{data:a,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:s}}catch(a){if(de(a))return{data:null,error:a};throw a}}async _deleteFactor(e){nr(e.userId),nr(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}}}function hx(r={}){return{getItem:e=>r[e]||null,setItem:(e,a)=>{r[e]=a},removeItem:e=>{delete r[e]}}}function TN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ar={debug:!!(globalThis&&Xy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CN extends eb{}async function AN(r,e,a){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,l.name);try{return await a()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,l.name)}}else{if(e===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new CN(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ar.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}TN();const kN={url:$S,storageKey:BS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mx(r,e,a){return await a()}const sr={};class Di{constructor(e){var a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Di.nextInstanceID,Di.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},kN),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new EN({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Qy(l.fetch),this.lock=l.lock||mx,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Xt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=AN:this.lock=mx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Xy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hx(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=hx(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,a;return(a=(e=sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(e){sr[this.storageKey]=Object.assign(Object.assign({},sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,a;return(a=(e=sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sr[this.storageKey]=Object.assign(Object.assign({},sr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ky}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const a=sN(window.location.href);let s="none";if(this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce"),Xt()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:c}=await this._getSessionFromURL(a,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),YS(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return de(a)?{error:a}:{error:new Yy("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,s,l;try{const c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=e?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:In}),{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(de(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var a,s,l;try{let c;if("email"in e){const{email:x,password:y,options:v}=e;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await tr(this.storage,this.storageKey)),c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:x,password:y,data:(a=v?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:j},xform:In})}else if("phone"in e){const{phone:x,password:y,options:v}=e;c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:In})}else throw new wo("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(de(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let a;if("email"in e){const{email:c,password:d,options:h}=e;a=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:fx})}else if("phone"in e){const{phone:c,password:d,options:h}=e;a=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:fx})}else throw new wo("You must provide either an email or phone number and a password");const{data:s,error:l}=a;return l?{data:{user:null,session:null},error:l}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new vo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(e){var a,s,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:a}=e;if(a==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(e){var a,s,l,c,d,h,p,g,x,y,v,_;let j,T;if("message"in e)j=e.message,T=e.signature;else{const{chain:L,wallet:I,statement:k,options:S}=e;let $;if(Xt())if(typeof I=="object")$=I;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))$=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=I}const Y=new URL((a=S?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in $&&$.signIn){const M=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),k?{statement:k}:null));let R;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")R=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)R=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)j=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),T=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${Y.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(l=(s=S?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=S?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((d=S?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((h=S?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((p=S?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((g=S?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((y=(x=S?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const M=await $.signMessage(new TextEncoder().encode(j),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=M}}try{const{data:L,error:I}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:tN(T)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:In});if(I)throw I;return!L||!L.session||!L.user?{data:{user:null,session:null},error:new vo}:(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),{data:Object.assign({},L),error:I})}catch(L){if(de(L))return{data:{user:null,session:null},error:L};throw L}}async _exchangeCodeForSession(e){const a=await Xa(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(a??"").split("/");try{const{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:In});if(await ga(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new vo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(de(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:a,provider:s,token:l,access_token:c,nonce:d}=e,h=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:In}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new vo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(e){var a,s,l,c,d;try{if("email"in e){const{email:h,options:p}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await tr(this.storage,this.storageKey));const{error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:x}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:x}}throw new wo("You must provide either an email or phone number.")}catch(h){if(de(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var a,s;try{let l,c;"options"in e&&(l=(a=e.options)===null||a===void 0?void 0:a.redirectTo,c=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:In});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var a,s,l;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await tr(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:wN})}catch(c){if(de(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:s}=e;if(s)throw s;if(!a)throw new ba;const{error:l}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:s,type:l,options:c}=e,{error:d}=await be(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:s,type:l,options:c}=e,{data:d,error:h}=await be(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new wo("You must provide either an email or phone number and a type")}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Md:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const d=await Xa(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=$d()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,x)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,x))})}return{data:{session:e},error:null}}const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:va}):await this._useSession(async a=>{var s,l,c;const{data:d,error:h}=a;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ba}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:va})})}catch(a){if(de(a))return FS(a)&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async s=>{const{data:l,error:c}=s;if(c)throw c;if(!l.session)throw new ba;const d=l.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await tr(this.storage,this.storageKey));const{data:g,error:x}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:d.access_token,xform:va});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ba;const a=Date.now()/1e3;let s=a,l=!0,c=null;const{payload:d}=zd(e.access_token);if(d.exp&&(s=d.exp,l=s<=a),l){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(a){if(de(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var s;if(!e){const{data:d,error:h}=a;if(h)throw h;e=(s=d.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new ba;const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(e,a){try{if(!Xt())throw new _o("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _o(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new rx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _o("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rx("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:h,expires_at:p,token_type:g}=e;if(!c||!h||!d||!g)throw new _o("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let v=x+y;p&&(v=parseInt(p));const _=v-x;_*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const j=v-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,x);const{data:T,error:L}=await this._getUser(c);if(L)throw L;const I={provider_token:s,provider_refresh_token:l,access_token:c,expires_in:y,expires_at:v,refresh_token:d,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(s){if(de(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const a=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:l,error:c}=a;if(c)return{error:c};const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(KS(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const a=aN(),s={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async a=>{var s,l;try{const{data:{session:c},error:d}=a;if(d)throw d;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,a={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await tr(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(de(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}}async linkIdentity(e){var a;try{const{data:s,error:l}=await this._useSession(async c=>{var d,h,p,g,x;const{data:y,error:v}=c;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(l)throw l;return Xt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(de(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async a=>{var s,l;const{data:c,error:d}=a;if(d)throw d;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(de(a))return{data:null,error:a};throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await lN(async l=>(l>0&&await iN(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:In})),(l,c)=>{const d=200*Math.pow(2,l);return c&&Pd(c)&&Date.now()+d-s<lr})}catch(s){if(this._debug(a,"error",s),de(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",s),Xt()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Xa(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await or(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d?.user)!==null&&e!==void 0?e:$d()}else if(l&&!l.user&&!l.user){const d=await Xa(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await ga(this.storage,this.storageKey+"-user"),await or(this.storage,this.storageKey,l)):l.user=$d()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const c=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Md;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Md}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Pd(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var a,s;if(!e)throw new ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Zy;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new ba;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),de(c)){const d={session:null,error:c};return Pd(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,a,s=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:a});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,a)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const a=Object.assign({},e),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await or(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const c=ux(l);await or(this.storage,this.storageKey,c)}else{const l=ux(a);await or(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ga(this.storage,this.storageKey),await ga(this.storage,this.storageKey+"-code-verifier"),await ga(this.storage,this.storageKey+"-user"),this.userStorage&&await ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-e)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${lr}ms, refresh threshold is ${gf} ticks`),l<=gf&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,s){const l=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,d]=await tr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);l.push(c.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var s;const{data:l,error:c}=a;return c?{data:null,error:c}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(de(a))return{data:null,error:a};throw a}}async _enroll(e){try{return await this._useSession(async a=>{var s,l;const{data:c,error:d}=a;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:g}=await be(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(de(a))return{data:null,error:a};throw a}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:l,error:c}=a;if(c)return{data:null,error:c};const{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(a){if(de(a))return{data:null,error:a};throw a}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:l,error:c}=a;return c?{data:null,error:c}:await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(de(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(e){const{data:a,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){const{data:{user:e},error:a}=await this.getUser();if(a)return{data:null,error:a};const s=e?.factors||[],l=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var a,s;const{data:{session:l},error:c}=e;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zd(l.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const x=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(e,a={keys:[]}){let s=a.keys.find(h=>h.kid===e);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+VS>l)return s;const{data:c,error:d}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,s=c.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,a={}){try{let s=e;if(!s){const{data:_,error:j}=await this.getSession();if(j||!_.session)return{data:null,error:j};s=_.session.access_token}const{header:l,payload:c,signature:d,raw:{header:h,payload:p}}=zd(s);a?.allowExpired||mN(c.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!g){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:c,header:l,signature:d},error:null}}const x=pN(l.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,d,eN(`${h}.${p}`)))throw new bf("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}}Di.nextInstanceID=0;const RN=Di;class ON extends RN{constructor(e){super(e)}}var IN=function(r,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(x){try{g(s.next(x))}catch(y){d(y)}}function p(x){try{g(s.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):l(x.value).then(h,p)}g((s=s.apply(r,e||[])).next())})};class DN{constructor(e,a,s){var l,c,d;this.supabaseUrl=e,this.supabaseKey=a;const h=zS(e);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:AS,realtime:RS,auth:Object.assign(Object.assign({},kS),{storageKey:p}),global:CS},x=PS(s??{},g);this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=LS(a,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Jj(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new NS(this.storageUrl.href,this.headers,this.fetch,s?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new zj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,a={},s={}){return this.rest.rpc(e,a,s)}channel(e,a={config:{}}){return this.realtime.channel(e,a)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,a;return IN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(a=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:a,detectSessionInUrl:s,storage:l,userStorage:c,storageKey:d,flowType:h,lock:p,debug:g},x,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ON({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),x),storageKey:d,autoRefreshToken:e,persistSession:a,detectSessionInUrl:s,storage:l,userStorage:c,flowType:h,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s?.access_token)})}_handleTokenChanged(e,a,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LN=(r,e,a)=>new DN(r,e,a);function UN(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tb="https://ytffobltrwkgxiedorsd.supabase.co",nb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0ZmZvYmx0cndrZ3hpZWRvcnNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyNTAxODcsImV4cCI6MjA3OTgyNjE4N30.LT6RINgyyjIriwdBV4DGP3GeXl2AVRetT1rStFFXpn8";console.log(" Supabase Configuration Debug:");console.log("URL:",` ${tb.substring(0,30)}...`);console.log("ANON_KEY:",` ${nb.substring(0,30)}...`);const fe=LN(tb,nb),ab=N.createContext(void 0);async function px(r){const a=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(s)).map(d=>d.toString(16).padStart(2,"0")).join("")}function MN({children:r}){const[e,a]=N.useState(null),[s,l]=N.useState(!0);N.useEffect(()=>{const g=localStorage.getItem("auth_user");if(g)try{a(JSON.parse(g))}catch(x){console.error("Failed to parse stored user:",x)}l(!1)},[]);const p={user:e,loading:s,signInPhone:async(g,x)=>{try{const{data:y,error:v}=await fe.from("users").select("*").eq("phone_number",g).single();if(v||!y)return{error:{message:"   ."}};const _=await px(x);if(y.password_hash!==_)return{error:{message:"  ."}};await fe.from("users").update({last_login:new Date().toISOString()}).eq("id",y.id);const j={id:y.id,phone_number:y.phone_number,name:y.name,profile_image:y.profile_image};return a(j),localStorage.setItem("auth_user",JSON.stringify(j)),{error:null}}catch(y){return{error:{message:y.message}}}},signUpPhone:async(g,x,y)=>{try{const{data:v}=await fe.from("users").select("id").eq("phone_number",g).single();if(v)return{error:{message:"  ."}};const _=await px(x),{data:j,error:T}=await fe.from("users").insert({phone_number:g,password_hash:_,name:y,gender:"male"}).select().single();if(T||!j)return{error:T||{message:" ."}};const L={id:j.id,phone_number:j.phone_number,name:j.name,profile_image:j.profile_image};return a(L),localStorage.setItem("auth_user",JSON.stringify(L)),{error:null}}catch(v){return{error:{message:v.message}}}},signOut:async()=>{a(null),localStorage.removeItem("auth_user")}};return u.jsx(ab.Provider,{value:p,children:r})}function Wo(){const r=N.useContext(ab);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function PN({coins:r=0}){const e=ze(),[a,s]=N.useState(!1),l=2,c=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),e("/login")};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"fixed top-0 left-0 right-0 glass z-50 transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 max-w-screen-xl mx-auto",children:[u.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:u.jsxs("h1",{className:"flex items-center space-x-2 group",children:[u.jsxs("div",{className:"relative transform transition-transform group-hover:scale-110 duration-300",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg shadow-primary-500/30",children:u.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-xl animate-pulse-soft"})})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary-400 rounded-full border-2 border-white animate-bounce"})]}),u.jsx("span",{className:"text-2xl font-bold font-display bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent tracking-tight",children:"Attract"})]})}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("button",{onClick:()=>e("/coin-shop"),className:"group flex items-center space-x-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white px-4 py-2 rounded-full hover:from-primary-600 hover:to-primary-700 transition-all duration-300 shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transform hover:-translate-y-0.5",children:[u.jsx("i",{className:"ri-copper-coin-fill text-lg group-hover:rotate-12 transition-transform"}),u.jsx("span",{className:"text-sm font-bold font-display",children:r.toLocaleString()})]}),u.jsxs("button",{onClick:()=>e("/notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors relative group",children:[u.jsx("i",{className:"ri-notification-line text-slate-600 text-xl group-hover:text-primary-600 transition-colors"}),u.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center border-2 border-white shadow-sm",children:l})]}),u.jsx("button",{onClick:()=>s(!a),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors group",children:u.jsx("i",{className:`ri-menu-line text-slate-600 text-xl group-hover:text-primary-600 transition-colors ${a?"rotate-90":""} duration-300`})})]})]})}),a&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40 animate-fade-in",onClick:()=>s(!1)}),u.jsxs("div",{className:"fixed top-20 right-4 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl py-2 w-56 z-50 animate-slide-up border border-white/20",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-slate-100",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"!"}),u.jsx("p",{className:"font-bold text-slate-800",children:""})]}),u.jsx("div",{className:"py-2",children:[{icon:"ri-user-line",label:"",action:()=>{}},{icon:"ri-settings-line",label:"",action:()=>{}},{icon:"ri-question-line",label:"FAQ",action:()=>{}},{icon:"ri-customer-service-line",label:"1:1",action:()=>{}}].map((d,h)=>u.jsxs("button",{onClick:d.action,className:"w-full text-left px-4 py-2.5 hover:bg-primary-50 text-slate-600 hover:text-primary-600 transition-colors flex items-center space-x-3 group",children:[u.jsx("i",{className:`${d.icon} text-lg group-hover:scale-110 transition-transform`}),u.jsx("span",{className:"font-medium",children:d.label})]},h))}),u.jsx("div",{className:"border-t border-slate-100 mt-1 pt-1",children:u.jsxs("button",{onClick:c,className:"w-full text-left px-4 py-2.5 hover:bg-red-50 text-red-500 hover:text-red-600 transition-colors flex items-center space-x-3 group",children:[u.jsx("i",{className:"ri-logout-box-line text-lg group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-medium",children:""})]})})]})]})]})}function zN({activeTab:r,onTabChange:e}){const a=[{id:"matching",icon:"ri-heart-3-line",activeIcon:"ri-heart-3-fill",label:""},{id:"community",icon:"ri-group-line",activeIcon:"ri-group-fill",label:""},{id:"chat",icon:"ri-chat-3-line",activeIcon:"ri-chat-3-fill",label:""},{id:"profile",icon:"ri-user-line",activeIcon:"ri-user-fill",label:"My"}];return u.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-6 pt-2 flex justify-center pointer-events-none",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:u.jsx("div",{className:"glass rounded-full px-6 py-3 flex items-center justify-between shadow-2xl shadow-primary-500/20 pointer-events-auto max-w-md w-full",children:a.map(s=>{const l=r===s.id;return u.jsxs("button",{onClick:()=>e(s.id),className:`relative flex flex-col items-center justify-center w-14 h-14 rounded-full transition-all duration-300 group ${l?"text-primary-600":"text-slate-400 hover:text-slate-600"}`,children:[l&&u.jsx("span",{className:"absolute -top-2 w-1 h-1 bg-primary-500 rounded-full animate-bounce"}),u.jsx("i",{className:`text-2xl transition-all duration-300 ${l?`${s.activeIcon} scale-110 drop-shadow-md`:`${s.icon} group-hover:scale-110`}`}),u.jsx("span",{className:`text-[10px] font-medium mt-1 transition-all duration-300 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-2 absolute"}`,children:s.label}),l&&u.jsx("div",{className:"absolute inset-0 bg-primary-50 rounded-full -z-10 scale-0 animate-ping opacity-20"})]},s.id)})})})}function gx(){const r=ze(),[e,a]=N.useState("female"),[s,l]=N.useState(!1),[c,d]=N.useState(!1),[h,p]=N.useState(""),[g,x]=N.useState(!0),[y,v]=N.useState([]);N.useEffect(()=>{const I=localStorage.getItem("user");if(I)try{const S=JSON.parse(I).gender;S==="male"||S===""?a("female"):(S==="female"||S==="")&&a("male")}catch(k){console.error("   :",k)}},[]),N.useEffect(()=>{_()},[e]);const _=async()=>{x(!0);try{const I=localStorage.getItem("user");let k=null;I&&(k=JSON.parse(I).id);let S=fe.from("users").select("*");k&&(S=S.neq("id",k)),e&&(S=S.eq("gender",e));const{data:$,error:Y}=await S;if(Y)throw Y;if(console.log("   :",$),console.log("  :",e),$){const M=$.filter(R=>{const U=R.avatar_url||R.profile_image;return console.log(` ${R.name} - : ${R.gender}, : ${U?"":""}`,{avatar_url:R.avatar_url,profile_image:R.profile_image}),!!U}).map(R=>({id:R.id,name:R.name||"  ",age:R.age||20,gender:R.gender||"",location:R.location||" ",school:R.school||" ",mbti:R.mbti||"MBTI",character:R.avatar_url||R.profile_image||"",bio:R.bio||" .",hasLikedMe:!1}));console.log("   :",M.length),v(M)}}catch(I){console.error("  :",I),v([])}finally{x(!1)}},j=y.filter(I=>I.gender===e),T=I=>{p(I),d(!0)},L=I=>{r("/profile-detail",{state:{profile:I}})};return g?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})]}),u.jsx("div",{className:"text-sm font-medium text-slate-500",children:"  ..."})]}):j.length===0?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4 px-4",children:[u.jsx("i",{className:"ri-search-line text-6xl text-slate-300"}),u.jsx("p",{className:"text-center text-slate-600 font-medium",children:"   "})]}):u.jsxs("div",{className:"px-4 py-6 min-h-screen",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{onClick:()=>l(!s),className:"w-11 h-11 bg-white rounded-full flex items-center justify-center shadow-md cursor-pointer hover:shadow-lg transition-all hover:scale-105 group",children:u.jsx("i",{className:"ri-filter-line text-slate-400 group-hover:text-primary-500 text-xl transition-colors"})})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:j.map(I=>u.jsxs("div",{onClick:()=>L(I),className:"bg-white rounded-3xl shadow-lg overflow-hidden cursor-pointer hover:shadow-2xl hover:shadow-primary-500/10 transition-all duration-300 relative group transform hover:-translate-y-1",children:[I.hasLikedMe&&u.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center z-10 shadow-lg shadow-pink-500/30 animate-pulse-soft",children:u.jsx("i",{className:"ri-heart-fill text-white text-sm"})}),u.jsx("div",{className:"absolute top-3 left-3 w-8 h-8 glass rounded-full flex items-center justify-center z-10",children:u.jsx("i",{className:"ri-women-line text-primary-500 font-bold"})}),u.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-10",children:u.jsx("span",{className:"glass text-primary-700 px-3 py-1 rounded-full text-xs font-bold tracking-wide",children:I.mbti})}),u.jsxs("div",{className:"relative h-72 overflow-hidden bg-slate-100",children:[u.jsx("img",{src:I.character,alt:I.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 text-white transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[u.jsx("h3",{className:"font-bold text-xl mb-1 font-display tracking-tight",children:I.name}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-200",children:[u.jsxs("span",{className:"font-medium",children:[I.age,""]}),u.jsxs("div",{className:"flex items-center hover:text-primary-300 transition-colors",onClick:k=>{k.stopPropagation(),T(I.location)},children:[u.jsx("i",{className:"ri-map-pin-line mr-1"}),u.jsx("span",{className:"text-xs",children:I.location})]})]}),u.jsxs("div",{className:"flex items-center text-xs mt-2 text-slate-300 bg-white/10 rounded-lg px-2 py-1 w-fit backdrop-blur-sm",children:[u.jsx("i",{className:"ri-school-line mr-1"}),u.jsx("span",{className:"truncate max-w-[100px]",children:I.school})]})]})]})]},I.id))}),u.jsx("div",{className:"mt-10 text-center pb-8",children:u.jsxs("button",{className:"bg-white text-slate-600 px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl hover:text-primary-600 hover:scale-105 transition-all cursor-pointer whitespace-nowrap flex items-center mx-auto space-x-2",children:[u.jsx("span",{children:" "}),u.jsx("i",{className:"ri-arrow-down-s-line"})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-end animate-fade-in",children:u.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-8 max-h-[85vh] overflow-y-auto animate-slide-up shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold font-display text-slate-800",children:""}),u.jsx("button",{onClick:()=>l(!1),className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:u.jsx("i",{className:"ri-close-line text-2xl text-slate-400"})})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-4 text-lg",children:""}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:()=>a("female"),className:`flex-1 py-4 rounded-2xl font-bold transition-all cursor-pointer border-2 ${e==="female"?"border-primary-500 bg-primary-50 text-primary-600":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:""}),u.jsx("button",{onClick:()=>a("male"),className:`flex-1 py-4 rounded-2xl font-bold transition-all cursor-pointer border-2 ${e==="male"?"border-primary-500 bg-primary-50 text-primary-600":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-4 text-lg",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:["","/","/","","",""].map(I=>u.jsx("button",{className:"px-2 py-3 bg-slate-50 text-slate-600 rounded-xl text-sm font-medium hover:bg-primary-50 hover:text-primary-600 transition-colors cursor-pointer whitespace-nowrap border border-transparent hover:border-primary-200",children:I},I))})]})]}),u.jsxs("div",{className:"flex space-x-4 mt-10",children:[u.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold cursor-pointer hover:bg-slate-200 transition-colors",children:""}),u.jsx("button",{onClick:()=>{l(!1),_()},className:"flex-1 py-4 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-2xl font-bold cursor-pointer shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all",children:""})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-slide-up",children:[u.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-100",children:[u.jsx("h3",{className:"text-xl font-bold font-display text-slate-800",children:h}),u.jsx("button",{onClick:()=>d(!1),className:"w-8 h-8 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:u.jsx("i",{className:"ri-close-line text-xl text-slate-400"})})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("div",{className:"w-full h-64 bg-slate-100 rounded-2xl overflow-hidden shadow-inner",children:u.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dO_X0Q&q=${encodeURIComponent(h)}`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`${h} `})}),u.jsxs("div",{className:"mt-5 space-y-3",children:[u.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-3 rounded-xl",children:[u.jsx("i",{className:"ri-map-pin-line text-primary-500 text-lg mr-3"}),u.jsx("span",{className:"font-medium",children:h})]}),u.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-3 rounded-xl cursor-pointer hover:bg-primary-50 hover:text-primary-700 transition-colors group",children:[u.jsx("i",{className:"ri-navigation-line text-primary-500 text-lg mr-3 group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-medium",children:" "})]})]}),u.jsx("button",{onClick:()=>d(!1),className:"w-full mt-6 bg-gradient-to-r from-primary-500 to-primary-600 text-white py-4 rounded-2xl font-bold hover:from-primary-600 hover:to-primary-700 transition-all cursor-pointer shadow-lg shadow-primary-500/30",children:""})]})]})})]})}function $N({post:r,onBack:e,onUpdatePost:a,onDeletePost:s}){const l=ze(),[c,d]=N.useState(r),[h,p]=N.useState(""),[g,x]=N.useState(null),[y,v]=N.useState(!1);N.useEffect(()=>{window.scrollTo(0,0),(async()=>{try{const{data:{user:S}}=await fe.auth.getUser();if(S){const{data:$}=await fe.from("users").select("*").eq("id",S.id).single();$&&x({...S,profile:$})}else{const $=localStorage.getItem("user");$&&x(JSON.parse($))}}catch(S){console.error("   :",S);const $=localStorage.getItem("user");$&&x(JSON.parse($))}})()},[r]);const _=async()=>{const k=c.isLiked?c.likes-1:c.likes+1,S={...c,isLiked:!c.isLiked,likes:k};d(S),a(S);try{await fe.from("community_posts").update({likes:k}).eq("id",c.id)}catch($){console.error("  :",$)}},j=async k=>{const S=c.comments.find(M=>M.id===k);if(!S)return;const $=S.isLiked?S.likes-1:S.likes+1,Y={...c,comments:c.comments.map(M=>M.id===k?{...M,isLiked:!M.isLiked,likes:$}:M)};d(Y),a(Y);try{await fe.from("post_comments").update({likes:$}).eq("id",k)}catch(M){console.error("   :",M)}},T=async()=>{if(h.trim()){if(!g){alert(" .");return}try{const k={post_id:c.id,user_id:g.id,author_name:g.profile?.name||"",avatar_url:g.profile?.avatar_url||"",content:h,likes:0},{data:S,error:$}=await fe.from("post_comments").insert([k]).select().single();if($)throw $;if(S){const Y={id:S.id,author:S.author_name,avatar:S.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20profile%20avatar%2C%20friendly%20expression%2C%20professional%20portrait%20photography%2C%20soft%20natural%20lighting%2C%20clean%20white%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=myavatar&orientation=squarish",content:S.content,timeAgo:" ",likes:0,isLiked:!1},M={...c,comments:[...c.comments,Y]};d(M),a(M),p("")}}catch(k){console.error("  :",k),alert("  .")}}},L=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),T())},I=async()=>{if(c.userId!==g?.id&&c.userId!==g?.profile?.id){alert("    .");return}if(window.confirm(" ?")){v(!0);try{const{error:k}=await fe.from("community_posts").delete().eq("id",c.id);if(k)throw k;s&&s(c.id),alert(" ."),e()}catch(k){console.error("  :",k),alert("    .")}finally{v(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx("div",{className:"bg-white/90 backdrop-blur-md border-b border-slate-100 sticky top-0 z-20",children:u.jsxs("div",{className:"flex items-center px-4 py-3 max-w-md mx-auto",children:[u.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:u.jsx("i",{className:"ri-arrow-left-line text-xl text-slate-600 group-hover:text-primary-600 transition-colors"})}),u.jsx("h1",{className:"flex-1 text-center font-bold text-slate-800 font-display",children:""}),u.jsx("div",{className:"w-10"})]})}),u.jsx("div",{className:"px-4 py-6 pb-20",children:u.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-primary-500/5 p-6 animate-slide-up",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[u.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>l("/profile-detail",{state:{authorData:c.authorData||{id:c.id,name:c.author,avatar_url:c.avatar}}}),children:[u.jsx("img",{src:c.avatar,alt:c.author,className:"w-14 h-14 rounded-2xl object-cover object-top shadow-md group-hover:scale-105 transition-transform duration-300"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{onClick:()=>l("/profile-detail",{state:{authorData:c.authorData||{id:c.id,name:c.author,avatar_url:c.avatar}}}),className:"font-bold text-lg text-slate-800 cursor-pointer hover:text-primary-600 transition-colors font-display",children:c.author}),u.jsx("p",{className:"text-xs font-medium text-slate-400",children:c.timeAgo})]}),u.jsx("button",{onClick:()=>{(c.userId===g?.id||c.userId===g?.profile?.id)&&I()},disabled:y||c.userId!==g?.id&&c.userId!==g?.profile?.id,className:`w-8 h-8 flex items-center justify-center rounded-full text-slate-400 transition-all ${c.userId===g?.id||c.userId===g?.profile?.id?"hover:bg-red-50 hover:text-red-500 cursor-pointer":"cursor-default opacity-0"}`,children:u.jsx("i",{className:`ri-${y?"loader-4-line animate-spin":"delete-bin-line"}`})})]}),u.jsx("p",{className:"text-slate-600 mb-6 text-base leading-relaxed whitespace-pre-wrap",children:c.content}),c.image&&u.jsx("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-md",children:u.jsx("img",{src:c.image,alt:" ",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-500"})}),u.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:u.jsxs("div",{className:"flex space-x-3 w-full",children:[u.jsxs("button",{onClick:_,className:`flex-1 flex items-center justify-center space-x-2 py-3.5 rounded-xl transition-all cursor-pointer whitespace-nowrap group ${c.isLiked?"bg-pink-50 text-pink-500 shadow-inner":"bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:[u.jsx("i",{className:`text-xl transition-transform group-hover:scale-110 ${c.isLiked?"ri-heart-fill animate-pulse-soft":"ri-heart-line"}`}),u.jsxs("span",{className:"text-sm font-bold",children:[" ",c.likes>0&&c.likes]})]}),u.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-3.5 rounded-xl bg-slate-50 text-slate-500 hover:bg-slate-100 transition-all cursor-pointer whitespace-nowrap group",children:[u.jsx("i",{className:"ri-chat-3-line text-xl group-hover:scale-110 transition-transform"}),u.jsxs("span",{className:"text-sm font-bold",children:[" ",c.comments.length>0&&c.comments.length]})]})]})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.1s"},children:[u.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center",children:[" ",u.jsx("span",{className:"ml-2 text-primary-500",children:c.comments.length})]}),u.jsxs("div",{className:"flex space-x-4 mb-8 pb-6 border-b border-slate-100",children:[u.jsx("img",{src:g?.avatar_url||g?.profile?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20profile%20avatar%2C%20friendly%20expression%2C%20professional%20portrait%20photography%2C%20soft%20natural%20lighting%2C%20clean%20white%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=myavatar&orientation=squarish",alt:g?.name||" ",className:"w-12 h-12 rounded-full object-cover object-top flex-shrink-0 shadow-sm border-2 border-primary-100"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs font-bold text-slate-600 mb-2",children:g?.name||""}),u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:h,onChange:k=>p(k.target.value),onKeyPress:L,placeholder:" ...",className:"w-full px-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm resize-none bg-white transition-all placeholder-slate-400 shadow-sm",rows:2,maxLength:500}),u.jsx("button",{onClick:T,disabled:!h.trim(),className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${h.trim()?"bg-primary-500 text-white hover:bg-primary-600 shadow-md transform hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:u.jsx("i",{className:"ri-send-plane-fill"})})]})]})]}),c.comments.length>0?u.jsx("div",{className:"space-y-5",children:c.comments.map(k=>u.jsxs("div",{className:"flex space-x-3 group pb-5 border-b border-slate-50 last:border-b-0",children:[u.jsx("img",{src:k.avatar,alt:k.author,onClick:()=>l("/profile-detail",{state:{userId:k.id}}),className:"w-11 h-11 rounded-full object-cover object-top flex-shrink-0 cursor-pointer hover:opacity-80 transition-all shadow-sm border-2 border-slate-100 group-hover:border-primary-300"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("button",{onClick:()=>l("/profile-detail",{state:{userId:k.id}}),className:"font-bold text-sm text-slate-800 cursor-pointer hover:text-primary-600 hover:underline transition-colors",children:k.author}),u.jsx("span",{className:"text-xs font-medium text-slate-400",children:k.timeAgo})]}),u.jsx("div",{className:"bg-slate-50 rounded-2xl rounded-tl-none px-4 py-3 group-hover:bg-slate-100 transition-colors border border-slate-100 group-hover:border-primary-200",children:u.jsx("p",{className:"text-sm text-slate-700 leading-relaxed break-words",children:k.content})}),u.jsxs("div",{className:"flex items-center space-x-5 mt-2 ml-1",children:[u.jsxs("button",{onClick:()=>j(k.id),className:`flex items-center space-x-1.5 text-xs font-medium transition-all cursor-pointer group/like ${k.isLiked?"text-pink-500":"text-slate-400 hover:text-pink-500"}`,children:[u.jsx("i",{className:`${k.isLiked?"ri-heart-fill":"ri-heart-line"} group-hover/like:scale-125 transition-transform`}),u.jsx("span",{children:k.likes>0?k.likes:""})]}),u.jsx("button",{className:"text-xs font-medium text-slate-400 hover:text-primary-500 transition-colors cursor-pointer hover:font-semibold",children:""})]})]})]},k.id))}):u.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-slate-50 to-slate-100 rounded-3xl border border-dashed border-slate-200",children:[u.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-white rounded-full shadow-md",children:u.jsx("i",{className:"ri-chat-smile-2-line text-4xl text-primary-300"})}),u.jsx("p",{className:"text-slate-600 font-semibold text-lg",children:"  "}),u.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"    !"})]})]})]})})]})}function BN(){const r=ze(),[e,a]=N.useState("dating"),[s,l]=N.useState([]),[c,d]=N.useState(""),[h,p]=N.useState(!1),[g,x]=N.useState(null),[y,v]=N.useState(!0),[_,j]=N.useState(null);N.useEffect(()=>{(async()=>{try{const{data:{user:U}}=await fe.auth.getUser();if(U){j(U);try{const{data:D,error:J}=await fe.from("users").select("*").eq("id",U.id).single();!J&&D&&j({...U,profile:D})}catch{}}else{const D=localStorage.getItem("user");if(D)try{const J=JSON.parse(D);j(J),console.log("  :",J)}catch(J){console.error("   :",J),j(null)}else j(null)}}catch(U){console.error("   :",U);const D=localStorage.getItem("user");if(D)try{j(JSON.parse(D))}catch{j(null)}}})()},[]),N.useEffect(()=>{_!==null&&T()},[_]);const T=async()=>{v(!0);try{const R=new Promise((te,je)=>setTimeout(()=>je(new Error("Timeout")),5e3)),U=fe.from("community_posts").select(`
          *,
          users!user_id (
            id,
            name,
            avatar_url,
            age,
            location,
            gender,
            bio,
            school,
            job
          ),
          post_comments (
            id,
            author_name,
            avatar_url,
            content,
            likes,
            created_at
          )
        `).order("created_at",{ascending:!1}),{data:D,error:J}=await Promise.race([U,R]);if(J)throw J;if(D&&D.length>0){let te=[];if(_){const{data:le}=await fe.from("community_post_likes").select("post_id").eq("user_id",_.id);te=le?.map(me=>me.post_id)||[]}const je=D.map(le=>{const me=le.users;return{id:le.id,author:me?.name||"",avatar:me?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=400&height=500&seq=default&orientation=portrait",content:le.content,image:le.image_url,likes:le.likes,comments:le.post_comments?.map($e=>({id:$e.id,author:$e.author_name,avatar:$e.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=default&orientation=squarish",content:$e.content,timeAgo:L($e.created_at),likes:$e.likes,isLiked:!1}))||[],timeAgo:L(le.created_at),isLiked:te.includes(le.id),age:me?.age,location:me?.location,job:me?.job,views:le.views,category:le.category,userId:le.user_id,authorData:{id:me?.id,name:me?.name||"",avatar_url:me?.avatar_url,age:me?.age,location:me?.location,gender:me?.gender,bio:me?.bio,school:me?.school,job:me?.job}}});l(je)}else throw new Error("No data")}catch(R){console.error("  :",R),l([])}finally{v(!1)}},L=R=>{const U=new Date,D=new Date(R),J=Math.floor((U.getTime()-D.getTime())/(1e3*60));if(J<1)return" ";if(J<60)return`${J} `;const te=Math.floor(J/60);return te<24?`${te} `:`${Math.floor(te/24)} `},I=s.filter(R=>R.category===e),k=async R=>{if(!_){alert(" .");return}const U=s.find(D=>D.id===R);if(U)try{U.isLiked?(await fe.from("community_post_likes").delete().eq("post_id",R).eq("user_id",_.id),await fe.from("community_posts").update({likes:Math.max(0,U.likes-1)}).eq("id",R),l(s.map(D=>D.id===R?{...D,isLiked:!1,likes:Math.max(0,D.likes-1)}:D))):(await fe.from("community_post_likes").insert({post_id:R,user_id:_.id}),await fe.from("community_posts").update({likes:U.likes+1}).eq("id",R),l(s.map(D=>D.id===R?{...D,isLiked:!0,likes:D.likes+1}:D)))}catch(D){console.error("  :",D),alert("    .")}},S=async R=>{try{await fe.from("community_posts").update({views:(R.views||0)+1}).eq("id",R.id),l(s.map(U=>U.id===R.id?{...U,views:(U.views||0)+1}:U))}catch(U){console.error("  :",U)}x(R)},$=()=>{x(null),window.scrollTo(0,0)},Y=R=>{l(s.map(U=>U.id===R.id?R:U))},M=async()=>{if(c.trim()){if(!_){alert(" .");return}try{const R={user_id:_.id,author_name:_.profile?.name||"",avatar_url:_.profile?.avatar_url||"",title:c.substring(0,50),content:`${_.profile?.name||""} (${_.profile?.location||" "} / ${_.profile?.age||" "} / ${_.profile?.school||" "})`,image_url:_.profile?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=400&height=500&seq=newpost&orientation=portrait",likes:0,views:0,category:e,age:_.profile?.age,location:_.profile?.location,job:_.profile?.school},{data:U,error:D}=await fe.from("community_posts").insert([R]).select().single();if(D)throw D;if(U){const J={id:U.id,author:U.title,avatar:U.avatar_url,content:U.content,image:U.image_url,likes:0,comments:[],timeAgo:" ",isLiked:!1,age:U.age,location:U.location,job:U.job,views:0,category:U.category};l([J,...s]),d(""),p(!1)}}catch(R){console.error("  :",R),alert("  .")}}};return g?u.jsx($N,{post:g,onBack:$,onUpdatePost:Y,onDeletePost:R=>{l(s.filter(U=>U.id!==R)),x(null)}}):u.jsxs("div",{className:"px-4 py-4 pb-20 min-h-screen",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("h2",{className:"text-2xl font-bold font-display text-slate-800",children:""}),u.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg shadow-primary-500/30 animate-pulse-soft",children:"TODAY"}),u.jsx("span",{className:"text-primary-600 font-bold font-display text-lg",children:"30,301"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:u.jsx("i",{className:"ri-equalizer-line text-xl text-slate-400 group-hover:text-primary-500 transition-colors"})}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:u.jsx("i",{className:"ri-layout-grid-line text-xl text-slate-400 group-hover:text-primary-500 transition-colors"})})]})]}),u.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:[u.jsx("button",{onClick:()=>a("dating"),className:`px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap cursor-pointer transition-all duration-300 ${e==="dating"?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-100"}`,children:""}),u.jsx("button",{onClick:()=>a("chat"),className:`px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap cursor-pointer transition-all duration-300 ${e==="chat"?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-100"}`,children:""})]}),u.jsxs("div",{className:"flex space-x-2 mb-6",children:[u.jsx("button",{className:"px-4 py-1.5 bg-primary-50 text-primary-600 rounded-full text-xs font-bold whitespace-nowrap cursor-pointer border border-primary-100",children:""}),u.jsx("button",{className:"px-4 py-1.5 bg-white text-slate-400 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer hover:bg-slate-50 border border-transparent hover:border-slate-100 transition-colors",children:""})]}),y?u.jsxs("div",{className:"flex flex-col justify-center items-center py-20 space-y-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-primary-100 border-t-primary-500 rounded-full animate-spin"}),u.jsx("p",{className:"text-slate-400 text-sm font-medium animate-pulse",children:"  ..."})]}):u.jsx("div",{className:"space-y-4",children:I.map(R=>u.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden cursor-pointer hover:shadow-xl hover:shadow-primary-500/5 transition-all duration-300 group transform hover:-translate-y-0.5",onClick:()=>S(R),children:u.jsxs("div",{className:"flex p-3",children:[u.jsxs("div",{className:"w-28 h-36 flex-shrink-0 rounded-2xl overflow-hidden relative",children:[u.jsx("img",{src:R.image,alt:R.author,className:"w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),u.jsxs("div",{className:"flex-1 ml-4 flex flex-col justify-between py-1",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-md bg-slate-100 text-slate-500",children:R.category==="dating"?"":""}),u.jsx("span",{className:"text-xs text-slate-400",children:R.timeAgo})]}),u.jsx("h3",{className:"text-base font-bold text-slate-800 line-clamp-1 mb-1 group-hover:text-primary-600 transition-colors",children:R.author}),u.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 leading-relaxed",children:R.content})]}),u.jsx("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-50",children:u.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium text-slate-400",children:[u.jsxs("div",{className:"flex items-center space-x-1.5 group/icon",children:[u.jsx("i",{className:"ri-eye-line group-hover/icon:text-primary-500 transition-colors"}),u.jsx("span",{children:R.views})]}),u.jsxs("button",{onClick:U=>{U.stopPropagation(),k(R.id)},className:"flex items-center space-x-1.5 group/icon cursor-pointer",children:[u.jsx("i",{className:`ri-heart-3-line group-hover/icon:text-pink-500 transition-colors ${R.isLiked?"text-pink-500 ri-heart-3-fill":""}`}),u.jsx("span",{children:R.likes})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 group/icon",children:[u.jsx("i",{className:"ri-chat-3-line group-hover/icon:text-blue-500 transition-colors"}),u.jsx("span",{children:R.comments.length})]})]})})]})]})},R.id))}),u.jsx("button",{onClick:()=>r("/post/create"),className:"fixed bottom-24 right-6 w-14 h-14 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-full shadow-lg shadow-primary-500/40 flex items-center justify-center hover:from-primary-600 hover:to-primary-700 hover:scale-110 transition-all cursor-pointer z-30 group",children:u.jsx("i",{className:"ri-add-line text-2xl group-hover:rotate-90 transition-transform duration-300"})}),h&&u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-end animate-fade-in",children:u.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-6 animate-slide-up shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold font-display text-slate-800",children:"  "}),u.jsx("button",{onClick:()=>p(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-xl text-slate-400"})})]}),u.jsx("textarea",{value:c,onChange:R=>d(R.target.value),placeholder:"   ?",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm resize-none bg-slate-50 placeholder-slate-400 transition-all",rows:5,maxLength:500}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:"text-xs font-medium text-slate-400",children:[c.length,"/500"]}),u.jsx("button",{onClick:M,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-full hover:from-primary-600 hover:to-primary-700 transition-all cursor-pointer whitespace-nowrap text-sm font-bold shadow-lg shadow-primary-500/30",children:""})]})]})})]})}const rr=r=>r===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function HN(){const[r,e]=N.useState(null),[a,s]=N.useState(""),l=N.useRef(null),[c,d]=N.useState([]),[h,p]=N.useState({});N.useEffect(()=>{r&&l.current&&l.current.scrollIntoView({behavior:"smooth"})},[h,r]),N.useEffect(()=>{const v=_=>{const{userId:j,userName:T,userAvatar:L}=_.detail;if(!c.find(k=>k.id===j)){const k={id:j,name:T,avatar:L,lastMessage:"!  ",lastMessageTime:" ",unreadCount:0,isOnline:!0,gender:""};d(S=>[k,...S]),p(S=>({...S,[j]:[{id:1,senderId:0,content:"!  ",timestamp:new Date().toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),isRead:!0}]}))}e(j)};return window.addEventListener("openChat",v),()=>{window.removeEventListener("openChat",v)}},[c]);const g=()=>{if(a.trim()&&r){const v={id:(h[r]?.length||0)+1,senderId:0,content:a,timestamp:new Date().toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),isRead:!0};p(_=>({..._,[r]:[..._[r]||[],v]})),d(_=>_.map(j=>j.id===r?{...j,lastMessage:a,lastMessageTime:" "}:j)),s("")}},x=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),g())},y=v=>{e(v),d(_=>_.map(j=>j.id===v?{...j,unreadCount:0}:j))};if(r){const v=c.find(j=>j.id===r),_=h[r]||[];return u.jsxs("div",{className:"fixed inset-0 top-0 bottom-20 flex flex-col bg-slate-50 z-50",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 bg-white/90 backdrop-blur-md flex-shrink-0 pt-16",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>e(null),className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:u.jsx("i",{className:"ri-arrow-left-line text-xl text-slate-600"})}),u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:v?.avatar||rr(v?.gender),alt:v?.name,className:"w-10 h-10 rounded-full object-cover object-top shadow-sm",onError:j=>{const T=j.target;T.src=rr(v?.gender)}}),v?.isOnline&&u.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-slate-800 font-display",children:v?.name}),v?.isOnline&&u.jsx("span",{className:"text-[10px] text-green-500 font-medium",children:""})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-phone-line text-xl"})}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-video-line text-xl"})}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-more-line text-xl"})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[_.map(j=>u.jsx("div",{className:`flex ${j.senderId===0?"justify-end":"justify-start"} animate-slide-up`,children:u.jsxs("div",{className:"flex items-end space-x-2 max-w-[80%]",children:[j.senderId!==0&&u.jsx("img",{src:v?.avatar||rr(v?.gender),alt:v?.name,className:"w-8 h-8 rounded-full object-cover object-top shadow-sm mb-1",onError:T=>{const L=T.target;L.src=rr(v?.gender)}}),u.jsx("div",{className:`px-5 py-3 rounded-2xl shadow-sm ${j.senderId===0?"bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-br-none":"bg-white text-slate-700 rounded-bl-none border border-slate-100"}`,children:u.jsx("p",{className:"text-sm leading-relaxed",children:j.content})})]})},j.id)),_.length>0&&u.jsx("div",{className:"text-center py-2",children:u.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-100 px-3 py-1 rounded-full",children:_[_.length-1]?.timestamp})}),u.jsx("div",{ref:l})]}),u.jsx("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:u.jsx("i",{className:"ri-add-line text-xl"})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",value:a,onChange:j=>s(j.target.value),onKeyPress:x,placeholder:" ...",className:"w-full px-5 py-3 bg-slate-50 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all text-sm border border-transparent focus:border-primary-200",maxLength:500}),u.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-primary-500 transition-colors",children:u.jsx("i",{className:"ri-emotion-line text-xl"})})]}),u.jsx("button",{onClick:g,disabled:!a.trim(),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all cursor-pointer shadow-md ${a.trim()?"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:scale-105 hover:shadow-primary-500/30":"bg-slate-100 text-slate-300 cursor-not-allowed"}`,children:u.jsx("i",{className:"ri-send-plane-fill text-lg"})})]})})]})}return u.jsx("div",{className:"px-4 py-6 pb-20 min-h-screen",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold font-display text-slate-800",children:""}),u.jsx("div",{className:"flex space-x-2",children:u.jsx("button",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-slate-400 hover:text-primary-500 hover:shadow-md transition-all",children:u.jsx("i",{className:"ri-search-line text-xl"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-2",children:"Recent Messages"}),c.map(v=>u.jsx("div",{onClick:()=>y(v.id),className:"bg-white rounded-3xl p-4 shadow-sm hover:shadow-lg hover:shadow-primary-500/5 transition-all duration-300 cursor-pointer border border-slate-50 group transform hover:-translate-y-0.5",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:v.avatar||rr(v.gender),alt:v.name,className:"w-14 h-14 rounded-2xl object-cover object-top shadow-sm group-hover:scale-105 transition-transform duration-300",onError:_=>{const j=_.target;j.src=rr(v.gender)}}),v.isOnline&&u.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h3",{className:"font-bold text-slate-800 truncate text-base font-display group-hover:text-primary-600 transition-colors",children:v.name}),u.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-50 px-2 py-0.5 rounded-full",children:v.lastMessageTime})]}),u.jsx("p",{className:`text-sm truncate ${v.unreadCount>0?"text-slate-800 font-bold":"text-slate-500"}`,children:v.lastMessage})]}),v.unreadCount>0&&u.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg shadow-primary-500/30 animate-bounce",children:v.unreadCount})]})},v.id))]}),c.length===0&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:u.jsx("i",{className:"ri-chat-3-line text-4xl text-slate-300"})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 font-display",children:"  "}),u.jsx("p",{className:"text-slate-500",children:"   !"})]})]})})}const xx=r=>r===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function qN(){const r=ze(),[e,a]=N.useState({name:"",age:0,gender:"",location:" ",avatar:"",bio:"",interests:[]}),[s,l]=N.useState({received:0,sent:0}),[c,d]=N.useState(!0);if(N.useEffect(()=>{(()=>{try{const x=localStorage.getItem("user");if(x){const y=JSON.parse(x);a({name:y.name||"",age:y.age||0,gender:y.gender||"",location:y.location||" ",avatar:y.avatar_url||"",bio:y.bio||"",interests:y.interests||[]}),console.log("  :",y)}}catch(x){console.error("  :",x)}finally{d(!1)}})()},[]),c)return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})]}),u.jsx("div",{className:"text-sm font-medium text-slate-500",children:"  ..."})]});const h=()=>{r("/profile-edit")},p=()=>{r("/matching-requests")};return u.jsx("div",{className:"px-4 py-6 pb-20 min-h-screen",children:u.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-8 animate-slide-up relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-primary-100 to-secondary-100 opacity-50"}),u.jsxs("div",{className:"relative text-center",children:[u.jsxs("div",{className:"relative inline-block mb-4",children:[u.jsx("div",{className:"p-1 bg-white rounded-full shadow-lg",children:u.jsx("img",{src:e.avatar||xx(e.gender),alt:e.name,className:"w-28 h-28 rounded-full object-cover group-hover:scale-105 transition-transform duration-500",onError:g=>{const x=g.target;x.src=xx(e.gender)}})}),u.jsx("button",{className:"absolute bottom-2 right-2 w-9 h-9 bg-slate-800 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-black transition-colors cursor-pointer hover:scale-110 transform duration-300 border-2 border-white",children:u.jsx("i",{className:"ri-camera-line text-lg"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1 font-display",children:e.name}),u.jsxs("p",{className:"text-slate-500 mb-6 font-medium",children:[e.age,"  ",e.location]}),u.jsx("button",{onClick:h,className:"w-full bg-slate-800 text-white py-3.5 rounded-2xl font-bold hover:bg-black transition-all cursor-pointer whitespace-nowrap shadow-lg shadow-slate-200 hover:shadow-xl transform hover:-translate-y-0.5",children:" "})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-secondary-600 rounded-[2rem] shadow-xl shadow-primary-500/20 p-6 animate-slide-up text-white relative overflow-hidden",style:{animationDelay:"0.1s"},children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full blur-xl -ml-10 -mb-10"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"font-bold text-lg flex items-center font-display",children:[u.jsx("i",{className:"ri-heart-fill text-pink-300 mr-2 text-xl animate-pulse-soft"})," "]}),u.jsx("button",{onClick:p,className:"text-white/80 text-sm font-medium hover:text-white cursor-pointer whitespace-nowrap bg-white/10 px-3 py-1 rounded-full backdrop-blur-sm hover:bg-white/20 transition-colors",children:""})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 text-center border border-white/10 hover:bg-white/20 transition-colors",children:[u.jsx("div",{className:"text-3xl font-bold mb-1 font-display",children:s.received}),u.jsx("div",{className:"text-xs text-white/80 font-medium",children:" "})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 text-center border border-white/10 hover:bg-white/20 transition-colors",children:[u.jsx("div",{className:"text-3xl font-bold mb-1 font-display",children:s.sent}),u.jsx("div",{className:"text-xs text-white/80 font-medium",children:" "})]})]}),u.jsxs("button",{onClick:p,className:"w-full bg-white text-primary-600 py-3.5 rounded-2xl font-bold hover:bg-slate-50 transition-all cursor-pointer whitespace-nowrap flex items-center justify-center shadow-lg",children:[u.jsx("i",{className:"ri-heart-line mr-2 text-lg"})," "]})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[u.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center font-display",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-50 flex items-center justify-center mr-3 text-primary-500",children:u.jsx("i",{className:"ri-user-smile-line text-lg"})}),""]}),u.jsx("p",{className:"text-slate-600 leading-relaxed bg-slate-50 p-4 rounded-2xl text-sm",children:e.bio})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.3s"},children:[u.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center font-display",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-50 flex items-center justify-center mr-3 text-pink-500",children:u.jsx("i",{className:"ri-heart-line text-lg"})}),""]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.interests.map((g,x)=>u.jsx("span",{className:"bg-white border border-slate-100 text-slate-600 px-4 py-2 rounded-full text-sm font-medium shadow-sm hover:shadow-md hover:border-primary-200 hover:text-primary-600 transition-all cursor-default",children:g},x))})]}),u.jsx("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-4 animate-slide-up",style:{animationDelay:"0.4s"},children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:u.jsx("i",{className:"ri-settings-3-line text-blue-500 text-xl"})}),u.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:""})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]}),u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center group-hover:bg-green-100 transition-colors",children:u.jsx("i",{className:"ri-shield-check-line text-green-500 text-xl"})}),u.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:" "})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]}),u.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-full flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:u.jsx("i",{className:"ri-question-line text-purple-500 text-xl"})}),u.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:""})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]})]})})]})})}function VN(){const r=ze(),{user:e,loading:a}=Wo(),[s,l]=N.useState("matching"),[c]=N.useState(150);if(N.useEffect(()=>{if(!a){const h=localStorage.getItem("user");!e&&!h&&r("/login")}},[a,e,r]),a)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:" ..."})]})});const d=()=>{switch(s){case"matching":return u.jsx(gx,{});case"community":return u.jsx(BN,{});case"chat":return u.jsx(HN,{});case"profile":return u.jsx(qN,{});default:return u.jsx(gx,{})}};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(PN,{coins:c}),u.jsx("main",{className:"pt-20 pb-28 px-4 max-w-screen-xl mx-auto",children:d()}),u.jsx(zN,{activeTab:s,onTabChange:l})]})}function GN(){const r=ze(),{signInPhone:e,signUpPhone:a}=Wo(),[s,l]=N.useState(!0),[c,d]=N.useState(!1),[h,p]=N.useState({phoneNumber:"",password:"",confirmPassword:"",name:"",age:"",gender:"male"}),g=async y=>{y.preventDefault(),d(!0);try{if(!h.phoneNumber||!h.password){alert("  ."),d(!1);return}const{error:v}=await e(h.phoneNumber,h.password);if(v){alert(` : ${v.message}`);return}r("/")}catch(v){alert(` : ${v.message}`)}finally{d(!1)}},x=async y=>{if(y.preventDefault(),!h.phoneNumber){alert(" .");return}if(h.password!==h.confirmPassword){alert("  .");return}if(h.password.length<8){alert(" 8  .");return}if(!h.name){alert(" .");return}d(!0);try{const{error:v}=await a(h.phoneNumber,h.password,h.name);if(v){alert(` : ${v.message}`);return}alert(" !"),r("/")}catch(v){alert(` : ${v.message}`)}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:"   "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsxs("div",{className:"flex bg-gray-100 rounded-full p-1 mb-6",children:[u.jsx("button",{onClick:()=>l(!0),className:`flex-1 py-3 rounded-full font-medium transition-all cursor-pointer whitespace-nowrap ${s?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md":"text-gray-600"}`,children:""}),u.jsx("button",{onClick:()=>l(!1),className:`flex-1 py-3 rounded-full font-medium transition-all cursor-pointer whitespace-nowrap ${s?"text-gray-600":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md"}`,children:""})]}),s?u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"tel",value:h.phoneNumber,onChange:y=>p({...h,phoneNumber:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"010-1234-5678"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"password",value:h.password,onChange:y=>p({...h,password:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"mr-2"}),u.jsx("span",{className:"text-gray-600",children:"  "})]}),u.jsx("button",{type:"button",className:"text-cyan-500 hover:text-cyan-600 cursor-pointer whitespace-nowrap",children:" "})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:c?" ...":""})]}):u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"tel",value:h.phoneNumber,onChange:y=>p({...h,phoneNumber:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"010-1234-5678"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:h.name,onChange:y=>p({...h,name:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",min:"19",max:"99",value:h.age,onChange:y=>p({...h,age:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{value:h.gender,onChange:y=>p({...h,gender:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm pr-8",children:[u.jsx("option",{value:"male",children:""}),u.jsx("option",{value:"female",children:""})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"password",minLength:8,value:h.password,onChange:y=>p({...h,password:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"8  "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"password",value:h.confirmPassword,onChange:y=>p({...h,confirmPassword:y.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"  "})]}),u.jsxs("label",{className:"flex items-start cursor-pointer text-sm",children:[u.jsx("input",{type:"checkbox",className:"mt-1 mr-2"}),u.jsxs("span",{className:"text-gray-600",children:[u.jsx("span",{className:"text-cyan-500",children:""}),"  ",u.jsx("span",{className:"text-cyan-500",children:""})," "]})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:c?" ...":""})]})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:u.jsxs("p",{children:[" ?"," ",u.jsx("button",{className:"text-cyan-500 hover:text-cyan-600 cursor-pointer whitespace-nowrap",children:""})]})})]})})}const KN=()=>{};var yx={};const sb=function(r){const e=[];let a=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[a++]=l:l<2048?(e[a++]=l>>6|192,e[a++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[a++]=l>>18|240,e[a++]=l>>12&63|128,e[a++]=l>>6&63|128,e[a++]=l&63|128):(e[a++]=l>>12|224,e[a++]=l>>6&63|128,e[a++]=l&63|128)}return e},FN=function(r){const e=[];let a=0,s=0;for(;a<r.length;){const l=r[a++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[a++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[a++],d=r[a++],h=r[a++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[a++],d=r[a++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,h=d?r[l+1]:0,p=l+2<r.length,g=p?r[l+2]:0,x=c>>2,y=(c&3)<<4|h>>4;let v=(h&15)<<2|g>>6,_=g&63;p||(_=64,d||(v=64)),s.push(a[x],a[y],a[v],a[_])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=a[r.charAt(l++)],h=l<r.length?a[r.charAt(l)]:0;++l;const g=l<r.length?a[r.charAt(l)]:64;++l;const y=l<r.length?a[r.charAt(l)]:64;if(++l,c==null||h==null||g==null||y==null)throw new YN;const v=c<<2|h>>4;if(s.push(v),g!==64){const _=h<<4&240|g>>2;if(s.push(_),y!==64){const j=g<<6&192|y;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JN=function(r){const e=sb(r);return rb.encodeByteArray(e,!0)},ib=function(r){return JN(r).replace(/\./g,"")},lb=function(r){try{return rb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QN=()=>XN().__FIREBASE_DEFAULTS__,ZN=()=>{if(typeof process>"u"||typeof yx>"u")return;const r=yx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lb(r[1]);return e&&JSON.parse(e)},qf=()=>{try{return KN()||QN()||ZN()||WN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eE=r=>qf()?.emulatorHosts?.[r],ob=()=>qf()?.config,cb=r=>qf()?.[`_${r}`];class tE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,s))}}}function ec(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nE(r){return(await fetch(r,{credentials:"include"})).ok}const Ei={};function aE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ei))Ei[e]?r.emulator.push(e):r.prod.push(e);return r}function sE(r){let e=document.getElementById(r),a=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),a=!0),{created:a,element:e}}let bx=!1;function rE(r,e){if(typeof window>"u"||typeof document>"u"||!ec(window.location.host)||Ei[r]===e||Ei[r]||bx)return;Ei[r]=e;function a(v){return`__firebase__banner__${v}`}const s="__firebase__banner",c=aE().prod.length>0;function d(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{bx=!0,d()},v}function x(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=sE(s),_=a("text"),j=document.getElementById(_)||document.createElement("span"),T=a("learnmore"),L=document.getElementById(T)||document.createElement("a"),I=a("preprendIcon"),k=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const S=v.element;h(S),x(L,T);const $=g();p(k,I),S.append(k,j,L,$),document.body.appendChild(S)}c?(j.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function lE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ub(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cE(){const r=pt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function db(){try{return typeof indexedDB=="object"}catch{return!1}}function fb(){return new Promise((r,e)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),a||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{a=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(a){e(a)}})}function uE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const dE="FirebaseError";class hn extends Error{constructor(e,a,s){super(a),this.code=e,this.customData=s,this.name=dE,Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(e,a,s){this.service=e,this.serviceName=a,this.errors=s}create(e,...a){const s=a[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?fE(c,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new hn(l,h,s)}}function fE(r,e){return r.replace(hE,(a,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const hE=/\{\$([^}]+)}/g;function mE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ns(r,e){if(r===e)return!0;const a=Object.keys(r),s=Object.keys(e);for(const l of a){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(vx(c)&&vx(d)){if(!ns(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!a.includes(l))return!1;return!0}function vx(r){return r!==null&&typeof r=="object"}function yr(r){const e=[];for(const[a,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pE(r,e){const a=new gE(r,e);return a.subscribe.bind(a)}class gE{constructor(e,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,s){let l;if(e===void 0&&a===void 0&&s===void 0)throw new Error("Missing Observer.");xE(e,["next","error","complete"])?l=e:l={next:e,error:a,complete:s},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xE(r,e){if(typeof r!="object"||r===null)return!1;for(const a of e)if(a in r&&typeof r[a]=="function")return!0;return!1}function Hd(){}const yE=1e3,bE=2,vE=14400*1e3,wE=.5;function wx(r,e=yE,a=bE){const s=e*Math.pow(a,r),l=Math.round(wE*s*(Math.random()-.5)*2);return Math.min(vE,s+l)}function Vn(r){return r&&r._delegate?r._delegate:r}class un{constructor(e,a,s){this.name=e,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Za="[DEFAULT]";class _E{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const s=new tE;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:a});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){const a=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SE(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);s===h&&d.resolve(l)}return l}onInit(e,a){const s=this.normalizeInstanceIdentifier(a),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,a){const s=this.onInitCallbacks.get(a);if(s)for(const l of s)try{l(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jE(e),options:a}),this.instances.set(e,s),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jE(r){return r===Za?void 0:r}function SE(r){return r.instantiationMode==="EAGER"}class NE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new _E(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const EE={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},TE=Le.INFO,CE={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},AE=(r,e,...a)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=CE[e];if(l)console[l](`[${s}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=TE,this._logHandler=AE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const kE=(r,e)=>e.some(a=>r instanceof a);let _x,jx;function RE(){return _x||(_x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OE(){return jx||(jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,vf=new WeakMap,mb=new WeakMap,qd=new WeakMap,Gf=new WeakMap;function IE(r){const e=new Promise((a,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{a(Na(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(a=>{a instanceof IDBCursor&&hb.set(a,r)}).catch(()=>{}),Gf.set(e,r),e}function DE(r){if(vf.has(r))return;const e=new Promise((a,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{a(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});vf.set(r,e)}let wf={get(r,e,a){if(r instanceof IDBTransaction){if(e==="done")return vf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||mb.get(r);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Na(r[e])},set(r,e,a){return r[e]=a,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LE(r){wf=r(wf)}function UE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const s=r.call(Vd(this),e,...a);return mb.set(s,e.sort?e.sort():[e]),Na(s)}:OE().includes(r)?function(...e){return r.apply(Vd(this),e),Na(hb.get(this))}:function(...e){return Na(r.apply(Vd(this),e))}}function ME(r){return typeof r=="function"?UE(r):(r instanceof IDBTransaction&&DE(r),kE(r,RE())?new Proxy(r,wf):r)}function Na(r){if(r instanceof IDBRequest)return IE(r);if(qd.has(r))return qd.get(r);const e=ME(r);return e!==r&&(qd.set(r,e),Gf.set(e,r)),e}const Vd=r=>Gf.get(r);function pb(r,e,{blocked:a,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),h=Na(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Na(d.result),p.oldVersion,p.newVersion,Na(d.transaction),p)}),a&&d.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const PE=["get","getKey","getAll","getAllKeys","count"],zE=["put","add","delete","clear"],Gd=new Map;function Sx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const a=e.replace(/FromIndex$/,""),s=e!==a,l=zE.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(l||PE.includes(a)))return;const c=async function(d,...h){const p=this.transaction(d,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[a](...h),l&&p.done]))[0]};return Gd.set(e,c),c}LE(r=>({...r,get:(e,a,s)=>Sx(e,a)||r.get(e,a,s),has:(e,a)=>!!Sx(e,a)||r.has(e,a)}));class $E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(BE(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function BE(r){return r.getComponent()?.type==="VERSION"}const _f="@firebase/app",Nx="0.14.0";const zn=new Vf("@firebase/app"),HE="@firebase/app-compat",qE="@firebase/analytics-compat",VE="@firebase/analytics",GE="@firebase/app-check-compat",KE="@firebase/app-check",FE="@firebase/auth",YE="@firebase/auth-compat",JE="@firebase/database",XE="@firebase/data-connect",QE="@firebase/database-compat",ZE="@firebase/functions",WE="@firebase/functions-compat",eT="@firebase/installations",tT="@firebase/installations-compat",nT="@firebase/messaging",aT="@firebase/messaging-compat",sT="@firebase/performance",rT="@firebase/performance-compat",iT="@firebase/remote-config",lT="@firebase/remote-config-compat",oT="@firebase/storage",cT="@firebase/storage-compat",uT="@firebase/firestore",dT="@firebase/ai",fT="@firebase/firestore-compat",hT="firebase",mT="12.0.0";const jf="[DEFAULT]",pT={[_f]:"fire-core",[HE]:"fire-core-compat",[VE]:"fire-analytics",[qE]:"fire-analytics-compat",[KE]:"fire-app-check",[GE]:"fire-app-check-compat",[FE]:"fire-auth",[YE]:"fire-auth-compat",[JE]:"fire-rtdb",[XE]:"fire-data-connect",[QE]:"fire-rtdb-compat",[ZE]:"fire-fn",[WE]:"fire-fn-compat",[eT]:"fire-iid",[tT]:"fire-iid-compat",[nT]:"fire-fcm",[aT]:"fire-fcm-compat",[sT]:"fire-perf",[rT]:"fire-perf-compat",[iT]:"fire-rc",[lT]:"fire-rc-compat",[oT]:"fire-gcs",[cT]:"fire-gcs-compat",[uT]:"fire-fst",[fT]:"fire-fst-compat",[dT]:"fire-vertex","fire-js":"fire-js",[hT]:"fire-js-all"};const Mo=new Map,gT=new Map,Sf=new Map;function Ex(r,e){try{r.container.addComponent(e)}catch(a){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,a)}}function $n(r){const e=r.name;if(Sf.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,r);for(const a of Mo.values())Ex(a,r);for(const a of gT.values())Ex(a,r);return!0}function br(r,e){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(e)}function ln(r){return r==null?!1:r.settings!==void 0}const xT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new ls("app","Firebase",xT);class yT{constructor(e,a,s){this._isDeleted=!1,this._options={...e},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}const Ki=mT;function gb(r,e={}){let a=r;typeof e!="object"&&(e={name:e});const s={name:jf,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Ea.create("bad-app-name",{appName:String(l)});if(a||(a=ob()),!a)throw Ea.create("no-options");const c=Mo.get(l);if(c){if(ns(a,c.options)&&ns(s,c.config))return c;throw Ea.create("duplicate-app",{appName:l})}const d=new NE(l);for(const p of Sf.values())d.addComponent(p);const h=new yT(a,s,d);return Mo.set(l,h),h}function xb(r=jf){const e=Mo.get(r);if(!e&&r===jf&&ob())return gb();if(!e)throw Ea.create("no-app",{appName:r});return e}function cn(r,e,a){let s=pT[r]??r;a&&(s+=`-${a}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(d.join(" "));return}$n(new un(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bT="firebase-heartbeat-database",vT=1,Li="firebase-heartbeat-store";let Kd=null;function yb(){return Kd||(Kd=pb(bT,vT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Li)}catch(a){console.warn(a)}}}}).catch(r=>{throw Ea.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function wT(r){try{const a=(await yb()).transaction(Li),s=await a.objectStore(Li).get(bb(r));return await a.done,s}catch(e){if(e instanceof hn)zn.warn(e.message);else{const a=Ea.create("idb-get",{originalErrorMessage:e?.message});zn.warn(a.message)}}}async function Tx(r,e){try{const s=(await yb()).transaction(Li,"readwrite");await s.objectStore(Li).put(e,bb(r)),await s.done}catch(a){if(a instanceof hn)zn.warn(a.message);else{const s=Ea.create("idb-set",{originalErrorMessage:a?.message});zn.warn(s.message)}}}function bb(r){return`${r.name}!${r.options.appId}`}const _T=1024,jT=30;class ST{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new ET(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>jT){const l=TT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cx(),{heartbeatsToSend:a,unsentEntries:s}=NT(this._heartbeatsCache.heartbeats),l=ib(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return zn.warn(e),""}}}function Cx(){return new Date().toISOString().substring(0,10)}function NT(r,e=_T){const a=[];let s=r.slice();for(const l of r){const c=a.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Ax(a)>e){c.dates.pop();break}}else if(a.push({agent:l.agent,dates:[l.date]}),Ax(a)>e){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class ET{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return db()?fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await wT(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ax(r){return ib(JSON.stringify({version:2,heartbeats:r})).length}function TT(r){if(r.length===0)return-1;let e=0,a=r[0].date;for(let s=1;s<r.length;s++)r[s].date<a&&(a=r[s].date,e=s);return e}function CT(r){$n(new un("platform-logger",e=>new $E(e),"PRIVATE")),$n(new un("heartbeat",e=>new ST(e),"PRIVATE")),cn(_f,Nx,r),cn(_f,Nx,"esm2020"),cn("fire-js","")}CT("");function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AT=vb,wb=new ls("auth","Firebase",vb());const Po=new Vf("@firebase/auth");function kT(r,...e){Po.logLevel<=Le.WARN&&Po.warn(`Auth (${Ki}): ${r}`,...e)}function To(r,...e){Po.logLevel<=Le.ERROR&&Po.error(`Auth (${Ki}): ${r}`,...e)}function Bn(r,...e){throw Kf(r,...e)}function Dt(r,...e){return Kf(r,...e)}function _b(r,e,a){const s={...AT(),[e]:a};return new ls("auth","Firebase",s).create(e,{appName:r.name})}function Ta(r){return _b(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(r,...e){if(typeof r!="string"){const a=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(a,...s)}return wb.create(r,...e)}function Z(r,e,...a){if(!r)throw Kf(e,...a)}function Ln(r){const e="INTERNAL ASSERTION FAILED: "+r;throw To(e),new Error(e)}function Hn(r,e){r||Ln(e)}function Nf(){return typeof self<"u"&&self.location?.href||""}function jb(){return kx()==="http:"||kx()==="https:"}function kx(){return typeof self<"u"&&self.location?.protocol||null}function RT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jb()||ub()||"connection"in navigator)?navigator.onLine:!0}function OT(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fi{constructor(e,a){this.shortDelay=e,this.longDelay=a,Hn(a>e,"Short delay should be less than long delay!"),this.isMobile=iE()||oE()}get(){return RT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ff(r,e){Hn(r.emulator,"Emulator should always be set here");const{url:a}=r.emulator;return e?`${a}${e.startsWith("/")?e.slice(1):e}`:a}class Sb{static initialize(e,a,s){this.fetchImpl=e,a&&(this.headersImpl=a),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LT=new Fi(3e4,6e4);function mn(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function en(r,e,a,s,l={}){return Nb(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const h=yr({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return lE()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ec(r.emulatorConfig.host)&&(g.credentials="include"),Sb.fetch()(await Eb(r,r.config.apiHost,a,h),g)})}async function Nb(r,e,a){r._canInitEmulator=!1;const s={...IT,...e};try{const l=new MT(r),c=await Promise.race([a(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vi(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const h=c.ok?d.errorMessage:d.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vi(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw vi(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw vi(r,"user-disabled",d);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _b(r,x,g);Bn(r,x)}}catch(l){if(l instanceof hn)throw l;Bn(r,"network-request-failed",{message:String(l)})}}async function tc(r,e,a,s,l={}){const c=await en(r,e,a,s,l);return"mfaPendingCredential"in c&&Bn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Eb(r,e,a,s){const l=`${e}${a}?${s}`,c=r,d=c.config.emulator?Ff(r.config,l):`${r.config.apiScheme}://${l}`;return DT.includes(a)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function UT(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((a,s)=>{this.timer=setTimeout(()=>s(Dt(this.auth,"network-request-failed")),LT.get())})}}function vi(r,e,a){const s={appName:r.name};a.email&&(s.email=a.email),a.phoneNumber&&(s.phoneNumber=a.phoneNumber);const l=Dt(r,e,s);return l.customData._tokenResponse=a,l}function Rx(r){return r!==void 0&&r.getResponse!==void 0}function Ox(r){return r!==void 0&&r.enterprise!==void 0}class Tb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const a of this.recaptchaEnforcementState)if(a.provider&&a.provider===e)return UT(a.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PT(r){return(await en(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Cb(r,e){return en(r,"GET","/v2/recaptchaConfig",mn(r,e))}async function zT(r,e){return en(r,"POST","/v1/accounts:delete",e)}async function zo(r,e){return en(r,"POST","/v1/accounts:lookup",e)}function Ti(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $T(r,e=!1){const a=Vn(r),s=await a.getIdToken(e),l=Yf(s);Z(l&&l.exp&&l.auth_time&&l.iat,a.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ti(Fd(l.auth_time)),issuedAtTime:Ti(Fd(l.iat)),expirationTime:Ti(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function Yf(r){const[e,a,s]=r.split(".");if(e===void 0||a===void 0||s===void 0)return To("JWT malformed, contained fewer than 3 sections"),null;try{const l=lb(a);return l?JSON.parse(l):(To("Failed to decode base64 JWT payload"),null)}catch(l){return To("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ix(r){const e=Yf(r);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ui(r,e,a=!1){if(a)return e;try{return await e}catch(s){throw s instanceof hn&&BT(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function BT({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class HT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const a=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ef{constructor(e,a){this.createdAt=e,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ti(this.lastLoginAt),this.creationTime=Ti(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $o(r){const e=r.auth,a=await r.getIdToken(),s=await Ui(r,zo(e,{idToken:a}));Z(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Ab(l.providerUserInfo):[],d=VT(r.providerData,c),h=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,g=h?p:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ef(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,x)}async function qT(r){const e=Vn(r);await $o(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VT(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Ab(r){return r.map(({providerId:e,...a})=>({providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}))}async function GT(r,e){const a=await Nb(r,{},async()=>{const s=yr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Eb(r,l,"/v1/token",`key=${c}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return r.emulatorConfig&&ec(r.emulatorConfig.host)&&(p.credentials="include"),Sb.fetch()(d,p)});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function KT(r,e){return en(r,"POST","/v2/accounts:revokeToken",mn(r,e))}class dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const a="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,a)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const a=Ix(e);this.updateTokensAndExpiration(e,null,a)}async getToken(e,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,a){const{accessToken:s,refreshToken:l,expiresIn:c}=await GT(e,a);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,a,s){this.refreshToken=a||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,a){const{refreshToken:s,accessToken:l,expirationTime:c}=a,d=new dr;return s&&(Z(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(Z(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Z(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dr,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function xa(r,e){Z(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zt{constructor({uid:e,auth:a,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new HT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ef(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const a=await Ui(this,this.stsTokenManager.getToken(this.auth,e));return Z(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(e){return $T(this,e)}reload(){return qT(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(a=>({...a})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const a=new Zt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return a.metadata._copy(this.metadata),a}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,a=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),a&&await $o(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(Ta(this.auth));const e=await this.getIdToken();return await Ui(this,zT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,a){const s=a.displayName??void 0,l=a.email??void 0,c=a.phoneNumber??void 0,d=a.photoURL??void 0,h=a.tenantId??void 0,p=a._redirectEventId??void 0,g=a.createdAt??void 0,x=a.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:_,providerData:j,stsTokenManager:T}=a;Z(y&&T,e,"internal-error");const L=dr.fromJSON(this.name,T);Z(typeof y=="string",e,"internal-error"),xa(s,e.name),xa(l,e.name),Z(typeof v=="boolean",e,"internal-error"),Z(typeof _=="boolean",e,"internal-error"),xa(c,e.name),xa(d,e.name),xa(h,e.name),xa(p,e.name),xa(g,e.name),xa(x,e.name);const I=new Zt({uid:y,auth:e,email:l,emailVerified:v,displayName:s,isAnonymous:_,photoURL:d,phoneNumber:c,tenantId:h,stsTokenManager:L,createdAt:g,lastLoginAt:x});return j&&Array.isArray(j)&&(I.providerData=j.map(k=>({...k}))),p&&(I._redirectEventId=p),I}static async _fromIdTokenResponse(e,a,s=!1){const l=new dr;l.updateFromServerResponse(a);const c=new Zt({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await $o(c),c}static async _fromGetAccountInfoResponse(e,a,s){const l=a.users[0];Z(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Ab(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,h=new dr;h.updateFromIdToken(s);const p=new Zt({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ef(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const Dx=new Map;function Un(r){Hn(r instanceof Function,"Expected a class definition");let e=Dx.get(r);return e?(Hn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Dx.set(r,e),e)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,a){this.storage[e]=a}async _get(e){const a=this.storage[e];return a===void 0?null:a}async _remove(e){delete this.storage[e]}_addListener(e,a){}_removeListener(e,a){}}kb.type="NONE";const Lx=kb;function Co(r,e,a){return`firebase:${r}:${e}:${a}`}class fr{constructor(e,a,s){this.persistence=e,this.auth=a,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Co(this.userKey,l.apiKey,c),this.fullPersistenceKey=Co("persistence",l.apiKey,c),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const a=await zo(this.auth,{idToken:e}).catch(()=>{});return a?Zt._fromGetAccountInfoResponse(this.auth,a,e):null}return Zt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,a,s="authUser"){if(!a.length)return new fr(Un(Lx),e,s);const l=(await Promise.all(a.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||Un(Lx);const d=Co(s,e.config.apiKey,e.name);let h=null;for(const g of a)try{const x=await g._get(d);if(x){let y;if(typeof x=="string"){const v=await zo(e,{idToken:x}).catch(()=>{});if(!v)break;y=await Zt._fromGetAccountInfoResponse(e,v,x)}else y=Zt._fromJSON(e,x);g!==c&&(h=y),c=g;break}}catch{}const p=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new fr(c,e,s):(c=p[0],h&&await c._set(d,h.toJSON()),await Promise.all(a.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new fr(c,e,s))}}function Ux(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ub(e))return"Blackberry";if(Mb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Ib(e))&&!e.includes("edge/"))return"Chrome";if(Lb(e))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(a);if(s?.length===2)return s[1]}return"Other"}function Rb(r=pt()){return/firefox\//i.test(r)}function Ob(r=pt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ib(r=pt()){return/crios\//i.test(r)}function Db(r=pt()){return/iemobile/i.test(r)}function Lb(r=pt()){return/android/i.test(r)}function Ub(r=pt()){return/blackberry/i.test(r)}function Mb(r=pt()){return/webos/i.test(r)}function Jf(r=pt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FT(r=pt()){return Jf(r)&&!!window.navigator?.standalone}function YT(){return cE()&&document.documentMode===10}function Pb(r=pt()){return Jf(r)||Lb(r)||Mb(r)||Ub(r)||/windows phone/i.test(r)||Db(r)}function zb(r,e=[]){let a;switch(r){case"Browser":a=Ux(pt());break;case"Worker":a=`${Ux(pt())}-${r}`;break;default:a=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${a}/JsCore/${Ki}/${s}`}class JT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,a){const s=c=>new Promise((d,h)=>{try{const p=e(c);d(p)}catch(p){h(p)}});s.onAbort=a,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const a=[];try{for(const s of this.queue)await s(e),s.onAbort&&a.push(s.onAbort)}catch(s){a.reverse();for(const l of a)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function XT(r,e={}){return en(r,"GET","/v2/passwordPolicy",mn(r,e))}const QT=6;class ZT{constructor(e){const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=a.minPasswordLength??QT,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=a.meetsMinPasswordLength??!0),a.isValid&&(a.isValid=a.meetsMaxPasswordLength??!0),a.isValid&&(a.isValid=a.containsLowercaseLetter??!0),a.isValid&&(a.isValid=a.containsUppercaseLetter??!0),a.isValid&&(a.isValid=a.containsNumericCharacter??!0),a.isValid&&(a.isValid=a.containsNonAlphanumericCharacter??!0),a}validatePasswordLengthOptions(e,a){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(a.meetsMinPasswordLength=e.length>=s),l&&(a.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(a,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,a,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class WT{constructor(e,a,s,l){this.app=e,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new JT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,a){return a&&(this._popupRedirectResolver=Un(a)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const a=await zo(this,{idToken:e}),s=await Zt._fromGetAccountInfoResponse(this,a,e);await this.directlySetCurrentUser(s)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let s=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&h?.user&&(s=h.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(e){try{await $o(e)}catch(a){if(a?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(Ta(this));const a=e?Vn(e):null;return a&&Z(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(e,a=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(Ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(Ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XT(this),a=new ZT(e);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ls("auth","Firebase",e())}onAuthStateChanged(e,a,s){return this.registerStateListener(this.authStateSubscription,e,a,s)}beforeAuthStateChanged(e,a){return this.beforeStateQueue.pushCallback(e,a)}onIdTokenChanged(e,a,s){return this.registerStateListener(this.idTokenSubscription,e,a,s)}authStateReady(){return new Promise((e,a)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},a)}})}async revokeAccessToken(e){if(this.currentUser){const a=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:a};this.tenantId!=null&&(s.tenantId=this.tenantId),await KT(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,a){const s=await this.getOrInitRedirectPersistenceManager(a);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const a=e&&Un(e)||this._popupRedirectResolver;Z(a,this,"argument-error"),this.redirectPersistenceManager=await fr.create(this,[Un(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,a,s,l){if(this._deleted)return()=>{};const c=typeof a=="function"?a:a.next.bind(a);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(h,this,"internal-error"),h.then(()=>{d||c(this.currentUser)}),typeof a=="function"){const p=e.addObserver(a,s,l);return()=>{d=!0,p()}}else{const p=e.addObserver(a);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();a&&(e["X-Firebase-Client"]=a);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Aa(r){return Vn(r)}class Mx{constructor(e){this.auth=e,this.observer=null,this.addObserver=pE(a=>this.observer=a)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e3(r){Yi=r}function Xf(r){return Yi.loadJS(r)}function t3(){return Yi.recaptchaV2Script}function n3(){return Yi.recaptchaEnterpriseScript}function a3(){return Yi.gapiScript}function $b(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const s3=500,r3=6e4,jo=1e12;class i3{constructor(e){this.auth=e,this.counter=jo,this._widgets=new Map}render(e,a){const s=this.counter;return this._widgets.set(s,new c3(e,this.auth.name,a||{})),this.counter++,s}reset(e){const a=e||jo;this._widgets.get(a)?.delete(),this._widgets.delete(a)}getResponse(e){const a=e||jo;return this._widgets.get(a)?.getResponse()||""}async execute(e){const a=e||jo;return this._widgets.get(a)?.execute(),""}}class l3{constructor(){this.enterprise=new o3}ready(e){e()}execute(e,a){return Promise.resolve("token")}render(e,a){return""}}class o3{ready(e){e()}execute(e,a){return Promise.resolve("token")}render(e,a){return""}}class c3{constructor(e,a,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const l=typeof e=="string"?document.getElementById(e):e;Z(l,"argument-error",{appName:a}),this.container=l,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=u3(50);const{callback:e,"expired-callback":a}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,a)try{a()}catch{}this.isVisible&&this.execute()},r3)},s3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function u3(r){const e=[],a="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<r;s++)e.push(a.charAt(Math.floor(Math.random()*a.length)));return e.join("")}const d3="recaptcha-enterprise",Ci="NO_RECAPTCHA";class Bb{constructor(e){this.type=d3,this.auth=Aa(e)}async verify(e="verify",a=!1){async function s(c){if(!a){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,h)=>{Cb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new Tb(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{h(p)})})}function l(c,d,h){const p=window.grecaptcha;Ox(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(Ci)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l3().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(h=>{if(!a&&Ox(window.grecaptcha))l(h,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=n3();p.length!==0&&(p+=h),Xf(p).then(()=>{l(h,c,d)}).catch(g=>{d(g)})}}).catch(h=>{d(h)})})}}async function Yd(r,e,a,s=!1,l=!1){const c=new Bb(r);let d;if(l)d=Ci;else try{d=await c.verify(a)}catch{d=await c.verify(a,!0)}const h={...e};if(a==="mfaSmsEnrollment"||a==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Jd(r,e,a,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const c=await Yd(r,e,a);return s(r,c).catch(async d=>{if(r._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${a} flow.`);const h=await Yd(r,e,a,!1,!0);return s(r,h)}return Promise.reject(d)})}else{const c=await Yd(r,e,a,!1,!0);return s(r,c)}}async function f3(r){const e=Aa(r),a=await Cb(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new Tb(a);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new Bb(e).verify()}function h3(r,e){const a=br(r,"auth");if(a.isInitialized()){const l=a.getImmediate(),c=a.getOptions();if(ns(c,e??{}))return l;Bn(l,"already-initialized")}return a.initialize({options:e})}function m3(r,e){const a=e?.persistence||[],s=(Array.isArray(a)?a:[a]).map(Un);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function p3(r,e,a){const s=Aa(r);Z(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Hb(e),{host:d,port:h}=g3(e),p=h===null?"":`:${h}`,g={url:`${c}//${d}${p}/`},x=Object.freeze({host:d,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Z(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Z(ns(g,s.config.emulator)&&ns(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,ec(d)?(nE(`${c}//${d}${p}`),rE("Auth",!0)):x3()}function Hb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function g3(r){const e=Hb(r),a=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!a)return{host:"",port:null};const s=a[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Px(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Px(d)}}}function Px(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function x3(){function r(){const e=document.createElement("p"),a=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",a.position="fixed",a.width="100%",a.backgroundColor="#ffffff",a.border=".1em solid #000000",a.color="#b50000",a.bottom="0px",a.left="0px",a.margin="0px",a.zIndex="10000",a.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Qf{constructor(e,a){this.providerId=e,this.signInMethod=a}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,a){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function hr(r,e){return tc(r,"POST","/v1/accounts:signInWithIdp",mn(r,e))}const y3="http://localhost";class as extends Qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const a=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(a.idToken=e.idToken),e.accessToken&&(a.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(a.nonce=e.nonce),e.pendingToken&&(a.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(a.accessToken=e.oauthToken,a.secret=e.oauthTokenSecret):Bn("argument-error"),a}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=a;if(!s||!l)return null;const d=new as(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const a=this.buildRequest();return hr(e,a)}_linkToIdToken(e,a){const s=this.buildRequest();return s.idToken=a,hr(e,s)}_getReauthenticationResolver(e){const a=this.buildRequest();return a.autoCreate=!1,hr(e,a)}buildRequest(){const e={requestUri:y3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),e.postBody=yr(a)}return e}}async function zx(r,e){return en(r,"POST","/v1/accounts:sendVerificationCode",mn(r,e))}async function b3(r,e){return tc(r,"POST","/v1/accounts:signInWithPhoneNumber",mn(r,e))}async function v3(r,e){const a=await tc(r,"POST","/v1/accounts:signInWithPhoneNumber",mn(r,e));if(a.temporaryProof)throw vi(r,"account-exists-with-different-credential",a);return a}const w3={USER_NOT_FOUND:"user-not-found"};async function _3(r,e){const a={...e,operation:"REAUTH"};return tc(r,"POST","/v1/accounts:signInWithPhoneNumber",mn(r,a),w3)}class Ai extends Qf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,a){return new Ai({verificationId:e,verificationCode:a})}static _fromTokenResponse(e,a){return new Ai({phoneNumber:e,temporaryProof:a})}_getIdTokenResponse(e){return b3(e,this._makeVerificationRequest())}_linkToIdToken(e,a){return v3(e,{idToken:a,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return _3(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:a,verificationId:s,verificationCode:l}=this.params;return e&&a?{temporaryProof:e,phoneNumber:a}:{sessionInfo:s,code:l}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:a,verificationCode:s,phoneNumber:l,temporaryProof:c}=e;return!s&&!a&&!l&&!c?null:new Ai({verificationId:a,verificationCode:s,phoneNumber:l,temporaryProof:c})}}class qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ji extends qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wa extends Ji{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";class _a extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(e,a){return as._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:a})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:a,oauthAccessToken:s}=e;if(!a&&!s)return null;try{return _a.credential(a,s)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";class ja extends Ji{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";class Sa extends Ji{constructor(){super("twitter.com")}static credential(e,a){return as._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:a})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:a,oauthTokenSecret:s}=e;if(!a||!s)return null;try{return Sa.credential(a,s)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,a,s,l=!1){const c=await Zt._fromIdTokenResponse(e,s,l),d=$x(s);return new pr({user:c,providerId:d,_tokenResponse:s,operationType:a})}static async _forOperation(e,a,s){await e._updateTokensIfNecessary(s,!0);const l=$x(s);return new pr({user:e,providerId:l,_tokenResponse:s,operationType:a})}}function $x(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Bo extends hn{constructor(e,a,s,l){super(a.code,a.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:a.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,a,s,l){return new Bo(e,a,s,l)}}function Vb(r,e,a,s){return(e==="reauthenticate"?a._getReauthenticationResolver(r):a._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bo._fromErrorAndOperation(r,c,e,s):c})}async function j3(r,e,a=!1){const s=await Ui(r,e._linkToIdToken(r.auth,await r.getIdToken()),a);return pr._forOperation(r,"link",s)}async function S3(r,e,a=!1){const{auth:s}=r;if(ln(s.app))return Promise.reject(Ta(s));const l="reauthenticate";try{const c=await Ui(r,Vb(s,l,e,r),a);Z(c.idToken,s,"internal-error");const d=Yf(c.idToken);Z(d,s,"internal-error");const{sub:h}=d;return Z(r.uid===h,s,"user-mismatch"),pr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Bn(s,"user-mismatch"),c}}async function Gb(r,e,a=!1){if(ln(r.app))return Promise.reject(Ta(r));const s="signIn",l=await Vb(r,s,e),c=await pr._fromIdTokenResponse(r,s,l);return a||await r._updateCurrentUser(c.user),c}async function N3(r,e){return Gb(Aa(r),e)}function E3(r,e,a,s){return Vn(r).onIdTokenChanged(e,a,s)}function T3(r,e,a){return Vn(r).beforeAuthStateChanged(e,a)}function Bx(r,e){return en(r,"POST","/v2/accounts/mfaEnrollment:start",mn(r,e))}const Ho="__sak";class Kb{constructor(e,a){this.storageRetriever=e,this.type=a}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,a){return this.storage.setItem(e,JSON.stringify(a)),Promise.resolve()}_get(e){const a=this.storage.getItem(e);return Promise.resolve(a?JSON.parse(a):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const C3=1e3,A3=10;class Fb extends Kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,a)=>this.onStorageEvent(e,a),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const a of Object.keys(this.listeners)){const s=this.storage.getItem(a),l=this.localCache[a];s!==l&&e(a,l,s)}}onStorageEvent(e,a=!1){if(!e.key){this.forAllChangedKeys((d,h,p)=>{this.notifyListeners(d,p)});return}const s=e.key;a?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!a&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);YT()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,A3):l()}notifyListeners(e,a){this.localCache[e]=a;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(a&&JSON.parse(a))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,a,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:a,newValue:s}),!0)})},C3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,a){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,a){await super._set(e,a),this.localCache[e]=JSON.stringify(a)}async _get(e){const a=await super._get(e);return this.localCache[e]=JSON.stringify(a),a}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fb.type="LOCAL";const k3=Fb;class Yb extends Kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,a){}_removeListener(e,a){}}Yb.type="SESSION";const Jb=Yb;function R3(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(a){return{fulfilled:!1,reason:a}}}))}class nc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const a=this.receivers.find(l=>l.isListeningto(e));if(a)return a;const s=new nc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const a=e,{eventId:s,eventType:l,data:c}=a.data,d=this.handlersMap[l];if(!d?.size)return;a.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(d).map(async g=>g(a.origin,c)),p=await R3(h);a.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,a){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(a)}_unsubscribe(e,a){this.handlersMap[e]&&a&&this.handlersMap[e].delete(a),(!a||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nc.receivers=[];function Zf(r="",e=10){let a="";for(let s=0;s<e;s++)a+=Math.floor(Math.random()*10);return r+a}class O3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,a,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((h,p)=>{const g=Zf("",20);l.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(y){const v=y;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(v.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:a},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qe(){return window}function I3(r){Qe().location.href=r}function Wf(){return typeof Qe().WorkerGlobalScope<"u"&&typeof Qe().importScripts=="function"}async function D3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L3(){return navigator?.serviceWorker?.controller||null}function U3(){return Wf()?self:null}const Xb="firebaseLocalStorageDb",M3=1,qo="firebaseLocalStorage",Qb="fbase_key";class Xi{constructor(e){this.request=e}toPromise(){return new Promise((e,a)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{a(this.request.error)})})}}function ac(r,e){return r.transaction([qo],e?"readwrite":"readonly").objectStore(qo)}function P3(){const r=indexedDB.deleteDatabase(Xb);return new Xi(r).toPromise()}function Tf(){const r=indexedDB.open(Xb,M3);return new Promise((e,a)=>{r.addEventListener("error",()=>{a(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qo,{keyPath:Qb})}catch(l){a(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qo)?e(s):(s.close(),await P3(),e(await Tf()))})})}async function Hx(r,e,a){const s=ac(r,!0).put({[Qb]:e,value:a});return new Xi(s).toPromise()}async function z3(r,e){const a=ac(r,!1).get(e),s=await new Xi(a).toPromise();return s===void 0?null:s.value}function qx(r,e){const a=ac(r,!0).delete(e);return new Xi(a).toPromise()}const $3=800,B3=3;class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tf(),this.db)}async _withRetries(e){let a=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(a++>B3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nc._getInstance(U3()),this.receiver._subscribe("keyChanged",async(e,a)=>({keyProcessed:(await this._poll()).includes(a.key)})),this.receiver._subscribe("ping",async(e,a)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D3(),!this.activeServiceWorker)return;this.sender=new O3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tf();return await Hx(e,Ho,"1"),await qx(e,Ho),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,a){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hx(s,e,a)),this.localCache[e]=a,this.notifyServiceWorker(e)))}async _get(e){const a=await this._withRetries(s=>z3(s,e));return this.localCache[e]=a,a}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(a=>qx(a,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ac(l,!1).getAll();return new Xi(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const a=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),a.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),a.push(l));return a}notifyListeners(e,a){this.localCache[e]=a;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,a){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zb.type="LOCAL";const H3=Zb;function Vx(r,e){return en(r,"POST","/v2/accounts/mfaSignIn:start",mn(r,e))}const Xd=$b("rcb"),q3=new Fi(3e4,6e4);class V3{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Qe().grecaptcha?.render}load(e,a=""){return Z(G3(a),e,"argument-error"),this.shouldResolveImmediately(a)&&Rx(Qe().grecaptcha)?Promise.resolve(Qe().grecaptcha):new Promise((s,l)=>{const c=Qe().setTimeout(()=>{l(Dt(e,"network-request-failed"))},q3.get());Qe()[Xd]=()=>{Qe().clearTimeout(c),delete Qe()[Xd];const h=Qe().grecaptcha;if(!h||!Rx(h)){l(Dt(e,"internal-error"));return}const p=h.render;h.render=(g,x)=>{const y=p(g,x);return this.counter++,y},this.hostLanguage=a,s(h)};const d=`${t3()}?${yr({onload:Xd,render:"explicit",hl:a})}`;Xf(d).catch(()=>{clearTimeout(c),l(Dt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Qe().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function G3(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class K3{async load(e){return new i3(e)}clearedOneInstance(){}}const ki="recaptcha",F3={theme:"light",type:"image"};class Y3{constructor(e,a,s={...F3}){this.parameters=s,this.type=ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Aa(e),this.isInvisible=this.parameters.size==="invisible",Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const l=typeof a=="string"?document.getElementById(a):a;Z(l,this.auth,"argument-error"),this.container=l,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new K3:new V3,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),a=this.getAssertedRecaptcha(),s=a.getResponse(e);return s||new Promise(l=>{const c=d=>{d&&(this.tokenChangeListeners.delete(c),l(d))};this.tokenChangeListeners.add(c),this.isInvisible&&a.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return a=>{if(this.tokenChangeListeners.forEach(s=>s(a)),typeof e=="function")e(a);else if(typeof e=="string"){const s=Qe()[e];typeof s=="function"&&s(a)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const a=document.createElement("div");e.appendChild(a),e=a}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Z(jb()&&!Wf(),this.auth,"internal-error"),await J3(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await PT(this.auth);Z(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function J3(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}class X3{constructor(e,a){this.verificationId=e,this.onConfirmation=a}confirm(e){const a=Ai._fromVerification(this.verificationId,e);return this.onConfirmation(a)}}async function Q3(r,e,a){if(ln(r.app))return Promise.reject(Ta(r));const s=Aa(r),l=await Z3(s,e,Vn(a));return new X3(l,c=>N3(s,c))}async function Z3(r,e,a){if(!r._getRecaptchaConfig())try{await f3(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const l=s.session;if("phoneNumber"in s){Z(l.type==="enroll",r,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Jd(r,c,"mfaSmsEnrollment",async(g,x)=>{if(x.phoneEnrollmentInfo.captchaResponse===Ci){Z(a?.type===ki,g,"argument-error");const y=await Qd(g,x,a);return Bx(g,y)}return Bx(g,x)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{Z(l.type==="signin",r,"internal-error");const c=s.multiFactorHint?.uid||s.multiFactorUid;Z(c,r,"missing-multi-factor-info");const d={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Jd(r,d,"mfaSmsSignIn",async(x,y)=>{if(y.phoneSignInInfo.captchaResponse===Ci){Z(a?.type===ki,x,"argument-error");const v=await Qd(x,y,a);return Vx(x,v)}return Vx(x,y)},"PHONE_PROVIDER").catch(x=>Promise.reject(x))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Jd(r,l,"sendVerificationCode",async(p,g)=>{if(g.captchaResponse===Ci){Z(a?.type===ki,p,"argument-error");const x=await Qd(p,g,a);return zx(p,x)}return zx(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{a?._reset()}}async function Qd(r,e,a){Z(a.type===ki,r,"argument-error");const s=await a.verify();Z(typeof s=="string",r,"argument-error");const l={...e};if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.captchaResponse,h=l.phoneEnrollmentInfo.clientType,p=l.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:s,captchaResponse:d,clientType:h,recaptchaVersion:p}}),l}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.captchaResponse,d=l.phoneSignInInfo.clientType,h=l.phoneSignInInfo.recaptchaVersion;return Object.assign(l,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:c,clientType:d,recaptchaVersion:h}}),l}else return Object.assign(l,{recaptchaToken:s}),l}function W3(r,e){return e?Un(e):(Z(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class eh extends Qf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hr(e,this._buildIdpRequest())}_linkToIdToken(e,a){return hr(e,this._buildIdpRequest(a))}_getReauthenticationResolver(e){return hr(e,this._buildIdpRequest())}_buildIdpRequest(e){const a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(a.idToken=e),a}}function e5(r){return Gb(r.auth,new eh(r),r.bypassAuthState)}function t5(r){const{auth:e,user:a}=r;return Z(a,e,"internal-error"),S3(a,new eh(r),r.bypassAuthState)}async function n5(r){const{auth:e,user:a}=r;return Z(a,e,"internal-error"),j3(a,new eh(r),r.bypassAuthState)}class Wb{constructor(e,a,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(e,a)=>{this.pendingPromise={resolve:e,reject:a};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:a,sessionId:s,postBody:l,tenantId:c,error:d,type:h}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:a,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e5;case"linkViaPopup":case"linkViaRedirect":return n5;case"reauthViaPopup":case"reauthViaRedirect":return t5;default:Bn(this.auth,"internal-error")}}resolve(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const a5=new Fi(2e3,1e4);class ur extends Wb{constructor(e,a,s,l,c){super(e,a,l,c),this.provider=s,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Hn(this.filter.length===1,"Popup operations only handle one event");const e=Zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(Dt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a5.get())};e()}}ur.currentPopupAction=null;const s5="pendingRedirect",Ao=new Map;class r5 extends Wb{constructor(e,a,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,s),this.eventId=null}async execute(){let e=Ao.get(this.auth._key());if(!e){try{const s=await i5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(a){e=()=>Promise.reject(a)}Ao.set(this.auth._key(),e)}return this.bypassAuthState||Ao.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const a=await this.auth._redirectUserForId(e.eventId);if(a)return this.user=a,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i5(r,e){const a=c5(e),s=o5(r);if(!await s._isAvailable())return!1;const l=await s._get(a)==="true";return await s._remove(a),l}function l5(r,e){Ao.set(r._key(),e)}function o5(r){return Un(r._redirectPersistence)}function c5(r){return Co(s5,r.config.apiKey,r.name)}async function u5(r,e,a=!1){if(ln(r.app))return Promise.reject(Ta(r));const s=Aa(r),l=W3(s,e),d=await new r5(s,l,a).execute();return d&&!a&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const d5=600*1e3;class f5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let a=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(a=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h5(e)||(this.hasHandledPotentialRedirect=!0,a||(this.queuedRedirectEvent=e,a=!0)),a}sendToConsumer(e,a){if(e.error&&!ev(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";a.onError(Dt(this.auth,s))}else a.onAuthEvent(e)}isEventForConsumer(e,a){const s=a.eventId===null||!!e.eventId&&e.eventId===a.eventId;return a.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(e))}saveEventToCache(e){this.cachedEventUids.add(Gx(e)),this.lastProcessedEventTime=Date.now()}}function Gx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ev({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function h5(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ev(r);default:return!1}}async function m5(r,e={}){return en(r,"GET","/v1/projects",e)}const p5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g5=/^https?/;async function x5(r){if(r.config.emulator)return;const{authorizedDomains:e}=await m5(r);for(const a of e)try{if(y5(a))return}catch{}Bn(r,"unauthorized-domain")}function y5(r){const e=Nf(),{protocol:a,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?a==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):a==="chrome-extension:"&&d.hostname===s}if(!g5.test(a))return!1;if(p5.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const b5=new Fi(3e4,6e4);function Kx(){const r=Qe().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let a=0;a<r.CP.length;a++)r.CP[a]=null}}function v5(r){return new Promise((e,a)=>{function s(){Kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kx(),a(Dt(r,"network-request-failed"))},timeout:b5.get()})}if(Qe().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qe().gapi?.load)s();else{const l=$b("iframefcb");return Qe()[l]=()=>{gapi.load?s():a(Dt(r,"network-request-failed"))},Xf(`${a3()}?onload=${l}`).catch(c=>a(c))}}).catch(e=>{throw ko=null,e})}let ko=null;function w5(r){return ko=ko||v5(r),ko}const _5=new Fi(5e3,15e3),j5="__/auth/iframe",S5="emulator/auth/iframe",N5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T5(r){const e=r.config;Z(e.authDomain,r,"auth-domain-config-required");const a=e.emulator?Ff(e,S5):`https://${r.config.authDomain}/${j5}`,s={apiKey:e.apiKey,appName:r.name,v:Ki},l=E5.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${a}?${yr(s).slice(1)}`}async function C5(r){const e=await w5(r),a=Qe().gapi;return Z(a,r,"internal-error"),e.open({where:document.body,url:T5(r),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N5,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Dt(r,"network-request-failed"),h=Qe().setTimeout(()=>{c(d)},_5.get());function p(){Qe().clearTimeout(h),l(s)}s.ping(p).then(p,()=>{c(d)})}))}const A5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k5=500,R5=600,O5="_blank",I5="http://localhost";class Fx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D5(r,e,a,s=k5,l=R5){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...A5,width:s.toString(),height:l.toString(),top:c,left:d},g=pt().toLowerCase();a&&(h=Ib(g)?O5:a),Rb(g)&&(e=e||I5,p.scrollbars="yes");const x=Object.entries(p).reduce((v,[_,j])=>`${v}${_}=${j},`,"");if(FT(g)&&h!=="_self")return L5(e||"",h),new Fx(null);const y=window.open(e||"",h,x);Z(y,r,"popup-blocked");try{y.focus()}catch{}return new Fx(y)}function L5(r,e){const a=document.createElement("a");a.href=r,a.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(s)}const U5="__/auth/handler",M5="emulator/auth/handler",P5=encodeURIComponent("fac");async function Yx(r,e,a,s,l,c){Z(r.config.authDomain,r,"auth-domain-config-required"),Z(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:a,redirectUrl:s,v:Ki,eventId:l};if(e instanceof qb){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",mE(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,y]of Object.entries({}))d[x]=y}if(e instanceof Ji){const x=e.getScopes().filter(y=>y!=="");x.length>0&&(d.scopes=x.join(","))}r.tenantId&&(d.tid=r.tenantId);const h=d;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const p=await r._getAppCheckToken(),g=p?`#${P5}=${encodeURIComponent(p)}`:"";return`${z5(r)}?${yr(h).slice(1)}${g}`}function z5({config:r}){return r.emulator?Ff(r,M5):`https://${r.authDomain}/${U5}`}const Zd="webStorageSupport";class $5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jb,this._completeRedirectFn=u5,this._overrideRedirectResult=l5}async _openPopup(e,a,s,l){Hn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Yx(e,a,s,Nf(),l);return D5(e,c,Zf())}async _openRedirect(e,a,s,l){await this._originValidation(e);const c=await Yx(e,a,s,Nf(),l);return I3(c),new Promise(()=>{})}_initialize(e){const a=e._key();if(this.eventManagers[a]){const{manager:l,promise:c}=this.eventManagers[a];return l?Promise.resolve(l):(Hn(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[a]={promise:s},s.catch(()=>{delete this.eventManagers[a]}),s}async initAndGetManager(e){const a=await C5(e),s=new f5(e);return a.register("authEvent",l=>(Z(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=a,s}_isIframeWebStorageSupported(e,a){this.iframes[e._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&a(!!c),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const a=e._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=x5(e)),this.originValidationPromises[a]}get _shouldInitProactively(){return Pb()||Ob()||Jf()}}const B5=$5;var Jx="@firebase/auth",Xx="1.11.0";class H5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const a=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,a),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const a=this.internalListeners.get(e);a&&(this.internalListeners.delete(e),a(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function q5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V5(r){$n(new un("auth",(e,{options:a})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=s.options;Z(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(r)},g=new WT(s,l,c,p);return m3(g,a),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,a,s)=>{e.getProvider("auth-internal").initialize()})),$n(new un("auth-internal",e=>{const a=Aa(e.getProvider("auth").getImmediate());return(s=>new H5(s))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(Jx,Xx,q5(r)),cn(Jx,Xx,"esm2020")}const G5=300,K5=cb("authIdTokenMaxAge")||G5;let Qx=null;const F5=r=>async e=>{const a=e&&await e.getIdTokenResult(),s=a&&(new Date().getTime()-Date.parse(a.issuedAtTime))/1e3;if(s&&s>K5)return;const l=a?.token;Qx!==l&&(Qx=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Y5(r=xb()){const e=br(r,"auth");if(e.isInitialized())return e.getImmediate();const a=h3(r,{popupRedirectResolver:B5,persistence:[H3,k3,Jb]}),s=cb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=F5(c.toString());T3(a,d,()=>d(a.currentUser)),E3(a,h=>d(h))}}const l=eE("auth");return l&&p3(a,`http://${l}`),a}function J5(){return document.getElementsByTagName("head")?.[0]??document}e3({loadJS(r){return new Promise((e,a)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Dt("internal-error");c.customData=l,a(c)},s.type="text/javascript",s.charset="UTF-8",J5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V5("Browser");var X5="firebase",Q5="12.0.0";cn(X5,Q5,"app");const tv="@firebase/installations",th="0.6.19";const nv=1e4,av=`w:${th}`,sv="FIS_v2",Z5="https://firebaseinstallations.googleapis.com/v1",W5=3600*1e3,e6="installations",t6="Installations";const n6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ss=new ls(e6,t6,n6);function rv(r){return r instanceof hn&&r.code.includes("request-failed")}function iv({projectId:r}){return`${Z5}/projects/${r}/installations`}function lv(r){return{token:r.token,requestStatus:2,expiresIn:s6(r.expiresIn),creationTime:Date.now()}}async function ov(r,e){const s=(await e.json()).error;return ss.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function cv({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function a6(r,{refreshToken:e}){const a=cv(r);return a.append("Authorization",r6(e)),a}async function uv(r){const e=await r();return e.status>=500&&e.status<600?r():e}function s6(r){return Number(r.replace("s","000"))}function r6(r){return`${sv} ${r}`}async function i6({appConfig:r,heartbeatServiceProvider:e},{fid:a}){const s=iv(r),l=cv(r),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:a,authVersion:sv,appId:r.appId,sdkVersion:av},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await uv(()=>fetch(s,h));if(p.ok){const g=await p.json();return{fid:g.fid||a,registrationStatus:2,refreshToken:g.refreshToken,authToken:lv(g.authToken)}}else throw await ov("Create Installation",p)}function dv(r){return new Promise(e=>{setTimeout(e,r)})}function l6(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const o6=/^[cdef][\w-]{21}$/,Cf="";function c6(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const a=u6(r);return o6.test(a)?a:Cf}catch{return Cf}}function u6(r){return l6(r).substr(0,22)}function sc(r){return`${r.appName}!${r.appId}`}const fv=new Map;function hv(r,e){const a=sc(r);mv(a,e),d6(a,e)}function mv(r,e){const a=fv.get(r);if(a)for(const s of a)s(e)}function d6(r,e){const a=f6();a&&a.postMessage({key:r,fid:e}),h6()}let es=null;function f6(){return!es&&"BroadcastChannel"in self&&(es=new BroadcastChannel("[Firebase] FID Change"),es.onmessage=r=>{mv(r.data.key,r.data.fid)}),es}function h6(){fv.size===0&&es&&(es.close(),es=null)}const m6="firebase-installations-database",p6=1,rs="firebase-installations-store";let Wd=null;function nh(){return Wd||(Wd=pb(m6,p6,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(rs)}}})),Wd}async function Vo(r,e){const a=sc(r),l=(await nh()).transaction(rs,"readwrite"),c=l.objectStore(rs),d=await c.get(a);return await c.put(e,a),await l.done,(!d||d.fid!==e.fid)&&hv(r,e.fid),e}async function pv(r){const e=sc(r),s=(await nh()).transaction(rs,"readwrite");await s.objectStore(rs).delete(e),await s.done}async function rc(r,e){const a=sc(r),l=(await nh()).transaction(rs,"readwrite"),c=l.objectStore(rs),d=await c.get(a),h=e(d);return h===void 0?await c.delete(a):await c.put(h,a),await l.done,h&&(!d||d.fid!==h.fid)&&hv(r,h.fid),h}async function ah(r){let e;const a=await rc(r.appConfig,s=>{const l=g6(s),c=x6(r,l);return e=c.registrationPromise,c.installationEntry});return a.fid===Cf?{installationEntry:await e}:{installationEntry:a,registrationPromise:e}}function g6(r){const e=r||{fid:c6(),registrationStatus:0};return gv(e)}function x6(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(ss.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const a={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=y6(r,a);return{installationEntry:a,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:b6(r)}:{installationEntry:e}}async function y6(r,e){try{const a=await i6(r,e);return Vo(r.appConfig,a)}catch(a){throw rv(a)&&a.customData.serverCode===409?await pv(r.appConfig):await Vo(r.appConfig,{fid:e.fid,registrationStatus:0}),a}}async function b6(r){let e=await Zx(r.appConfig);for(;e.registrationStatus===1;)await dv(100),e=await Zx(r.appConfig);if(e.registrationStatus===0){const{installationEntry:a,registrationPromise:s}=await ah(r);return s||a}return e}function Zx(r){return rc(r,e=>{if(!e)throw ss.create("installation-not-found");return gv(e)})}function gv(r){return v6(r)?{fid:r.fid,registrationStatus:0}:r}function v6(r){return r.registrationStatus===1&&r.registrationTime+nv<Date.now()}async function w6({appConfig:r,heartbeatServiceProvider:e},a){const s=_6(r,a),l=a6(r,a),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:av,appId:r.appId}},h={method:"POST",headers:l,body:JSON.stringify(d)},p=await uv(()=>fetch(s,h));if(p.ok){const g=await p.json();return lv(g)}else throw await ov("Generate Auth Token",p)}function _6(r,{fid:e}){return`${iv(r)}/${e}/authTokens:generate`}async function sh(r,e=!1){let a;const s=await rc(r.appConfig,c=>{if(!xv(c))throw ss.create("not-registered");const d=c.authToken;if(!e&&N6(d))return c;if(d.requestStatus===1)return a=j6(r,e),c;{if(!navigator.onLine)throw ss.create("app-offline");const h=T6(c);return a=S6(r,h),h}});return a?await a:s.authToken}async function j6(r,e){let a=await Wx(r.appConfig);for(;a.authToken.requestStatus===1;)await dv(100),a=await Wx(r.appConfig);const s=a.authToken;return s.requestStatus===0?sh(r,e):s}function Wx(r){return rc(r,e=>{if(!xv(e))throw ss.create("not-registered");const a=e.authToken;return C6(a)?{...e,authToken:{requestStatus:0}}:e})}async function S6(r,e){try{const a=await w6(r,e),s={...e,authToken:a};return await Vo(r.appConfig,s),a}catch(a){if(rv(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await pv(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Vo(r.appConfig,s)}throw a}}function xv(r){return r!==void 0&&r.registrationStatus===2}function N6(r){return r.requestStatus===2&&!E6(r)}function E6(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+W5}function T6(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function C6(r){return r.requestStatus===1&&r.requestTime+nv<Date.now()}async function A6(r){const e=r,{installationEntry:a,registrationPromise:s}=await ah(e);return s?s.catch(console.error):sh(e).catch(console.error),a.fid}async function k6(r,e=!1){const a=r;return await R6(a),(await sh(a,e)).token}async function R6(r){const{registrationPromise:e}=await ah(r);e&&await e}function O6(r){if(!r||!r.options)throw ef("App Configuration");if(!r.name)throw ef("App Name");const e=["projectId","apiKey","appId"];for(const a of e)if(!r.options[a])throw ef(a);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ef(r){return ss.create("missing-app-config-values",{valueName:r})}const yv="installations",I6="installations-internal",D6=r=>{const e=r.getProvider("app").getImmediate(),a=O6(e),s=br(e,"heartbeat");return{app:e,appConfig:a,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},L6=r=>{const e=r.getProvider("app").getImmediate(),a=br(e,yv).getImmediate();return{getId:()=>A6(a),getToken:l=>k6(a,l)}};function U6(){$n(new un(yv,D6,"PUBLIC")),$n(new un(I6,L6,"PRIVATE"))}U6();cn(tv,th);cn(tv,th,"esm2020");const Go="analytics",M6="firebase_id",P6="origin",z6=60*1e3,$6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rh="https://www.googletagmanager.com/gtag/js";const jt=new Vf("@firebase/analytics");const B6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Lt=new ls("analytics","Analytics",B6);function H6(r){if(!r.startsWith(rh)){const e=Lt.create("invalid-gtag-resource",{gtagURL:r});return jt.warn(e.message),""}return r}function bv(r){return Promise.all(r.map(e=>e.catch(a=>a)))}function q6(r,e){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(r,e)),a}function V6(r,e){const a=q6("firebase-js-sdk-policy",{createScriptURL:H6}),s=document.createElement("script"),l=`${rh}?l=${r}&id=${e}`;s.src=a?a?.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function G6(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function K6(r,e,a,s,l,c){const d=s[l];try{if(d)await e[d];else{const p=(await bv(a)).find(g=>g.measurementId===l);p&&await e[p.appId]}}catch(h){jt.error(h)}r("config",l,c)}async function F6(r,e,a,s,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const h=await bv(a);for(const p of d){const g=h.find(y=>y.measurementId===p),x=g&&e[g.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,l||{})}catch(c){jt.error(c)}}function Y6(r,e,a,s){async function l(c,...d){try{if(c==="event"){const[h,p]=d;await F6(r,e,a,h,p)}else if(c==="config"){const[h,p]=d;await K6(r,e,a,s,h,p)}else if(c==="consent"){const[h,p]=d;r("consent",h,p)}else if(c==="get"){const[h,p,g]=d;r("get",h,p,g)}else if(c==="set"){const[h]=d;r("set",h)}else r(c,...d)}catch(h){jt.error(h)}}return l}function J6(r,e,a,s,l){let c=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=Y6(c,r,e,a),{gtagCore:c,wrappedGtag:window[l]}}function X6(r){const e=window.document.getElementsByTagName("script");for(const a of Object.values(e))if(a.src&&a.src.includes(rh)&&a.src.includes(r))return a;return null}const Q6=30,Z6=1e3;class W6{constructor(e={},a=Z6){this.throttleMetadata=e,this.intervalMillis=a}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,a){this.throttleMetadata[e]=a}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vv=new W6;function eC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function tC(r){const{appId:e,apiKey:a}=r,s={method:"GET",headers:eC(a)},l=$6.replace("{app-id}",e),c=await fetch(l,s);if(c.status!==200&&c.status!==304){let d="";try{const h=await c.json();h.error?.message&&(d=h.error.message)}catch{}throw Lt.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function nC(r,e=vv,a){const{appId:s,apiKey:l,measurementId:c}=r.options;if(!s)throw Lt.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:s};throw Lt.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new rC;return setTimeout(async()=>{h.abort()},z6),wv({appId:s,apiKey:l,measurementId:c},d,h,e)}async function wv(r,{throttleEndTimeMillis:e,backoffCount:a},s,l=vv){const{appId:c,measurementId:d}=r;try{await aC(s,e)}catch(h){if(d)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:d};throw h}try{const h=await tC(r);return l.deleteThrottleMetadata(c),h}catch(h){const p=h;if(!sC(p)){if(l.deleteThrottleMetadata(c),d)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw h}const g=Number(p?.customData?.httpStatus)===503?wx(a,l.intervalMillis,Q6):wx(a,l.intervalMillis),x={throttleEndTimeMillis:Date.now()+g,backoffCount:a+1};return l.setThrottleMetadata(c,x),jt.debug(`Calling attemptFetch again in ${g} millis`),wv(r,x,s,l)}}function aC(r,e){return new Promise((a,s)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(a,l);r.addEventListener(()=>{clearTimeout(c),s(Lt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sC(r){if(!(r instanceof hn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class rC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iC(r,e,a,s,l){if(l&&l.global){r("event",a,s);return}else{const c=await e,d={...s,send_to:c};r("event",a,d)}}async function lC(){if(db())try{await fb()}catch(r){return jt.warn(Lt.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return jt.warn(Lt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oC(r,e,a,s,l,c,d){const h=nC(r);h.then(v=>{a[v.measurementId]=v.appId,r.options.measurementId&&v.measurementId!==r.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>jt.error(v)),e.push(h);const p=lC().then(v=>{if(v)return s.getId()}),[g,x]=await Promise.all([h,p]);X6(c)||V6(c,g.measurementId),l("js",new Date);const y=d?.config??{};return y[P6]="firebase",y.update=!0,x!=null&&(y[M6]=x),l("config",g.measurementId,y),g.measurementId}class cC{constructor(e){this.app=e}_delete(){return delete Ri[this.app.options.appId],Promise.resolve()}}let Ri={},ey=[];const ty={};let tf="dataLayer",uC="gtag",ny,_v,ay=!1;function dC(){const r=[];if(ub()&&r.push("This is a browser extension environment."),uE()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,l)=>`(${l+1}) ${s}`).join(" "),a=Lt.create("invalid-analytics-context",{errorInfo:e});jt.warn(a.message)}}function fC(r,e,a){dC();const s=r.options.appId;if(!s)throw Lt.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Lt.create("no-api-key");if(Ri[s]!=null)throw Lt.create("already-exists",{id:s});if(!ay){G6(tf);const{wrappedGtag:c,gtagCore:d}=J6(Ri,ey,ty,tf,uC);_v=c,ny=d,ay=!0}return Ri[s]=oC(r,ey,ty,e,ny,tf,a),new cC(r)}function hC(r=xb()){r=Vn(r);const e=br(r,Go);return e.isInitialized()?e.getImmediate():mC(r)}function mC(r,e={}){const a=br(r,Go);if(a.isInitialized()){const l=a.getImmediate();if(ns(e,a.getOptions()))return l;throw Lt.create("already-initialized")}return a.initialize({options:e})}function pC(r,e,a,s){r=Vn(r),iC(_v,Ri[r.app.options.appId],e,a,s).catch(l=>jt.error(l))}const sy="@firebase/analytics",ry="0.10.18";function gC(){$n(new un(Go,(e,{options:a})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return fC(s,l,a)},"PUBLIC")),$n(new un("analytics-internal",r,"PRIVATE")),cn(sy,ry),cn(sy,ry,"esm2020");function r(e){try{const a=e.getProvider(Go).getImmediate();return{logEvent:(s,l,c)=>pC(a,s,l,c)}}catch(a){throw Lt.create("interop-component-reg-failed",{reason:a})}}}gC();const xC={apiKey:"AIzaSyAX33VJtYQx_Tw3Ak2qXTVB2jzlmyo76Eo",authDomain:"attract--web.firebaseapp.com",projectId:"attract--web",storageBucket:"attract--web.firebasestorage.app",messagingSenderId:"557504244334",appId:"1:557504244334:web:438c35dcea6a84f998147f",measurementId:"G-QN3J2Q4HFH"},jv=gb(xC),ih=Y5(jv);typeof window<"u"&&hC(jv);ih.languageCode="ko";let ts=null;const yC=(r="recaptcha-container")=>ts||(ts=new Y3(ih,r,{size:"invisible",callback:()=>{console.log("reCAPTCHA verified")},"expired-callback":()=>{console.log("reCAPTCHA expired")}}),ts),Ko=async r=>{try{const e=wC(r),a=yC(),s=await Q3(ih,e,a);return console.log("SMS  :",e),s}catch(e){throw console.error("SMS  :",e),new Error(_C(e.code))}},Sv=async(r,e,a)=>{try{const l=(await r.confirm(e)).user;console.log("Firebase  :",l.uid);const{isNewUser:c,userData:d}=await bC(l.uid,a);return{user:l,error:null,isNewUser:c,userData:d}}catch(s){return console.error("  :",s),{user:null,error:new Error(jC(s.code)),isNewUser:!1,userData:null}}},bC=async(r,e)=>{try{console.log(" Supabase  :",{firebaseUid:r,phoneNumber:e,supabaseClient:fe?" ":" "});const{data:a,error:s}=await fe.from("users").select("*").eq("firebase_uid",r).single();if(console.log(" firebase_uid  :",{hasData:!!a,error:s?s.message:null,errorCode:s?s.code:null}),s&&s.code!=="PGRST116")throw s;if(a)return console.log(" firebase_uid   "),{isNewUser:!1,userData:a};if(e){let l=e.replace(/[^\d]/g,"");l.startsWith("82")&&(l="0"+l.substring(2)),console.log("  :",e),console.log("  :",l);const{data:c,error:d}=await fe.from("users").select("*").eq("phone_number",l).is("firebase_uid",null).maybeSingle();if(console.log("   :",{hasData:!!c,error:d?d.message:null,searchedPhone:l}),c){console.log("   ! firebase_uid  ...");const{error:h}=await fe.from("users").update({firebase_uid:r}).eq("id",c.id);return h?console.error("firebase_uid  :",h):(console.log(" firebase_uid  "),c.firebase_uid=r),{isNewUser:!1,userData:c}}}return console.log("  "),{isNewUser:!0,userData:null}}catch(a){return console.error("  :",a),{isNewUser:!0,userData:null}}},vC=async(r,e,a)=>{try{const s=e.replace(/[^\d]/g,"").replace(/^\+82/,"0");console.log("  :",s);const{data:l,error:c}=await fe.from("users").insert({firebase_uid:r,phone_number:s,name:a.name,age:a.age,gender:a.gender,location:a.location,bio:a.bio,mbti:a.mbti,school:a.school,height:a.height,body_type:a.body_type,style:a.style,religion:a.religion,smoking:a.smoking,drinking:a.drinking,interests:a.interests,photos:a.photos,password:a.password||null,created_at:new Date().toISOString()}).select().single();if(c)throw console.error("  :",c),c;return console.log("Supabase   :",l),{data:l,error:null}}catch(s){return console.error("createUserProfile :",s),{data:null,error:s}}},wC=r=>{let e=r.replace(/[^\d]/g,"");return e.startsWith("0")&&(e="+82"+e.substring(1)),e.startsWith("+82")||(e="+82"+e),e},Nv=r=>{const e=r.replace(/[\s-]/g,"");return/^(0(10|11|16|17|18|19))\d{7,8}$/.test(e)?{valid:!0}:{valid:!1,error:"   . (: 010-1234-5678)"}},_C=r=>{switch(r){case"auth/invalid-phone-number":return"  .";case"auth/missing-phone-number":return" .";case"auth/quota-exceeded":return"SMS   .    .";case"auth/too-many-requests":return"   .    .";default:return"SMS  .  ."}},jC=r=>{switch(r){case"auth/invalid-verification-code":return" .";case"auth/code-expired":return" .  .";default:return" .  ."}},Ev=()=>{ts&&(ts.clear(),ts=null)};function SC(){const r=ze(),[e,a]=N.useState("phone"),[s,l]=N.useState(""),[c,d]=N.useState(""),[h,p]=N.useState(!1),[g,x]=N.useState(null),[y,v]=N.useState(180),[_,j]=N.useState(!1);N.useEffect(()=>{if(e==="verify"&&y>0){const Y=setInterval(()=>{v(M=>M<=1?(j(!0),0):M-1)},1e3);return()=>clearInterval(Y)}},[e,y]),N.useEffect(()=>()=>{Ev()},[]);const T=Y=>{const M=Y.replace(/[^\d]/g,"");return M.length<=3?M:M.length<=7?`${M.slice(0,3)}-${M.slice(3)}`:`${M.slice(0,3)}-${M.slice(3,7)}-${M.slice(7,11)}`},L=async Y=>{Y.preventDefault();const M=Nv(s);if(!M.valid){alert(M.error);return}p(!0);try{const R=await Ko(s);x(R),a("verify"),v(180),j(!1),alert(" .")}catch(R){alert(R.message)}finally{p(!1)}},I=async()=>{if(_){p(!0);try{const Y=await Ko(s);x(Y),v(180),j(!1),alert(" .")}catch(Y){alert(Y.message)}finally{p(!1)}}},k=async Y=>{if(Y.preventDefault(),!g){alert("  .");return}if(c.length!==6){alert(" 6 .");return}p(!0);try{const{user:M,error:R,isNewUser:U,userData:D}=await Sv(g,c,s);if(R){alert(R.message);return}U?(alert(" .  ."),r("/signup",{state:{firebaseUid:M?.uid,phoneNumber:s}})):(alert(" !"),console.log(" :",D),localStorage.setItem("user",JSON.stringify(D)),r("/"))}catch{alert(" .")}finally{p(!1)}},S=()=>{a("phone"),d(""),v(180),j(!1)},$=Y=>{const M=Math.floor(Y/60),R=Y%60;return`${M}:${R.toString().padStart(2,"0")}`};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:"   "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:e==="phone"?"  ":" "}),e==="phone"&&u.jsxs("form",{onSubmit:L,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"tel",value:s,onChange:Y=>l(T(Y.target.value)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-lg",placeholder:"010-1234-5678",maxLength:13,autoFocus:!0}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"   "})]}),u.jsx("button",{type:"submit",disabled:h||s.length<13,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h?" ...":" "})]}),e==="verify"&&u.jsxs("form",{onSubmit:k,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),u.jsx("button",{type:"button",onClick:S,className:"text-xs text-cyan-500 hover:text-cyan-600",children:" "})]}),u.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[s,"   "]}),u.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:Y=>d(Y.target.value.replace(/[^\d]/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-lg text-center tracking-widest",placeholder:"000000",maxLength:6,autoFocus:!0}),u.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[u.jsx("p",{className:`text-sm ${y>0?"text-cyan-500":"text-red-500"}`,children:y>0?` : ${$(y)}`:" "}),u.jsx("button",{type:"button",onClick:I,disabled:!_||h,className:"text-sm text-gray-600 hover:text-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}),u.jsx("button",{type:"submit",disabled:h||c.length!==6,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h?" ...":""})]}),u.jsx("div",{id:"recaptcha-container"})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:u.jsxs("p",{children:[" ?"," ",u.jsx("button",{className:"text-cyan-500 hover:text-cyan-600",children:""})]})})]})})}function NC(){const r=ze();return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"flex items-center justify-center mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("i",{className:"ri-heart-fill text-white text-4xl"})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-3",children:"Attract"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"   "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 space-y-4",children:[u.jsx("button",{onClick:()=>r("/login/signin"),className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-semibold text-lg hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg hover:shadow-xl",children:""}),u.jsx("button",{onClick:()=>r("/login"),className:"w-full bg-white text-cyan-500 py-4 rounded-xl font-semibold text-lg border-2 border-cyan-500 hover:bg-cyan-50 transition-all",children:""}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:u.jsx("p",{children:"    "})})]}),u.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:u.jsxs("p",{children:[" ?"," ",u.jsx("button",{className:"text-cyan-500 hover:text-cyan-600 font-medium",children:""})]})})]})})}const EC={};var Af=null;function TC(r){try{return crypto.getRandomValues(new Uint8Array(r))}catch{}try{return EC.randomBytes(r)}catch{}if(!Af)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Af(r)}function CC(r){Af=r}function lh(r,e){if(r=r||oh,typeof r!="number")throw Error("Illegal arguments: "+typeof r+", "+typeof e);r<4?r=4:r>31&&(r=31);var a=[];return a.push("$2b$"),r<10&&a.push("0"),a.push(r.toString()),a.push("$"),a.push(Fo(TC(Mi),Mi)),a.join("")}function Tv(r,e,a){if(typeof e=="function"&&(a=e,e=void 0),typeof r=="function"&&(a=r,r=void 0),typeof r>"u")r=oh;else if(typeof r!="number")throw Error("illegal arguments: "+typeof r);function s(l){Wt(function(){try{l(null,lh(r))}catch(c){l(c)}})}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);s(a)}else return new Promise(function(l,c){s(function(d,h){if(d){c(d);return}l(h)})})}function Cv(r,e){if(typeof e>"u"&&(e=oh),typeof e=="number"&&(e=lh(e)),typeof r!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof e);return kf(r,e)}function Av(r,e,a,s){function l(c){typeof r=="string"&&typeof e=="number"?Tv(e,function(d,h){kf(r,h,c,s)}):typeof r=="string"&&typeof e=="string"?kf(r,e,c,s):Wt(c.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof e)))}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);l(a)}else return new Promise(function(c,d){l(function(h,p){if(h){d(h);return}c(p)})})}function kv(r,e){for(var a=r.length^e.length,s=0;s<r.length;++s)a|=r.charCodeAt(s)^e.charCodeAt(s);return a===0}function AC(r,e){if(typeof r!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof e);return e.length!==60?!1:kv(Cv(r,e.substring(0,e.length-31)),e)}function kC(r,e,a,s){function l(c){if(typeof r!="string"||typeof e!="string"){Wt(c.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof e)));return}if(e.length!==60){Wt(c.bind(this,null,!1));return}Av(r,e.substring(0,29),function(d,h){d?c(d):c(null,kv(h,e))},s)}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);l(a)}else return new Promise(function(c,d){l(function(h,p){if(h){d(h);return}c(p)})})}function RC(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return parseInt(r.split("$")[2],10)}function OC(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);if(r.length!==60)throw Error("Illegal hash length: "+r.length+" != 60");return r.substring(0,29)}function IC(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return Rv(r)>72}var Wt=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function Rv(r){for(var e=0,a=0,s=0;s<r.length;++s)a=r.charCodeAt(s),a<128?e+=1:a<2048?e+=2:(a&64512)===55296&&(r.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function DC(r){for(var e=0,a,s,l=new Array(Rv(r)),c=0,d=r.length;c<d;++c)a=r.charCodeAt(c),a<128?l[e++]=a:a<2048?(l[e++]=a>>6|192,l[e++]=a&63|128):(a&64512)===55296&&((s=r.charCodeAt(c+1))&64512)===56320?(a=65536+((a&1023)<<10)+(s&1023),++c,l[e++]=a>>18|240,l[e++]=a>>12&63|128,l[e++]=a>>6&63|128,l[e++]=a&63|128):(l[e++]=a>>12|224,l[e++]=a>>6&63|128,l[e++]=a&63|128);return l}var ir="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ya=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Fo(r,e){var a=0,s=[],l,c;if(e<=0||e>r.length)throw Error("Illegal len: "+e);for(;a<e;){if(l=r[a++]&255,s.push(ir[l>>2&63]),l=(l&3)<<4,a>=e){s.push(ir[l&63]);break}if(c=r[a++]&255,l|=c>>4&15,s.push(ir[l&63]),l=(c&15)<<2,a>=e){s.push(ir[l&63]);break}c=r[a++]&255,l|=c>>6&3,s.push(ir[l&63]),s.push(ir[c&63])}return s.join("")}function Ov(r,e){var a=0,s=r.length,l=0,c=[],d,h,p,g,x,y;if(e<=0)throw Error("Illegal len: "+e);for(;a<s-1&&l<e&&(y=r.charCodeAt(a++),d=y<ya.length?ya[y]:-1,y=r.charCodeAt(a++),h=y<ya.length?ya[y]:-1,!(d==-1||h==-1||(x=d<<2>>>0,x|=(h&48)>>4,c.push(String.fromCharCode(x)),++l>=e||a>=s)||(y=r.charCodeAt(a++),p=y<ya.length?ya[y]:-1,p==-1)||(x=(h&15)<<4>>>0,x|=(p&60)>>2,c.push(String.fromCharCode(x)),++l>=e||a>=s)));)y=r.charCodeAt(a++),g=y<ya.length?ya[y]:-1,x=(p&3)<<6>>>0,x|=g,c.push(String.fromCharCode(x)),++l;var v=[];for(a=0;a<l;a++)v.push(c[a].charCodeAt(0));return v}var Mi=16,oh=10,LC=16,UC=100,iy=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ly=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Iv=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Pi(r,e,a,s){var l,c=r[e],d=r[e+1];return c^=a[0],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[1],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[2],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[3],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[4],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[5],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[6],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[7],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[8],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[9],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[10],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[11],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[12],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[13],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[14],l=s[c>>>24],l+=s[256|c>>16&255],l^=s[512|c>>8&255],l+=s[768|c&255],d^=l^a[15],l=s[d>>>24],l+=s[256|d>>16&255],l^=s[512|d>>8&255],l+=s[768|d&255],c^=l^a[16],r[e]=d^a[LC+1],r[e+1]=c,r}function cr(r,e){for(var a=0,s=0;a<4;++a)s=s<<8|r[e]&255,e=(e+1)%r.length;return{key:s,offp:e}}function oy(r,e,a){for(var s=0,l=[0,0],c=e.length,d=a.length,h,p=0;p<c;p++)h=cr(r,s),s=h.offp,e[p]=e[p]^h.key;for(p=0;p<c;p+=2)l=Pi(l,0,e,a),e[p]=l[0],e[p+1]=l[1];for(p=0;p<d;p+=2)l=Pi(l,0,e,a),a[p]=l[0],a[p+1]=l[1]}function MC(r,e,a,s){for(var l=0,c=[0,0],d=a.length,h=s.length,p,g=0;g<d;g++)p=cr(e,l),l=p.offp,a[g]=a[g]^p.key;for(l=0,g=0;g<d;g+=2)p=cr(r,l),l=p.offp,c[0]^=p.key,p=cr(r,l),l=p.offp,c[1]^=p.key,c=Pi(c,0,a,s),a[g]=c[0],a[g+1]=c[1];for(g=0;g<h;g+=2)p=cr(r,l),l=p.offp,c[0]^=p.key,p=cr(r,l),l=p.offp,c[1]^=p.key,c=Pi(c,0,a,s),s[g]=c[0],s[g+1]=c[1]}function cy(r,e,a,s,l){var c=Iv.slice(),d=c.length,h;if(a<4||a>31)if(h=Error("Illegal number of rounds (4-31): "+a),s){Wt(s.bind(this,h));return}else throw h;if(e.length!==Mi)if(h=Error("Illegal salt length: "+e.length+" != "+Mi),s){Wt(s.bind(this,h));return}else throw h;a=1<<a>>>0;var p,g,x=0,y;typeof Int32Array=="function"?(p=new Int32Array(iy),g=new Int32Array(ly)):(p=iy.slice(),g=ly.slice()),MC(e,r,p,g);function v(){if(l&&l(x/a),x<a)for(var j=Date.now();x<a&&(x=x+1,oy(r,p,g),oy(e,p,g),!(Date.now()-j>UC)););else{for(x=0;x<64;x++)for(y=0;y<d>>1;y++)Pi(c,y<<1,p,g);var T=[];for(x=0;x<d;x++)T.push((c[x]>>24&255)>>>0),T.push((c[x]>>16&255)>>>0),T.push((c[x]>>8&255)>>>0),T.push((c[x]&255)>>>0);if(s){s(null,T);return}else return T}s&&Wt(v)}if(typeof s<"u")v();else for(var _;;)if(typeof(_=v())<"u")return _||[]}function kf(r,e,a,s){var l;if(typeof r!="string"||typeof e!="string")if(l=Error("Invalid string / salt: Not a string"),a){Wt(a.bind(this,l));return}else throw l;var c,d;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(l=Error("Invalid salt version: "+e.substring(0,2)),a){Wt(a.bind(this,l));return}else throw l;if(e.charAt(2)==="$")c="\0",d=3;else{if(c=e.charAt(2),c!=="a"&&c!=="b"&&c!=="y"||e.charAt(3)!=="$")if(l=Error("Invalid salt revision: "+e.substring(2,4)),a){Wt(a.bind(this,l));return}else throw l;d=4}if(e.charAt(d+2)>"$")if(l=Error("Missing salt rounds"),a){Wt(a.bind(this,l));return}else throw l;var h=parseInt(e.substring(d,d+1),10)*10,p=parseInt(e.substring(d+1,d+2),10),g=h+p,x=e.substring(d+3,d+25);r+=c>="a"?"\0":"";var y=DC(r),v=Ov(x,Mi);function _(j){var T=[];return T.push("$2"),c>="a"&&T.push(c),T.push("$"),g<10&&T.push("0"),T.push(g.toString()),T.push("$"),T.push(Fo(v,v.length)),T.push(Fo(j,Iv.length*4-1)),T.join("")}if(typeof a>"u")return _(cy(y,v,g));cy(y,v,g,function(j,T){j?a(j,null):a(null,_(T))},s)}function PC(r,e){return Fo(r,e)}function zC(r,e){return Ov(r,e)}const Rf={setRandomFallback:CC,genSaltSync:lh,genSalt:Tv,hashSync:Cv,hash:Av,compareSync:AC,compare:kC,getRounds:RC,getSalt:OC,truncates:IC,encodeBase64:PC,decodeBase64:zC},$C=async r=>{try{const e=await Rf.genSalt(10);return await Rf.hash(r,e)}catch(e){throw console.error("  :",e),new Error("    .")}},BC=async(r,e)=>{try{return await Rf.compare(r,e)}catch(a){return console.error("  :",a),!1}};function HC(){const r=ze(),[e,a]=N.useState("phone"),[s,l]=N.useState(""),[c,d]=N.useState(""),[h,p]=N.useState(null),[g,x]=N.useState(0),[y,v]=N.useState(!1),[_,j]=N.useState(!1),[T,L]=N.useState({phone_number:"",name:"",age:null,gender:"male",location:"",school:"",job:"",bio:"",avatar_url:null,password:""});N.useEffect(()=>{if(e==="verify"&&g>0){const M=setInterval(()=>{x(R=>R<=1?(v(!0),0):R-1)},1e3);return()=>clearInterval(M)}},[e,g]),N.useEffect(()=>()=>Ev(),[]);const I=M=>{const R=M.replace(/[^\d]/g,"");return R.length<=3?R:R.length<=7?`${R.slice(0,3)}-${R.slice(3)}`:`${R.slice(0,3)}-${R.slice(3,7)}-${R.slice(7,11)}`},k=async M=>{M.preventDefault();const R=Nv(s);if(!R.valid){alert(R.error);return}const U=s.replace(/[^\d]/g,""),{data:D,error:J}=await fe.from("users").select("id").eq("phone_number",U);if(J&&console.error("  :",J),D&&D.length>0){alert("  .");return}j(!0);try{const te=await Ko(s);p(te),L(je=>({...je,phone_number:U})),a("verify"),x(180),v(!1),alert(" .")}catch(te){alert(te.message)}finally{j(!1)}},S=async M=>{if(M.preventDefault(),!h||!c.trim()){alert(" .");return}j(!0);try{const R=await Sv(h,c);if(R.error){alert(R.error.message);return}a("signup")}catch{alert("   .")}finally{j(!1)}},$=async M=>{if(M.preventDefault(),!T.name.trim()){alert(" .");return}if(!T.password.trim()||T.password.length<6){alert(" 6  .");return}j(!0);try{const R=await $C(T.password),{data:U,error:D}=await fe.from("users").insert({phone_number:T.phone_number,name:T.name.trim(),age:T.age,gender:T.gender,location:T.location.trim()||null,school:T.school.trim()||null,job:T.job.trim()||null,bio:T.bio.trim()||null,avatar_url:T.avatar_url,password:R,created_at:new Date().toISOString()}).select().single();if(D){console.error(" :",D),alert(" .");return}localStorage.setItem("user",JSON.stringify(U)),alert(" !"),r("/")}catch(R){console.error(" :",R),alert("   .")}finally{j(!1)}},Y=async()=>{if(y){j(!0);try{const M=await Ko(s);p(M),x(180),v(!1),alert(" .")}catch(M){alert(M.message)}finally{j(!1)}}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-primary-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:""}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"  "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 space-y-6",children:[e==="phone"&&u.jsxs("form",{onSubmit:k,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" "}),u.jsx("input",{type:"tel",value:s,onChange:M=>l(I(M.target.value)),placeholder:"010-1234-5678",maxLength:13,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500 text-center font-medium",required:!0})]}),u.jsx("button",{type:"submit",disabled:_||!s,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white py-3 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all disabled:opacity-50 cursor-pointer",children:_?" ...":" "}),u.jsx("div",{id:"recaptcha-container",className:"mt-4"})]}),e==="verify"&&u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),placeholder:"000000",maxLength:6,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500 text-center font-mono text-lg",required:!0}),u.jsxs("div",{className:"text-sm font-semibold text-primary-600",children:[Math.floor(g/60),":",String(g%60).padStart(2,"0")]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s,"   ."]})]}),u.jsx("button",{type:"submit",disabled:_,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white py-3 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all disabled:opacity-50 cursor-pointer",children:_?" ...":""}),y&&u.jsx("button",{type:"button",onClick:Y,disabled:_,className:"w-full text-primary-600 py-2 rounded-xl font-semibold border-2 border-primary-200 hover:bg-primary-50 transition-all cursor-pointer",children:" "}),u.jsx("button",{type:"button",onClick:()=>{a("phone"),l(""),d("")},className:"w-full text-gray-600 py-2 text-sm hover:text-gray-800 cursor-pointer",children:" "})]}),e==="signup"&&u.jsxs("form",{onSubmit:$,className:"space-y-4",children:[u.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-xl p-3",children:u.jsxs("p",{className:"text-sm text-primary-800",children:[u.jsx("span",{className:"font-semibold",children:"  "})," - ",T.phone_number]})}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:T.name,onChange:M=>L({...T,name:M.target.value}),placeholder:"",maxLength:20,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"password",value:T.password,onChange:M=>L({...T,password:M.target.value}),placeholder:"6 ",minLength:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsx("input",{type:"number",value:T.age||"",onChange:M=>L({...T,age:M.target.value?parseInt(M.target.value):null}),placeholder:"",min:18,max:99,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{value:T.gender,onChange:M=>L({...T,gender:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500",required:!0,children:[u.jsx("option",{value:"male",children:""}),u.jsx("option",{value:"female",children:""})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsx("input",{type:"text",value:T.location,onChange:M=>L({...T,location:M.target.value}),placeholder:", ",maxLength:50,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsx("input",{type:"text",value:T.school,onChange:M=>L({...T,school:M.target.value}),placeholder:"",maxLength:50,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsx("input",{type:"text",value:T.job,onChange:M=>L({...T,job:M.target.value}),placeholder:"",maxLength:50,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsx("textarea",{value:T.bio,onChange:M=>L({...T,bio:M.target.value}),placeholder:" ",maxLength:200,rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500 resize-none"}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.bio.length,"/200"]})]}),u.jsx("button",{type:"submit",disabled:_,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white py-3 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all disabled:opacity-50 cursor-pointer",children:_?" ...":" "})]})]}),u.jsxs("p",{className:"text-center text-xs text-gray-600 mt-6",children:["  ?"," ",u.jsx("button",{onClick:()=>r("/login/signin"),className:"text-primary-600 hover:text-primary-700 font-semibold cursor-pointer",children:""})]})]})})}const qC=async(r,e)=>{try{const a=r.replace(/[^\d]/g,""),{data:s,error:l}=await fe.from("users").select("*").eq("phone_number",a).single();if(l||!s)return console.error("  :",l),{success:!1,error:"  ."};if(!s.password)return{success:!1,error:"  ."};if(!await BC(e,s.password))return{success:!1,error:"  ."};const{password:d,...h}=s;return{success:!0,user:h}}catch(a){return console.error(" :",a),{success:!1,error:"   ."}}};function VC(){const r=ze(),[e,a]=N.useState(""),[s,l]=N.useState(""),[c,d]=N.useState(!1),[h,p]=N.useState(!1),g=y=>{const v=y.replace(/[^\d]/g,"");return v.length<=3?v:v.length<=7?`${v.slice(0,3)}-${v.slice(3)}`:`${v.slice(0,3)}-${v.slice(3,7)}-${v.slice(7,11)}`},x=async y=>{if(y.preventDefault(),!e.trim()||e.length<13){alert("  .");return}if(!s.trim()||s.length<6){alert(" 6  .");return}d(!0);try{const v=await qC(e,s);if(!v.success){alert(v.error||" .");return}localStorage.setItem("user",JSON.stringify(v.user)),alert(" !"),r("/")}catch(v){console.error(" :",v),alert("   .")}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-primary-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:""}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:""})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 space-y-6",children:[u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:" "}),u.jsx("input",{type:"tel",value:e,onChange:y=>a(g(y.target.value)),placeholder:"010-1234-5678",maxLength:13,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500 text-center font-medium",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",value:s,onChange:y=>l(y.target.value),placeholder:"",minLength:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary-500",required:!0}),u.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 cursor-pointer",children:u.jsx("i",{className:`ri-${h?"eye-off":"eye"}-line`})})]})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white py-3 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all disabled:opacity-50 cursor-pointer mt-6",children:c?" ...":""})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),u.jsx("button",{onClick:()=>r("/login"),className:"w-full bg-gray-100 text-gray-800 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all cursor-pointer",children:""})]}),u.jsxs("p",{className:"text-center text-xs text-gray-600 mt-6",children:[" ?"," ",u.jsx("button",{onClick:()=>alert(" ."),className:"text-primary-600 hover:text-primary-700 font-semibold cursor-pointer",children:""})]})]})})}function GC(){const r=ze(),a=fn().state;if(!a||!a.firebaseUid||!a.phoneNumber)return r("/login"),null;const[s,l]=N.useState({name:"",age:"",gender:"",location:"",bio:"",mbti:"",school:"",height:"",bodyType:"",style:"",religion:"",smoking:"",drinking:"",profileImage:""}),[c,d]=N.useState(null),[h,p]=N.useState(""),[g,x]=N.useState(!1),[y,v]=N.useState(!1),[_,j]=N.useState([]),[T,L]=N.useState(""),I=U=>{const{name:D,value:J}=U.target;l(te=>({...te,[D]:J}))},k=U=>{const D=U.target.files?.[0];if(!D)return;if(D.size>5*1024*1024){alert("  5MB  .");return}if(!D.type.startsWith("image/")){alert("   .");return}d(D);const J=new FileReader;J.onloadend=()=>{p(J.result)},J.readAsDataURL(D)},S=async()=>{if(!c)return null;v(!0);try{const U=c.name.split(".").pop(),J=`avatars/${`${Date.now()}_${Math.random().toString(36).substring(7)}.${U}`}`,{data:te,error:je}=await fe.storage.from("avatars").upload(J,c,{cacheControl:"3600",upsert:!1});if(je)throw console.error("  :",je),je;const{data:{publicUrl:le}}=fe.storage.from("avatars").getPublicUrl(J);return console.log("  :",le),le}catch(U){return console.error("  :",U),alert("  ."),null}finally{v(!1)}},$=()=>{d(null),p(""),l(U=>({...U,profileImage:""}))},Y=()=>{T.trim()&&!_.includes(T.trim())&&(j([..._,T.trim()]),L(""))},M=U=>{j(_.filter(D=>D!==U))},R=async U=>{if(U.preventDefault(),!s.name.trim()){alert(" .");return}if(!s.gender){alert(" .");return}if(!c&&!s.profileImage){alert("   1  .");return}x(!0);try{let D=s.profileImage;if(c){const le=await S();if(le)D=le;else{alert("  .  ."),x(!1);return}}if(!D){alert("  ."),x(!1);return}const J=D?[D]:[],{data:te,error:je}=await vC(a.firebaseUid,a.phoneNumber,{name:s.name.trim(),age:s.age?parseInt(s.age):void 0,gender:s.gender,location:s.location.trim()||void 0,bio:s.bio.trim()||void 0,mbti:s.mbti||void 0,school:s.school.trim()||void 0,height:s.height||void 0,body_type:s.bodyType||void 0,style:s.style||void 0,religion:s.religion||void 0,smoking:s.smoking||void 0,drinking:s.drinking||void 0,interests:_.length>0?_:void 0,photos:J});if(je){alert(" .  ."),console.error(je);return}te&&(localStorage.setItem("user",JSON.stringify(te)),console.log("    :",te)),alert(" !"),r("/",{replace:!0})}catch(D){alert("   ."),console.error(D)}finally{x(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 py-8 px-4",children:u.jsxs("div",{className:"w-full max-w-md mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),u.jsx("p",{className:"text-gray-600",children:" "})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:""}),u.jsxs("form",{onSubmit:R,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),h&&u.jsxs("div",{className:"mb-3 relative",children:[u.jsx("img",{src:h,alt:"",className:"w-32 h-32 object-cover rounded-xl mx-auto border-2 border-cyan-200"}),u.jsx("button",{type:"button",onClick:$,className:"absolute top-0 right-1/2 translate-x-16 -translate-y-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-all",children:""})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("label",{className:"flex-1 bg-cyan-50 border-2 border-dashed border-cyan-300 rounded-xl px-4 py-3 text-center cursor-pointer hover:bg-cyan-100 transition-all",children:[u.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden"}),u.jsx("i",{className:"ri-image-add-line text-cyan-500 mr-2"}),u.jsx("span",{className:"text-sm text-cyan-600",children:c?c.name:" "})]})}),u.jsx("div",{className:"mt-2",children:u.jsx("input",{type:"url",name:"profileImage",value:s.profileImage,onChange:I,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"  URL ",disabled:!!c})}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   URL  ( 5MB)"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"name",value:s.name,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:" ",maxLength:20,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",name:"age",value:s.age,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:" ",min:"18",max:"100"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{type:"button",onClick:()=>l(U=>({...U,gender:"male"})),className:`py-3 rounded-xl font-medium transition-all ${s.gender==="male"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>l(U=>({...U,gender:"female"})),className:`py-3 rounded-xl font-medium transition-all ${s.gender==="female"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MBTI"}),u.jsx("input",{type:"text",name:"mbti",value:s.mbti,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:": ENFP",maxLength:4})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",name:"school",value:s.school,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:" ",maxLength:50})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{name:"height",value:s.height,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"150 ",children:"150 "}),u.jsx("option",{value:"150~155",children:"150~155"}),u.jsx("option",{value:"155~160",children:"155~160"}),u.jsx("option",{value:"160~165",children:"160~165"}),u.jsx("option",{value:"165~170",children:"165~170"}),u.jsx("option",{value:"170~175",children:"170~175"}),u.jsx("option",{value:"175~180",children:"175~180"}),u.jsx("option",{value:"180~185",children:"180~185"}),u.jsx("option",{value:"185 ",children:"185 "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{name:"bodyType",value:s.bodyType,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{name:"style",value:s.style,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{name:"religion",value:s.religion,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{name:"smoking",value:s.smoking,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("select",{name:"drinking",value:s.drinking,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""}),u.jsx("option",{value:"",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",name:"location",value:s.location,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:": , ",maxLength:50})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"text",value:T,onChange:U=>L(U.target.value),onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),Y()),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"     ",maxLength:20}),u.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:""})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(U=>u.jsxs("span",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[U,u.jsx("button",{type:"button",onClick:()=>M(U),className:"hover:text-red-500 transition-colors",children:""})]},U))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("textarea",{name:"bio",value:s.bio,onChange:I,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:" ",rows:4,maxLength:200}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[s.bio.length,"/200"]})]}),u.jsx("button",{type:"submit",disabled:g||y||!s.name.trim()||!s.gender,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:y?"  ...":g?" ...":" "})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:u.jsxs("p",{children:[": ",a.phoneNumber]})})]})]})})}function KC(){const r=ze(),[e,a]=N.useState({name:"",phoneNumber:"",age:"",gender:"",location:"",bio:"",profileImage:""}),[s,l]=N.useState(null),[c,d]=N.useState(""),[h,p]=N.useState(!1),[g,x]=N.useState(!1),y=k=>{const{name:S,value:$}=k.target;a(Y=>({...Y,[S]:$}))},v=k=>{const S=k.replace(/[^\d]/g,"");return S.length<=3?S:S.length<=7?`${S.slice(0,3)}-${S.slice(3)}`:`${S.slice(0,3)}-${S.slice(3,7)}-${S.slice(7,11)}`},_=k=>{const S=v(k.target.value);a($=>({...$,phoneNumber:S}))},j=k=>{const S=k.target.files?.[0];if(!S)return;if(S.size>5*1024*1024){alert("  5MB  .");return}if(!S.type.startsWith("image/")){alert("   .");return}l(S);const $=new FileReader;$.onloadend=()=>{d($.result)},$.readAsDataURL(S)},T=async()=>{if(!s)return null;x(!0);try{const k=s.name.split(".").pop(),$=`avatars/${`${Date.now()}_${Math.random().toString(36).substring(7)}.${k}`}`,{data:Y,error:M}=await fe.storage.from("avatars").upload($,s,{cacheControl:"3600",upsert:!1});if(M)throw console.error("  :",M),M;const{data:{publicUrl:R}}=fe.storage.from("avatars").getPublicUrl($);return console.log("  :",R),R}catch(k){return console.error("  :",k),alert("  ."),null}finally{x(!1)}},L=()=>{l(null),d(""),a(k=>({...k,profileImage:""}))},I=async k=>{if(k.preventDefault(),!e.name.trim()){alert(" .");return}if(!e.phoneNumber||e.phoneNumber.length<13){alert("  .");return}if(!e.gender){alert(" .");return}if(!s&&!e.profileImage){alert("   1  .");return}p(!0);try{let S=e.profileImage;if(s){const D=await T();if(D)S=D;else{alert("  .  ."),p(!1);return}}if(!S){alert("  ."),p(!1);return}const $=e.phoneNumber.replace(/[^\d]/g,""),{data:Y}=await fe.from("users").select("id").eq("phone_number",$).single();if(Y){alert("  ."),p(!1);return}const M=S?[S]:[],{data:R,error:U}=await fe.from("users").insert({phone_number:$,name:e.name.trim(),age:e.age?parseInt(e.age):null,gender:e.gender,location:e.location.trim()||null,bio:e.bio.trim()||null,photos:M,created_at:new Date().toISOString()}).select().single();if(U){console.error(" :",U),alert(" .  ."),p(!1);return}console.log("   :",R),alert(` !
: ${e.name}
: ${e.phoneNumber}`),a({name:"",phoneNumber:"",age:"",gender:"",location:"",bio:"",profileImage:""}),l(null),d("")}catch(S){console.error(" :",S),alert("   .")}finally{p(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 via-pink-500 to-rose-600 rounded-2xl flex items-center justify-center shadow-2xl",children:u.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:u.jsx("i",{className:"ri-user-add-fill text-white text-3xl"})})}),u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-rose-600 bg-clip-text text-transparent mb-2",children:" "}),u.jsx("p",{className:"text-gray-600",children:"   "}),u.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"    ()"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"  "}),u.jsx("button",{type:"button",onClick:()=>r("/login"),className:"text-sm text-gray-500 hover:text-gray-700",children:" "})]}),u.jsxs("form",{onSubmit:I,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"name",value:e.name,onChange:y,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" ",maxLength:20,required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",name:"phoneNumber",value:e.phoneNumber,onChange:_,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"010-1234-5678",maxLength:13,required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",name:"age",value:e.age,onChange:y,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" ",min:"18",max:"100"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{type:"button",onClick:()=>a(k=>({...k,gender:"male"})),className:`py-3 rounded-xl font-medium transition-all ${e.gender==="male"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>a(k=>({...k,gender:"female"})),className:`py-3 rounded-xl font-medium transition-all ${e.gender==="female"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",name:"location",value:e.location,onChange:y,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:": , ",maxLength:50})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",u.jsx("span",{className:"text-red-500",children:"*"})]}),c&&u.jsxs("div",{className:"mb-3 relative",children:[u.jsx("img",{src:c,alt:"",className:"w-32 h-32 object-cover rounded-xl mx-auto border-2 border-purple-200"}),u.jsx("button",{type:"button",onClick:L,className:"absolute top-0 right-1/2 translate-x-16 -translate-y-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-all",children:""})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("label",{className:"flex-1 bg-purple-50 border-2 border-dashed border-purple-300 rounded-xl px-4 py-3 text-center cursor-pointer hover:bg-purple-100 transition-all",children:[u.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"}),u.jsx("i",{className:"ri-image-add-line text-purple-500 mr-2"}),u.jsx("span",{className:"text-sm text-purple-600",children:s?s.name:" "})]})}),u.jsx("div",{className:"mt-2",children:u.jsx("input",{type:"url",name:"profileImage",value:e.profileImage,onChange:y,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"  URL ",disabled:!!s})}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   URL  ( 5MB)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("textarea",{name:"bio",value:e.bio,onChange:y,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:" ",rows:4,maxLength:200}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[e.bio.length,"/200"]})]}),u.jsx("button",{type:"submit",disabled:h||g||!e.name.trim()||!e.phoneNumber||!e.gender,className:"w-full bg-gradient-to-r from-purple-500 to-rose-500 text-white py-4 rounded-xl font-medium hover:from-purple-600 hover:to-rose-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:g?"  ...":h?" ...":"  "})]}),u.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-xl border border-purple-200",children:u.jsxs("p",{className:"text-xs text-purple-700",children:[u.jsx("i",{className:"ri-information-fill mr-1"}),"      .     ."]})})]})]})})}const uy=r=>r===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function FC(){const r=ze(),[e,a]=N.useState({nickname:"",name:"",age:20,gender:"",location:"",bio:"",mbti:"",school:"",height:"160~165",bodyType:"",style:"",religion:"",smoking:"",drinking:"",interests:[],avatar:""}),[s,l]=N.useState(""),[c,d]=N.useState(!1),[h,p]=N.useState(""),[g,x]=N.useState(""),[y,v]=N.useState(!1),[_,j]=N.useState(!1),[T,L]=N.useState(""),[I,k]=N.useState(null);N.useEffect(()=>{(()=>{const J=localStorage.getItem("user");if(J)try{const te=JSON.parse(J);k(te.id),a({nickname:te.name||"",name:te.name||"",age:te.age||20,gender:te.gender||"",location:te.location||"",bio:te.bio||"",mbti:te.mbti||"",school:te.school||"",height:te.height||"160~165",bodyType:te.body_type||"",style:te.style||"",religion:te.religion||"",smoking:te.smoking||"",drinking:te.drinking||"",interests:te.interests||[],avatar:te.avatar_url||""})}catch(te){console.error("   :",te)}})()},[]);const S=()=>{r(-1)},$=(D,J)=>{a(te=>({...te,[D]:J}))},Y=()=>{s.trim()&&!e.interests.includes(s.trim())&&(a(D=>({...D,interests:[...D.interests,s.trim()]})),l(""))},M=D=>{a(J=>({...J,interests:J.interests.filter(te=>te!==D)}))},R=async()=>{if(!I){alert(" ."),r("/login");return}j(!0);try{const D={name:e.name,age:e.age,gender:e.gender,location:e.location,bio:e.bio,mbti:e.mbti,school:e.school,height:e.height,body_type:e.bodyType,style:e.style,religion:e.religion,smoking:e.smoking,drinking:e.drinking,interests:e.interests,avatar_url:T||e.avatar,updated_at:new Date().toISOString()},{error:J}=await fe.from("users").update(D).eq("id",I);if(J){console.error("  :",J),alert("  ."),j(!1);return}const te=localStorage.getItem("user");if(te){const le={...JSON.parse(te),...D,body_type:e.bodyType};localStorage.setItem("user",JSON.stringify(le))}console.log(" :",D),v(!0)}catch(D){console.error("   :",D),alert("  .")}finally{j(!1)}},U=async D=>{const J=D.target.files?.[0];if(!J)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(J.type)){alert("JPG, PNG, WEBP, GIF    .");return}const je=5*1024*1024;if(J.size>je){alert("  5MB  .");return}j(!0);try{const le=J.name.split(".").pop(),$e=`avatars/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${le}`}`,{error:q}=await fe.storage.from("profile-images").upload($e,J,{cacheControl:"3600",upsert:!1});if(q)throw console.error(" :",q),new Error(q.message||"  .");const{data:X}=fe.storage.from("profile-images").getPublicUrl($e),ae=X.publicUrl;L(ae);const pe=new FileReader;pe.onloadend=()=>{a(Se=>({...Se,avatar:pe.result}))},pe.readAsDataURL(J)}catch(le){console.error("   :",le),alert(le.message||"  .")}finally{j(!1)}};return u.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-20",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[u.jsx("button",{onClick:S,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-line text-xl"})}),u.jsx("h1",{className:"text-lg font-bold",children:" "}),u.jsx("button",{onClick:R,disabled:_,className:`font-medium cursor-pointer whitespace-nowrap ${_?"text-gray-400":"text-cyan-500"}`,children:_?" ...":""})]})}),u.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[u.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative inline-block mb-4",children:[_&&u.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center z-10",children:u.jsx("i",{className:"ri-loader-4-line text-white text-2xl animate-spin"})}),u.jsx("img",{src:e.avatar||uy(e.gender),alt:"",className:"w-24 h-24 rounded-full object-cover",onError:D=>{const J=D.target;J.src=uy(e.gender)}}),u.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",onChange:U,disabled:_,className:"hidden"}),u.jsx("label",{htmlFor:"avatar-upload",className:`absolute bottom-0 right-0 w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all ${_?"opacity-50 cursor-not-allowed":"hover:from-cyan-600 hover:to-blue-700 cursor-pointer"}`,children:u.jsx("i",{className:"ri-camera-line"})})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"  "})]})}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-user-line mr-2 text-cyan-500"})," "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:e.name,onChange:D=>a({...e,name:D.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"number",value:e.age,onChange:D=>a({...e,age:parseInt(D.target.value)}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>a({...e,gender:""}),className:`flex-1 py-3 rounded-xl font-medium transition-colors cursor-pointer whitespace-nowrap ${e.gender===""?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:""}),u.jsx("button",{onClick:()=>a({...e,gender:""}),className:`flex-1 py-3 rounded-xl font-medium transition-colors cursor-pointer whitespace-nowrap ${e.gender===""?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:e.location,onChange:D=>a({...e,location:D.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-file-list-3-line mr-2 text-cyan-500"})," "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("input",{type:"text",value:e.school,onChange:D=>$("school",D.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (cm)"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["150~155","155~160","160~165","165~170","170~175","175~180","180~185","185~190"].map(D=>u.jsx("button",{onClick:()=>$("height",D),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.height===D?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:D},D))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","",""].map(D=>u.jsx("button",{onClick:()=>$("bodyType",D),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.bodyType===D?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:D},D))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(D=>u.jsx("button",{onClick:()=>$("style",D),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.style===D?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:D},D))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(D=>u.jsx("button",{onClick:()=>$("religion",D),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.religion===D?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:D},D))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MBTI"}),u.jsx("input",{type:"text",value:e.mbti,onChange:D=>$("mbti",D.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent uppercase",placeholder:"MBTI  (: ENFP)",maxLength:4})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(D=>u.jsx("button",{onClick:()=>$("smoking",D),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.smoking===D?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:D},D))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[" ","","",""].map(D=>u.jsx("button",{onClick:()=>$("drinking",D),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${e.drinking===D?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:D},D))})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-chat-smile-2-line mr-2 text-cyan-500"}),""]}),u.jsx("textarea",{value:e.bio,onChange:D=>a({...e,bio:D.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none",rows:4,placeholder:" ",maxLength:500}),u.jsxs("div",{className:"text-right text-xs text-gray-400 mt-2",children:[e.bio.length,"/500"]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-heart-line mr-2 text-cyan-500"}),""]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.interests.map((D,J)=>u.jsxs("span",{className:"bg-cyan-50 text-cyan-700 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[u.jsx("span",{children:D}),u.jsx("button",{onClick:()=>M(D),className:"w-4 h-4 flex items-center justify-center hover:bg-cyan-200 rounded-full transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-xs"})})]},J))}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",value:s,onChange:D=>l(D.target.value),onKeyPress:D=>D.key==="Enter"&&Y(),className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "}),u.jsx("button",{onClick:Y,className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})]})]}),y&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-check-line text-white text-2xl"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" !"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"  ."}),u.jsx("button",{onClick:()=>{v(!1),S()},className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})})]})}function YC(){const r=ze(),[e,a]=N.useState([]),[s,l]=N.useState(!0);N.useEffect(()=>{c()},[]);const c=async()=>{try{const y=localStorage.getItem("user");if(!y){a([]),l(!1);return}const _=JSON.parse(y).id;console.log("  :",_);const{data:j,error:T}=await fe.from("notifications").select("*").eq("user_id",_).order("created_at",{ascending:!1});if(T){console.error("  :",T),a([]),l(!1);return}console.log(" :",j);const L=(j||[]).map(I=>({id:I.id,type:I.type,message:I.message||I.content||"",time:d(I.created_at),isRead:I.is_read||!1}));a(L)}catch(y){console.error("  :",y),a([])}finally{l(!1)}},d=y=>{const v=new Date(y),j=new Date().getTime()-v.getTime(),T=Math.floor(j/6e4),L=Math.floor(j/36e5),I=Math.floor(j/864e5);return T<1?" ":T<60?`${T} `:L<24?`${L} `:I<7?`${I} `:v.toLocaleDateString("ko-KR")},h=y=>{switch(y){case"like":return"ri-heart-fill text-red-500";case"match":return"ri-user-heart-fill text-pink-500";case"message":return"ri-message-fill text-blue-500";case"community":return"ri-chat-3-fill text-green-500";default:return"ri-notification-fill text-gray-500"}},p=()=>{a(y=>y.map(v=>({...v,isRead:!0})))},g=y=>{a(v=>v.filter(_=>_.id!==y))},x=e.filter(y=>!y.isRead).length;return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-40",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{onClick:()=>r(-1),className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:u.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:u.jsx("i",{className:"ri-arrow-left-line text-gray-700 text-xl"})})}),u.jsx("h1",{className:"text-lg font-bold",children:""}),x>0&&u.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:x})]}),e.length>0&&u.jsx("button",{onClick:p,className:"text-sm text-gray-600 hover:text-gray-800 cursor-pointer whitespace-nowrap",children:" "})]})}),u.jsx("main",{className:"pt-16 pb-6",children:s?u.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-gray-200 border-t-blue-500 rounded-full"})}):e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:u.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:u.jsx("i",{className:"ri-notification-off-line text-4xl text-gray-300"})})}),u.jsx("p",{className:"text-gray-500 text-center",children:"  "})]}):u.jsx("div",{className:"divide-y divide-gray-100",children:e.map(y=>u.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer relative ${y.isRead?"bg-white":"bg-blue-50"}`,children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 flex items-center justify-center flex-shrink-0",children:u.jsx("i",{className:h(y.type)+" text-2xl"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${y.isRead?"text-gray-700":"font-medium text-gray-900"}`,children:y.message}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.time})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[!y.isRead&&u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsx("button",{onClick:v=>{v.stopPropagation(),g(y.id)},className:"w-6 h-6 flex items-center justify-center cursor-pointer hover:bg-gray-200 rounded-full transition-colors",children:u.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:u.jsx("i",{className:"ri-close-line text-gray-400"})})})]})]})},y.id))})})]})}function JC(){const r=ze(),e=fn(),a=e.state?.profile||e.state?.authorData,[s,l]=N.useState(0),[c,d]=N.useState(!1),[h,p]=N.useState(!1),[g,x]=N.useState(0),v=(()=>{const M=localStorage.getItem("user");if(!M)return null;try{return JSON.parse(M).id}catch{return null}})(),_=v&&a?.id===v,j=a?.photos&&a.photos.length>0?a.photos:[],T=()=>{r(-1)},L=()=>{x(M=>M===0?j.length-1:M-1)},I=()=>{x(M=>M===j.length-1?0:M+1)};if(!a)return r(-1),null;if(!j||j.length===0)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("i",{className:"ri-image-line text-6xl text-gray-300 mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),u.jsx("p",{className:"text-gray-600 mb-6",children:"   1   ."}),u.jsx("button",{onClick:()=>r(-1),className:"bg-cyan-500 text-white px-6 py-3 rounded-xl font-medium hover:bg-cyan-600 transition-all",children:""})]})});a?.school,a?.height,a?.bodyType,a?.style,a?.religion,a?.mbti,a?.smoking,a?.drinking,a?.interests;const k=()=>{a.hasLikedMe?p(!0):(d(!0),setTimeout(()=>{d(!1),r(-1)},2e3))},S=()=>{r(-1)},$=M=>{l(M)},Y=()=>{p(!1);const M=new CustomEvent("openChat",{detail:{userId:a.id,userName:a.name,userAvatar:j[0]||""}});window.dispatchEvent(M),r("/")};return u.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-24",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("button",{onClick:T,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-s-line text-2xl"})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("img",{src:j[0],alt:a.name,className:"w-8 h-8 rounded-full object-cover"}),u.jsx("span",{className:"font-medium text-gray-800",children:a.name})]}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-more-2-fill text-xl"})})]})}),u.jsx("div",{className:"relative bg-white",children:u.jsxs("div",{className:"relative h-96 overflow-hidden",children:[u.jsx("img",{src:j[g],alt:`${a.name}  ${g+1}`,className:"w-full h-full object-cover"}),j.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:L,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-s-line text-white text-xl"})}),u.jsx("button",{onClick:I,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-right-s-line text-white text-xl"})})]}),j.length>1&&u.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:j.map((M,R)=>u.jsx("button",{onClick:()=>x(R),className:`w-2 h-2 rounded-full transition-colors cursor-pointer ${R===g?"bg-white":"bg-white/50"}`},R))})]})}),u.jsxs("div",{className:"bg-white px-4 py-4 border-b",children:[u.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(M=>u.jsx("button",{onClick:()=>$(M),className:"cursor-pointer",children:u.jsx("i",{className:`text-3xl ${M<=s?"ri-star-fill text-yellow-400":"ri-star-line text-gray-300"}`})},M))}),u.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:" "})]}),u.jsxs("div",{className:"px-4 py-6 space-y-4",children:[u.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-2",children:[u.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.school||""})]}),u.jsxs("div",{className:"border-b border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.height||""})]}),u.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.bodyType||""})]}),u.jsxs("div",{className:"border-b border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.style||""})]}),u.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.religion||""})]}),u.jsxs("div",{className:"border-b border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.mbti||""})]}),u.jsxs("div",{className:"border-r border-gray-100 p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.smoking||""})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("div",{className:"font-medium text-gray-800",children:a?.drinking||""})]})]})}),u.jsxs("button",{className:"w-full bg-white rounded-2xl p-4 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow cursor-pointer",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-line text-white"})}),u.jsx("span",{className:"font-semibold text-gray-800",children:"MBTI  "})]}),u.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx("i",{className:"ri-heart-3-line mr-2 text-cyan-500"}),""]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""}),u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""}),u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""}),u.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:""})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[u.jsx("i",{className:"ri-chat-quote-line mr-2 text-cyan-500"}),""]}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:a?.bio||" ."})]})]}),!_&&u.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-cyan-50 px-8 py-6 flex justify-center space-x-8",children:[u.jsx("button",{onClick:k,className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-2 border-cyan-200",children:u.jsx("i",{className:"ri-heart-fill text-cyan-400 text-2xl"})}),u.jsx("button",{onClick:S,className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-2 border-gray-200",children:u.jsx("i",{className:"ri-close-line text-gray-400 text-2xl"})})]}),c&&u.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white px-6 py-4 rounded-2xl z-50",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("i",{className:"ri-heart-fill text-pink-400"}),u.jsxs("span",{children:[a.name,"  !"]})]})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-heart-fill text-white text-3xl"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" ! "}),u.jsxs("p",{className:"text-gray-600 mb-6",children:[a.name,"   !",u.jsx("br",{}),"   ."]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:Y,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:" "}),u.jsx("button",{onClick:()=>p(!1),className:"w-full bg-gray-100 text-gray-600 py-3 rounded-full font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]})})]})}function XC(){const r=ze(),[e,a]=N.useState("dashboard"),[s,l]=N.useState(null),[c,d]=N.useState(!1),[h,p]=N.useState(""),[g,x]=N.useState(""),[y,v]=N.useState([{id:1,name:"e",email:"snow@example.com",age:22,gender:"",location:" ",school:"",mbti:"ISFP",avatar:"https://lovelyharu.com/data/character/thumb-TTHVyEtmHJ_1725434222_300x300.jpg",coins:150,status:"active",lastLogin:"2024-01-15 14:30",createdAt:"2023-12-01",matchCount:23,messageCount:156},{id:2,name:"",email:"cat@example.com",age:20,gender:"",location:" ",school:"",mbti:"ISTP",avatar:"https://lovelyharu.com/data/character/thumb-HWHHTbQhNX_1736148423_300x300.jpg",coins:80,status:"active",lastLogin:"2024-01-15 13:15",createdAt:"2023-11-15",matchCount:15,messageCount:89},{id:3,name:"",email:"clover@example.com",age:19,gender:"",location:" ",school:"",mbti:"ESTP",avatar:"https://lovelyharu.com/data/character/thumb-KOAXjl7vXB_1725434279_300x300.jpg",coins:200,status:"active",lastLogin:"2024-01-15 11:20",createdAt:"2023-10-20",matchCount:31,messageCount:234},{id:4,name:"",email:"ddirori@example.com",age:27,gender:"",location:" ",school:"",mbti:"ESTJ",avatar:"https://lovelyharu.com/data/character/thumb-CEZVu9Um98_1725434222_300x300.jpg",coins:50,status:"inactive",lastLogin:"2024-01-10 09:00",createdAt:"2023-09-05",matchCount:8,messageCount:45},{id:5,name:"",email:"uani@example.com",age:19,gender:"",location:" ",school:"",mbti:"ISTJ",avatar:"https://lovelyharu.com/data/character/thumb-ANSXxJWhNK_1717561056_300x300.jpg",coins:120,status:"active",lastLogin:"2024-01-15 10:45",createdAt:"2023-08-12",matchCount:19,messageCount:112},{id:6,name:"",email:"sweet@example.com",age:23,gender:"",location:" ",school:"",mbti:"ENTP",avatar:"https://lovelyharu.com/data/character/thumb-HZJBTbg55v_1736148423_300x300.jpg",coins:300,status:"active",lastLogin:"2024-01-14 22:30",createdAt:"2023-07-28",matchCount:42,messageCount:389},{id:7,name:"",email:"apeach@example.com",age:24,gender:"",location:" ",school:"",mbti:"ESTP",avatar:"https://lovelyharu.com/data/character/thumb-UEAPrPtjRq_1722489509_300x300.jpg",coins:0,status:"banned",lastLogin:"2024-01-05 15:00",createdAt:"2023-06-10",matchCount:5,messageCount:23}]),_=y.filter(S=>S.name.toLowerCase().includes(g.toLowerCase())||S.email.toLowerCase().includes(g.toLowerCase())),j={totalUsers:y.length,activeUsers:y.filter(S=>S.status==="active").length,totalCoins:y.reduce((S,$)=>S+$.coins,0),todayLogins:y.filter(S=>S.lastLogin.includes("2024-01-15")).length},T=()=>{s&&h&&(v(S=>S.map($=>$.id===s.id?{...$,coins:$.coins+parseInt(h)}:$)),l(S=>S?{...S,coins:S.coins+parseInt(h)}:null),d(!1),p(""))},L=(S,$)=>{v(Y=>Y.map(M=>M.id===S?{...M,status:$}:M)),s?.id===S&&l(Y=>Y?{...Y,status:$}:null)},I=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j.totalUsers})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-user-line text-xl text-blue-600"})})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.activeUsers})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-user-follow-line text-xl text-green-600"})})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.totalCoins})]}),u.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-coin-line text-xl text-yellow-600"})})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:" "}),u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j.todayLogins})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:u.jsx("i",{className:"ri-login-box-line text-xl text-purple-600"})})]})})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  "}),u.jsx("div",{className:"space-y-3",children:y.sort((S,$)=>new Date($.lastLogin).getTime()-new Date(S.lastLogin).getTime()).slice(0,5).map(S=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:S.avatar,alt:S.name,className:"w-10 h-10 rounded-full object-cover object-top"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-800",children:S.name}),u.jsx("p",{className:"text-xs text-gray-500",children:S.lastLogin})]})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-600":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:S.status==="active"?"":S.status==="inactive"?"":""})]},S.id))})]})]}),k=()=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:g,onChange:S=>x(S.target.value),placeholder:"    ...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm"}),u.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" "}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(S=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:S.avatar,alt:S.name,className:"w-10 h-10 rounded-full object-cover object-top"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-800",children:S.name}),u.jsx("p",{className:"text-xs text-gray-500",children:S.email})]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("i",{className:"ri-coin-line text-yellow-500"}),u.jsx("span",{className:"font-medium",children:S.coins})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-600":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:S.status==="active"?"":S.status==="inactive"?"":""})}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:S.lastLogin}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("button",{onClick:()=>l(S),className:"text-pink-500 hover:text-pink-600 font-medium text-sm cursor-pointer",children:""})})]},S.id))})]})})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white shadow-lg z-40",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl flex items-center justify-center",children:u.jsx("i",{className:"ri-admin-line text-white text-xl"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-bold text-gray-800",children:""}),u.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),u.jsxs("nav",{className:"p-4 space-y-2",children:[u.jsxs("button",{onClick:()=>a("dashboard"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="dashboard"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-dashboard-line text-xl"}),u.jsx("span",{className:"font-medium",children:""})]}),u.jsxs("button",{onClick:()=>a("users"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="users"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-user-line text-xl"}),u.jsx("span",{className:"font-medium",children:" "})]}),u.jsxs("button",{onClick:()=>a("reports"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="reports"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-flag-line text-xl"}),u.jsx("span",{className:"font-medium",children:" "})]}),u.jsxs("button",{onClick:()=>a("settings"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${e==="settings"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx("i",{className:"ri-settings-line text-xl"}),u.jsx("span",{className:"font-medium",children:""})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t",children:u.jsxs("button",{onClick:()=>r("/"),className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer",children:[u.jsx("i",{className:"ri-logout-box-line text-xl"}),u.jsx("span",{className:"font-medium",children:""})]})})]}),u.jsx("div",{className:"ml-64 p-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[e==="dashboard"&&"",e==="users"&&" ",e==="reports"&&" ",e==="settings"&&""]}),u.jsxs("p",{className:"text-gray-500 mt-1",children:[e==="dashboard"&&"   ",e==="users"&&"    ",e==="reports"&&"   ",e==="settings"&&"  "]})]}),e==="dashboard"&&I(),e==="users"&&k(),e==="reports"&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-flag-line text-2xl text-gray-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),u.jsx("p",{className:"text-gray-500",children:"  "})]}),e==="settings"&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-settings-line text-2xl text-gray-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-500",children:"   "})]})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-bold",children:"  "}),u.jsx("button",{onClick:()=>l(null),className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-xl"})})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[u.jsx("img",{src:s.avatar,alt:s.name,className:"w-20 h-20 rounded-full object-cover object-top"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-bold text-gray-800",children:s.name}),u.jsx("p",{className:"text-gray-500",children:s.email}),u.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-600":s.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:s.status==="active"?"":s.status==="inactive"?"":""})]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsxs("p",{className:"font-medium",children:[s.age,""]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:s.gender})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:s.location})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),u.jsx("p",{className:"font-medium",children:s.mbti})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:s.school})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-yellow-50 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-bold text-yellow-600",children:s.coins})]}),u.jsxs("div",{className:"bg-pink-50 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-bold text-pink-600",children:s.matchCount})]}),u.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-bold text-blue-600",children:s.messageCount})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),u.jsx("p",{className:"font-medium",children:s.lastLogin})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),u.jsx("p",{className:"font-medium",children:s.createdAt})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>d(!0),className:"w-full py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium hover:from-yellow-500 hover:to-yellow-600 transition-all cursor-pointer whitespace-nowrap",children:[u.jsx("i",{className:"ri-coin-line mr-2"})," "]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>L(s.id,"active"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${s.status==="active"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-green-100"}`,children:""}),u.jsx("button",{onClick:()=>L(s.id,"inactive"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${s.status==="inactive"?"bg-gray-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),u.jsx("button",{onClick:()=>L(s.id,"banned"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${s.status==="banned"?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-100"}`,children:""})]})]})]})]})}),c&&s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),u.jsxs("p",{className:"text-gray-500 mb-4",children:[s.name,"  "]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),u.jsx("input",{type:"number",value:h,onChange:S=>p(S.target.value),placeholder:"0",className:"w-full px-4 py-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{d(!1),p("")},className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-medium cursor-pointer whitespace-nowrap",children:""}),u.jsx("button",{onClick:T,disabled:!h||parseInt(h)<=0,className:"flex-1 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium disabled:opacity-50 cursor-pointer whitespace-nowrap",children:""})]})]})})]})}function Dv(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lv(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&$i(r,e)}function zi(r){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},zi(r)}function $i(r,e){return $i=Object.setPrototypeOf||function(s,l){return s.__proto__=l,s},$i(r,e)}function Uv(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ro(r,e,a){return Uv()?Ro=Reflect.construct:Ro=function(l,c,d){var h=[null];h.push.apply(h,c);var p=Function.bind.apply(l,h),g=new p;return d&&$i(g,d.prototype),g},Ro.apply(null,arguments)}function QC(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Yo(r){var e=typeof Map=="function"?new Map:void 0;return Yo=function(s){if(s===null||!QC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,l)}function l(){return Ro(s,arguments,zi(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),$i(l,s)},Yo(r)}function ZC(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WC(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZC(r)}function Mv(r){var e=Uv();return function(){var s=zi(r),l;if(e){var c=zi(this).constructor;l=Reflect.construct(s,arguments,c)}else l=s.apply(this,arguments);return WC(this,l)}}var xi=null;function e4(r,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(xi!=null)return xi;var s=new Promise(function(l,c){try{var d=function(){So(e)!=null?l(So(e)):c(new t4(e))},h=function(){c(new n4(r))};if(typeof window>"u"||typeof document>"u")return l(null);if(So(e)!=null)return l(So(e));var p=document.querySelector('script[src="'.concat(r,'"]'));if(p!=null){var g;p.removeEventListener("load",d),p.removeEventListener("error",h),(g=p.parentElement)===null||g===void 0||g.removeChild(p)}var x=document.createElement("script");x.src=r,x.addEventListener("load",d),x.addEventListener("error",h),a.priority!=null&&(x.fetchPriority=a.priority),document.head.appendChild(x)}catch(y){c(y);return}});return xi=s.catch(function(l){return xi=null,Promise.reject(l)}),xi}function So(r){return window[r]}var t4=(function(r){Lv(a,r);var e=Mv(a);function a(s){var l;return Dv(this,a),l=e.call(this,"[TossPayments SDK] ".concat(s," is not available")),l.name="NamespaceNotAvailableError",l}return a})(Yo(Error)),n4=(function(r){Lv(a,r);var e=Mv(a);function a(s){var l;return Dv(this,a),l=e.call(this,"[TossPayments SDK] Failed to load script: [".concat(s,"]")),l.name="ScriptLoadFailedError",l}return a})(Yo(Error)),a4="https://js.tosspayments.com/v1";function s4(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.src,s=a===void 0?a4:a;return typeof window>"u"?Promise.resolve({requestPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},requestBillingAuth:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},cancelPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")}}):e4(s,"TossPayments").then(function(l){return l(r)})}const r4="test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq";function i4(){const r=ze(),[e,a]=N.useState(null),[s,l]=N.useState(!1),[c,d]=N.useState(""),[h,p]=N.useState(null),g=[{id:"basic",coins:50,price:5e3},{id:"standard",coins:100,price:9e3,bonus:10},{id:"premium",coins:300,price:25e3,bonus:50,popular:!0},{id:"vip",coins:500,price:4e4,bonus:100},{id:"mega",coins:1e3,price:75e3,bonus:250},{id:"ultra",coins:2e3,price:14e4,bonus:600}];N.useEffect(()=>{(async()=>{try{const _=await s4(r4);p(_)}catch(_){console.error("  :",_)}})()},[]);const x=v=>{a(v),l(!0)},y=async()=>{if(!(!e||!h))try{const v=`ORDER_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,_=` ${e.coins}${e.bonus?` (+${e.bonus} )`:""}`,j=e.coins+(e.bonus||0);localStorage.setItem("selectedPackageId",e.id),localStorage.setItem("selectedCoins",j.toString()),await h.requestPayment(c,{amount:e.price,orderId:v,orderName:_,successUrl:`${window.location.origin}/payment/success`,failUrl:`${window.location.origin}/payment/fail`,customerName:""})}catch(v){console.error("  :",v),alert("  .  .")}};return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 flex items-center justify-center cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-line text-2xl text-gray-800"})}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"px-5 py-8 text-center border-b border-gray-100",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:" "}),u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"}),u.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"150"})]})]}),u.jsx("div",{className:"px-5 py-6",children:u.jsx("div",{className:"space-y-3",children:g.map(v=>u.jsxs("button",{onClick:()=>x(v),className:`w-full flex items-center justify-between p-5 rounded-2xl border-2 transition-all cursor-pointer ${v.popular?"border-pink-500 bg-pink-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${v.popular?"bg-pink-50":"bg-gray-100"}`,children:u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"})}),u.jsxs("div",{className:"text-left",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-2xl font-bold text-gray-900",children:v.coins.toLocaleString()}),v.bonus&&u.jsxs("span",{className:"text-sm font-medium text-pink-500",children:["+",v.bonus]})]}),v.popular&&u.jsx("span",{className:"text-xs font-medium text-pink-500",children:""})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[v.price.toLocaleString(),""]})})]},v.id))})}),s&&e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:u.jsxs("div",{className:"bg-white w-full sm:max-w-md sm:rounded-3xl rounded-t-3xl overflow-hidden animate-slide-up",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:""}),u.jsx("button",{onClick:()=>l(!1),className:"w-9 h-9 flex items-center justify-center cursor-pointer",children:u.jsx("i",{className:"ri-close-line text-2xl text-gray-600"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 mb-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-pink-50 rounded-full flex items-center justify-center",children:u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-600 mb-1",children:""}),u.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[e.coins.toLocaleString(),e.bonus&&u.jsxs("span",{className:"text-base text-pink-500 ml-1",children:["+",e.bonus]})]})]})]})}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[e.price.toLocaleString(),u.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:" "}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>d(""),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${c===""?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"toss"})}),u.jsx("span",{className:"font-medium text-gray-900",children:""})]}),c===""&&u.jsx("i",{className:"ri-check-line text-xl text-blue-500"})]}),u.jsxs("button",{onClick:()=>d("CARD"),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${c==="CARD"?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"ri-bank-card-2-line text-white text-lg"})}),u.jsx("span",{className:"font-medium text-gray-900",children:"/"})]}),c==="CARD"&&u.jsx("i",{className:"ri-check-line text-xl text-purple-500"})]}),u.jsxs("button",{onClick:()=>d("TRANSFER"),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${c==="TRANSFER"?"border-green-500 bg-green-50":"border-gray-200 bg-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"ri-bank-line text-white text-lg"})}),u.jsx("span",{className:"font-medium text-gray-900",children:""})]}),c==="TRANSFER"&&u.jsx("i",{className:"ri-check-line text-xl text-green-500"})]})]})]}),u.jsxs("button",{onClick:y,className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer whitespace-nowrap",children:[e.price.toLocaleString()," "]})]})]})})]})}const nf=r=>r===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function l4(){const r=ze(),[e,a]=N.useState("received"),[s,l]=N.useState(!1),[c,d]=N.useState(null),[h,p]=N.useState([]),[g,x]=N.useState([]),[y,v]=N.useState(!0),[_,j]=N.useState(null);N.useEffect(()=>{(async()=>{try{const D=localStorage.getItem("user");if(!D){v(!1);return}const J=JSON.parse(D);j(J),p([]),x([])}catch(D){console.error("   :",D),p([]),x([])}finally{v(!1)}})()},[]);const T=()=>{r(-1)},L=U=>{d(U),l(!0)},I=()=>{if(c){p(D=>D.map(J=>J.id===c.id?{...J,status:"accepted"}:J));const U=new CustomEvent("openChat",{detail:{userId:c.userId,userName:c.name,userAvatar:c.avatar||nf(c.gender)}});window.dispatchEvent(U),l(!1),d(null),setTimeout(()=>{r("/")},500)}},k=U=>{p(D=>D.map(J=>J.id===U?{...J,status:"rejected"}:J))},S=U=>{x(D=>D.filter(J=>J.id!==U))},$=U=>{r("/profile-detail",{state:{profile:{id:U.userId,name:U.name,age:U.age,gender:U.gender,location:U.location,school:U.school,mbti:U.mbti,bio:U.bio,character:U.avatar}}})},Y=U=>{const D=h.find(J=>J.id===U);D&&L(D)},M=U=>{k(U)},R=U=>{S(U)};return h.filter(U=>U.status==="pending"),g.filter(U=>U.status==="pending"),u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[u.jsx("button",{onClick:T,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:u.jsx("i",{className:"ri-arrow-left-line text-xl"})}),u.jsx("h1",{className:"text-lg font-bold",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"bg-white px-4 py-3 flex space-x-2 border-b",children:[u.jsxs("button",{onClick:()=>a("received"),className:`flex-1 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${e==="received"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600"}`,children:["  (",h.length,")"]}),u.jsxs("button",{onClick:()=>a("sent"),className:`flex-1 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${e==="sent"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600"}`,children:["  (",g.length,")"]})]}),u.jsx("div",{className:"px-4 py-4",children:e==="received"?h.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-gray-100 rounded-full",children:u.jsx("i",{className:"ri-mail-open-line text-4xl text-gray-300"})}),u.jsx("p",{className:"text-gray-500 font-medium",children:"   "}),u.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"   !"})]}):u.jsx("div",{className:"space-y-3",children:h.map(U=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:U.avatar||nf(U.gender),alt:U.name,className:"w-16 h-16 rounded-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>$(U)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h3",{className:"font-bold text-gray-800 cursor-pointer hover:text-cyan-500",onClick:()=>$(U),children:U.name}),u.jsxs("span",{className:"text-sm text-gray-500",children:[U.age,""]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:U.location}),u.jsx("p",{className:"text-xs text-gray-400",children:U.timestamp})]})]}),u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{onClick:()=>Y(U.id),className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-2 rounded-full text-sm font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""}),u.jsx("button",{onClick:()=>M(U.id),className:"flex-1 bg-gray-100 text-gray-600 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]},U.id))}):g.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-gray-100 rounded-full",children:u.jsx("i",{className:"ri-mail-send-line text-4xl text-gray-300"})}),u.jsx("p",{className:"text-gray-500 font-medium",children:"   "}),u.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"    !"})]}):u.jsx("div",{className:"space-y-3",children:g.map(U=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:U.avatar||nf(U.gender),alt:U.name,className:"w-16 h-16 rounded-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>$(U)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h3",{className:"font-bold text-gray-800 cursor-pointer hover:text-cyan-500",onClick:()=>$(U),children:U.name}),u.jsxs("span",{className:"text-sm text-gray-500",children:[U.age,""]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:U.location}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.status==="pending"?"bg-yellow-100 text-yellow-700":U.status==="accepted"?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-600"}`,children:U.status==="pending"?"":U.status==="accepted"?"":""}),u.jsx("span",{className:"text-xs text-gray-400",children:U.timestamp})]})]})]}),U.status==="pending"&&u.jsx("button",{onClick:()=>R(U.id),className:"w-full mt-4 bg-gray-100 text-gray-600 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:" "})]},U.id))})}),s&&c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"ri-heart-fill text-white text-2xl"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" "}),u.jsxs("p",{className:"text-gray-600 mb-6",children:[c.name,"  ?"]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>{l(!1),d(null)},className:"flex-1 bg-gray-100 text-gray-600 py-3 rounded-full font-medium hover:bg-gray-200 transition-all cursor-pointer whitespace-nowrap",children:""}),u.jsx("button",{onClick:I,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})]})})]})}const o4="http://localhost:3001";function c4(){const r=ze(),[e]=Dy(),[a,s]=N.useState(!0),[l,c]=N.useState(null);return N.useEffect(()=>{(async()=>{const h=e.get("orderId"),p=e.get("paymentKey"),g=e.get("amount");if(!h||!p||!g){alert("   ."),r("/coin-shop");return}try{const x=parseInt(localStorage.getItem("selectedCoins")||"0"),y=localStorage.getItem("userId")||"temp-user-id",v=await fetch(`${o4}/api/payment/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:h,paymentKey:p,amount:parseInt(g),userId:y,coins:x})}),_=await v.json();if(!v.ok||!_.success)throw new Error(_.message||"  .");c({orderId:_.data.orderId,amount:_.data.amount,coins:_.data.coins,currentCoins:_.data.currentCoins,approvedAt:_.data.approvedAt}),localStorage.removeItem("selectedPackageId"),localStorage.removeItem("selectedCoins"),s(!1)}catch(x){console.error("  :",x);const y=x.message||"  .";alert(y),r(`/payment/fail?message=${encodeURIComponent(y)}`)}})()},[e,r]),a?u.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("div",{className:"w-10"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6",children:u.jsx("i",{className:"ri-check-line text-5xl text-green-500"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),u.jsx("p",{className:"text-gray-500 mb-8",children:" "}),l&&u.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center mb-6 pb-6 border-b border-gray-200",children:[u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-12 h-12 mr-3"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:" "}),u.jsxs("p",{className:"text-3xl font-bold text-pink-500",children:["+",l.coins.toLocaleString()]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"text-gray-900 font-medium text-sm",children:l.orderId})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("span",{className:"text-gray-900 font-bold text-xl",children:[l.amount.toLocaleString(),""]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"  "}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-5 h-5"}),u.jsx("span",{className:"text-gray-900 font-bold text-lg",children:l.currentCoins?.toLocaleString()||0})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"text-gray-900 font-medium",children:new Date(l.approvedAt).toLocaleString("ko-KR")})]})]})]}),u.jsxs("div",{className:"w-full max-w-md space-y-3",children:[u.jsx("button",{onClick:()=>r("/"),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer",children:" "}),u.jsx("button",{onClick:()=>r("/coin-shop"),className:"w-full bg-white text-gray-900 py-4 rounded-xl font-bold text-lg border-2 border-gray-200 hover:bg-gray-50 transition-all cursor-pointer",children:" "})]})]})]})}function u4(){const r=ze(),[e]=Dy(),a=e.get("message")||" .",s=e.get("code");return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("div",{className:"w-10"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("div",{className:"w-10"})]})}),u.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6",children:u.jsx("i",{className:"ri-close-line text-5xl text-red-500"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),u.jsx("p",{className:"text-gray-500 mb-2 text-center",children:a}),s&&u.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:[" : ",s]}),u.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl p-6 mb-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"  "}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:"     "})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:"  "})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:"  "})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),u.jsx("span",{children:" "})]})]})]}),u.jsxs("div",{className:"w-full max-w-md space-y-3",children:[u.jsx("button",{onClick:()=>r("/coin-shop"),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer",children:" "}),u.jsx("button",{onClick:()=>r("/"),className:"w-full bg-white text-gray-900 py-4 rounded-xl font-bold text-lg border-2 border-gray-200 hover:bg-gray-50 transition-all cursor-pointer",children:" "})]})]})]})}const d4=async(r,e="avatars",a)=>{try{const s=r.name.split(".").pop(),l=`${Date.now()}_${Math.random().toString(36).substring(2,9)}.${s}`,c=a?`${a}/${l}`:l,{data:d,error:h}=await fe.storage.from(e).upload(c,r,{cacheControl:"3600",upsert:!1});if(h)throw console.error("  :",h),new Error(`  : ${h.message}`);const{data:{publicUrl:p}}=fe.storage.from(e).getPublicUrl(c);return p}catch(s){throw console.error("uploadImage error:",s),s}};function f4(){const r=ze(),{user:e}=Wo(),[a,s]=N.useState(""),[l,c]=N.useState("dating"),[d,h]=N.useState([]),[p,g]=N.useState([]),[x,y]=N.useState(!1),[v,_]=N.useState(!1),j=()=>{if(e)return e;const k=localStorage.getItem("user");return k?JSON.parse(k):null},T=async k=>{const S=Array.from(k.target.files||[]);if(S.length!==0){if(d.length+S.length>5){alert("  5   .");return}y(!0);try{const $=S.map(async M=>{const R=URL.createObjectURL(M);return g(D=>[...D,R]),await d4(M,"posts","community")}),Y=await Promise.all($);h(M=>[...M,...Y])}catch($){console.error("  :",$),alert("  .")}finally{y(!1)}}},L=k=>{h(S=>S.filter(($,Y)=>Y!==k)),g(S=>S.filter(($,Y)=>Y!==k))},I=async k=>{if(k.preventDefault(),!a.trim()){alert(" .");return}const S=j();if(!S){alert(" ."),r("/login");return}_(!0);try{const{data:$,error:Y}=await fe.from("community_posts").insert({user_id:S.id,author_name:S.name||"",avatar_url:S.avatar_url||"",title:a.substring(0,50),content:a.trim(),image_url:d.length>0?d[0]:null,likes:0,views:0,category:l,age:S.age,location:S.location,job:S.school||S.job}).select().single();if(Y)throw Y;alert(" !"),r("/")}catch($){console.error("  :",$),alert(`  : ${$.message}`)}finally{_(!1)}};return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:u.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[u.jsx("button",{onClick:()=>r(-1),className:"text-gray-600 hover:text-gray-900",children:u.jsx("i",{className:"ri-close-line text-2xl"})}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),u.jsx("button",{onClick:I,disabled:v||!a.trim(),className:"text-pink-500 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:v?" ...":""})]})}),u.jsxs("form",{onSubmit:I,className:"p-5",children:[u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("button",{type:"button",onClick:()=>c("dating"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${l==="dating"?"bg-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),u.jsx("button",{type:"button",onClick:()=>c("chat"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${l==="chat"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""})]}),u.jsx("textarea",{value:a,onChange:k=>s(k.target.value),placeholder:"   ?",className:"w-full min-h-[200px] text-lg border-none outline-none resize-none",autoFocus:!0}),p.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:p.map((k,S)=>u.jsxs("div",{className:"relative aspect-square",children:[u.jsx("img",{src:k,alt:` ${S+1}`,className:"w-full h-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>L(S),className:"absolute top-2 right-2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70",children:u.jsx("i",{className:"ri-close-line text-lg"})})]},S))}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-5",children:u.jsxs("label",{className:`flex items-center justify-center w-full py-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-pink-500 hover:bg-pink-50 transition-all ${x?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:T,className:"hidden",disabled:x||d.length>=5}),x?u.jsxs("span",{className:"text-gray-600",children:[u.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"})," ..."]}):u.jsxs("span",{className:"text-gray-600",children:[u.jsx("i",{className:"ri-image-add-line text-xl mr-2"}),"  (",d.length,"/5)"]})]})})]})]})}const h4=[{path:"/",element:u.jsx(VN,{})},{path:"/auth",element:u.jsx(NC,{})},{path:"/login",element:u.jsx(HC,{})},{path:"/login/signin",element:u.jsx(VC,{})},{path:"/login/email",element:u.jsx(GN,{})},{path:"/signup",element:u.jsx(GC,{})},{path:"/signup/phone",element:u.jsx(SC,{})},{path:"/signup/quick",element:u.jsx(KC,{})},{path:"/profile-edit",element:u.jsx(FC,{})},{path:"/notifications",element:u.jsx(YC,{})},{path:"/profile-detail",element:u.jsx(JC,{})},{path:"/admin",element:u.jsx(XC,{})},{path:"/coin-shop",element:u.jsx(i4,{})},{path:"/matching-requests",element:u.jsx(l4,{})},{path:"/payment/success",element:u.jsx(c4,{})},{path:"/payment/fail",element:u.jsx(u4,{})},{path:"/post/create",element:u.jsx(f4,{})},{path:"*",element:u.jsx(Ij,{})}];let Pv;new Promise(r=>{Pv=r});function m4(){const r=$_(h4),e=ze();return N.useEffect(()=>{window.REACT_APP_NAVIGATE=e,Pv(window.REACT_APP_NAVIGATE)}),r}function p4(){const{loading:r}=Wo();return r?u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),u.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("i",{className:"ri-heart-fill text-primary-500 animate-pulse-soft"})})]}),u.jsx("div",{className:"text-sm font-medium text-slate-500 animate-pulse",children:" ..."})]}):u.jsx(m4,{})}function g4(){return u.jsx(B2,{i18n:dt,children:u.jsx(jj,{children:u.jsx(MN,{children:u.jsx(p4,{})})})})}c_.createRoot(document.getElementById("root")).render(u.jsx(N.StrictMode,{children:u.jsx(g4,{})}));
//# sourceMappingURL=index-CDaQv11v.js.map

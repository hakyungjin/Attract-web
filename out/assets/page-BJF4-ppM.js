import{u as e,j as s,s as t}from"./index-MGgYOwZh.js";import{d as r,r as i}from"./vendor-DxrR1XxW.js";import"./supabase-DKAQY1gD.js";function a(){const a=r(),{user:l}=e(),[n,c]=i.useState(null),[o,d]=i.useState(!0),[m,x]=i.useState(0);i.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("user");let s=l?.id;if(!s&&e)try{s=JSON.parse(e).id}catch{}if(!s)return void a("/login");const{data:r,error:i}=await t.from("users").select("*").eq("id",s).single();if(i)return;r&&c({id:r.id,name:r.name||r.nickname||"익명",age:r.age||0,gender:r.gender||"",location:r.location||"",school:r.school||"",mbti:r.mbti||"",character:r.character||"",bio:r.bio||"",photos:r.photos||(r.profile_image?[r.profile_image]:[]),interests:r.interests||[],height:r.height||"",bodyType:r.body_type||r.bodyType||"",style:r.style||"",religion:r.religion||"",smoking:r.smoking||"",drinking:r.drinking||""})}catch(e){}finally{d(!1)}})()},[l?.id,a]);const h=n?.photos&&n.photos.length>0?n.photos:[(g=n?.gender||"","남자"===g||"male"===g?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish")];var g;const b=()=>{a("/profile-edit")};if(o)return s.jsx("div",{className:"min-h-screen bg-cyan-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-cyan-500 border-t-transparent"})});if(!n)return s.jsx("div",{className:"min-h-screen bg-cyan-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"프로필을 불러올 수 없습니다"}),s.jsx("button",{onClick:()=>a("/"),className:"bg-cyan-500 text-white px-6 py-2 rounded-full",children:"홈으로"})]})});const u={school:n.school||"정보없음",height:n.height||"정보없음",bodyType:n.bodyType||"정보없음",style:n.style||"정보없음",religion:n.religion||"정보없음",mbti:n.mbti||"정보없음",smoking:n.smoking||"정보없음",drinking:n.drinking||"정보없음"},y=n.interests||[];return s.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-24",children:[s.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsx("button",{onClick:()=>{a(-1)},className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:s.jsx("i",{className:"ri-arrow-left-s-line text-2xl"})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"font-medium text-gray-800",children:"내 프로필 미리보기"})}),s.jsx("button",{onClick:b,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:s.jsx("i",{className:"ri-edit-line text-xl text-cyan-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-white",children:[s.jsx("i",{className:"ri-eye-line"}),s.jsx("span",{className:"text-sm",children:"다른 사람에게 보이는 내 프로필 화면입니다"})]})}),s.jsx("div",{className:"relative bg-white",children:s.jsxs("div",{className:"relative h-96 overflow-hidden",children:[s.jsx("img",{src:h[m],alt:`${n.name} 사진 ${m+1}`,className:"w-full h-full object-cover"}),h.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{x(e=>0===e?h.length-1:e-1)},className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:s.jsx("i",{className:"ri-arrow-left-s-line text-white text-xl"})}),s.jsx("button",{onClick:()=>{x(e=>e===h.length-1?0:e+1)},className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:s.jsx("i",{className:"ri-arrow-right-s-line text-white text-xl"})})]}),h.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:h.map((e,t)=>s.jsx("button",{onClick:()=>x(t),className:"w-2 h-2 rounded-full transition-colors cursor-pointer "+(t===m?"bg-white":"bg-white/50")},t))}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent px-4 py-6",children:[s.jsxs("h2",{className:"text-white text-2xl font-bold",children:[n.name,", ",n.age]}),s.jsxs("p",{className:"text-white/80 text-sm flex items-center mt-1",children:[s.jsx("i",{className:"ri-map-pin-line mr-1"}),n.location||"위치 정보 없음"]})]})]})}),s.jsxs("div",{className:"px-4 py-6 space-y-4",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"학교"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.school})]}),s.jsxs("div",{className:"border-b border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"키"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.height})]}),s.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"체형"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.bodyType})]}),s.jsxs("div",{className:"border-b border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"스타일"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.style})]}),s.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"종교"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.religion})]}),s.jsxs("div",{className:"border-b border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.mbti})]}),s.jsxs("div",{className:"border-r border-gray-100 p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"흡연"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.smoking})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"음주"}),s.jsx("div",{className:"font-medium text-gray-800",children:u.drinking})]})]})}),y.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx("i",{className:"ri-heart-3-line mr-2 text-cyan-500"}),"관심사"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((e,t)=>s.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:e},t))})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx("i",{className:"ri-chat-quote-line mr-2 text-cyan-500"}),"자기소개"]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.bio||"자기소개가 없습니다."})]}),s.jsxs("button",{onClick:b,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-4 rounded-2xl font-bold shadow-lg hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer flex items-center justify-center space-x-2",children:[s.jsx("i",{className:"ri-edit-line"}),s.jsx("span",{children:"프로필 수정하기"})]})]})]})}export{a as default};

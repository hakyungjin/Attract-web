(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();function _y(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Sy(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var a=o.default;if(typeof a=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};n.prototype=a.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var c=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return o[i]}})}),n}var Zc={exports:{}},wi={};var Ym;function Ey(){if(Ym)return wi;Ym=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(i,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:o,type:i,key:h,ref:c!==void 0?c:null,props:u}}return wi.Fragment=a,wi.jsx=n,wi.jsxs=n,wi}var Qm;function Ty(){return Qm||(Qm=1,Zc.exports=Ey()),Zc.exports}var l=Ty(),Fc={exports:{}},ue={};var Xm;function Cy(){if(Xm)return ue;Xm=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function H(O,Y,W){this.props=O,this.context=Y,this.refs=R,this.updater=W||_}H.prototype.isReactComponent={},H.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=H.prototype;function S(O,Y,W){this.props=O,this.context=Y,this.refs=R,this.updater=W||_}var k=S.prototype=new C;k.constructor=S,N(k,H.prototype),k.isPureReactComponent=!0;var L=Array.isArray;function $(){}var q={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function J(O,Y,W){var ae=W.ref;return{$$typeof:o,type:O,key:Y,ref:ae!==void 0?ae:null,props:W}}function I(O,Y){return J(O.type,Y,O.props)}function G(O){return typeof O=="object"&&O!==null&&O.$$typeof===o}function Z(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return Y[W]})}var te=/\/+/g;function ee(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):Y.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then($,$):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function P(O,Y,W,ae,de){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var Ce=!1;if(O===null)Ce=!0;else switch(ge){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(O.$$typeof){case o:case a:Ce=!0;break;case y:return Ce=O._init,P(Ce(O._payload),Y,W,ae,de)}}if(Ce)return de=de(O),Ce=ae===""?"."+ee(O,0):ae,L(de)?(W="",Ce!=null&&(W=Ce.replace(te,"$&/")+"/"),P(de,Y,W,"",function(Cn){return Cn})):de!=null&&(G(de)&&(de=I(de,W+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(te,"$&/")+"/")+Ce)),Y.push(de)),1;Ce=0;var ct=ae===""?".":ae+":";if(L(O))for(var Pe=0;Pe<O.length;Pe++)ae=O[Pe],ge=ct+ee(ae,Pe),Ce+=P(ae,Y,W,ge,de);else if(Pe=j(O),typeof Pe=="function")for(O=Pe.call(O),Pe=0;!(ae=O.next()).done;)ae=ae.value,ge=ct+ee(ae,Pe++),Ce+=P(ae,Y,W,ge,de);else if(ge==="object"){if(typeof O.then=="function")return P(Ne(O),Y,W,ae,de);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function F(O,Y,W){if(O==null)return O;var ae=[],de=0;return P(O,ae,"","",function(ge){return Y.call(W,ge,de++)}),ae}function re(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Te={map:F,forEach:function(O,Y,W){F(O,function(){Y.apply(this,arguments)},W)},count:function(O){var Y=0;return F(O,function(){Y++}),Y},toArray:function(O){return F(O,function(Y){return Y})||[]},only:function(O){if(!G(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ue.Activity=b,ue.Children=Te,ue.Component=H,ue.Fragment=n,ue.Profiler=c,ue.PureComponent=S,ue.StrictMode=i,ue.Suspense=p,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ue.__COMPILER_RUNTIME={__proto__:null,c:function(O){return q.H.useMemoCache(O)}},ue.cache=function(O){return function(){return O.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(O,Y,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=N({},O.props),de=O.key;if(Y!=null)for(ge in Y.key!==void 0&&(de=""+Y.key),Y)!D.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(ae[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)ae.children=W;else if(1<ge){for(var Ce=Array(ge),ct=0;ct<ge;ct++)Ce[ct]=arguments[ct+2];ae.children=Ce}return J(O.type,de,ae)},ue.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},ue.createElement=function(O,Y,W){var ae,de={},ge=null;if(Y!=null)for(ae in Y.key!==void 0&&(ge=""+Y.key),Y)D.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(de[ae]=Y[ae]);var Ce=arguments.length-2;if(Ce===1)de.children=W;else if(1<Ce){for(var ct=Array(Ce),Pe=0;Pe<Ce;Pe++)ct[Pe]=arguments[Pe+2];de.children=ct}if(O&&O.defaultProps)for(ae in Ce=O.defaultProps,Ce)de[ae]===void 0&&(de[ae]=Ce[ae]);return J(O,ge,de)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(O){return{$$typeof:m,render:O}},ue.isValidElement=G,ue.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:re}},ue.memo=function(O,Y){return{$$typeof:g,type:O,compare:Y===void 0?null:Y}},ue.startTransition=function(O){var Y=q.T,W={};q.T=W;try{var ae=O(),de=q.S;de!==null&&de(W,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then($,je)}catch(ge){je(ge)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),q.T=Y}},ue.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ue.use=function(O){return q.H.use(O)},ue.useActionState=function(O,Y,W){return q.H.useActionState(O,Y,W)},ue.useCallback=function(O,Y){return q.H.useCallback(O,Y)},ue.useContext=function(O){return q.H.useContext(O)},ue.useDebugValue=function(){},ue.useDeferredValue=function(O,Y){return q.H.useDeferredValue(O,Y)},ue.useEffect=function(O,Y){return q.H.useEffect(O,Y)},ue.useEffectEvent=function(O){return q.H.useEffectEvent(O)},ue.useId=function(){return q.H.useId()},ue.useImperativeHandle=function(O,Y,W){return q.H.useImperativeHandle(O,Y,W)},ue.useInsertionEffect=function(O,Y){return q.H.useInsertionEffect(O,Y)},ue.useLayoutEffect=function(O,Y){return q.H.useLayoutEffect(O,Y)},ue.useMemo=function(O,Y){return q.H.useMemo(O,Y)},ue.useOptimistic=function(O,Y){return q.H.useOptimistic(O,Y)},ue.useReducer=function(O,Y,W){return q.H.useReducer(O,Y,W)},ue.useRef=function(O){return q.H.useRef(O)},ue.useState=function(O){return q.H.useState(O)},ue.useSyncExternalStore=function(O,Y,W){return q.H.useSyncExternalStore(O,Y,W)},ue.useTransition=function(){return q.H.useTransition()},ue.version="19.2.0",ue}var Jm;function Ru(){return Jm||(Jm=1,Fc.exports=Cy()),Fc.exports}var T=Ru();const ce=o=>typeof o=="string",ji=()=>{let o,a;const n=new Promise((i,c)=>{o=i,a=c});return n.resolve=o,n.reject=a,n},Im=o=>o==null?"":""+o,ky=(o,a,n)=>{o.forEach(i=>{a[i]&&(n[i]=a[i])})},Oy=/###/g,Zm=o=>o&&o.indexOf("###")>-1?o.replace(Oy,"."):o,Fm=o=>!o||ce(o),ki=(o,a,n)=>{const i=ce(a)?a.split("."):a;let c=0;for(;c<i.length-1;){if(Fm(o))return{};const u=Zm(i[c]);!o[u]&&n&&(o[u]=new n),Object.prototype.hasOwnProperty.call(o,u)?o=o[u]:o={},++c}return Fm(o)?{}:{obj:o,k:Zm(i[c])}},Wm=(o,a,n)=>{const{obj:i,k:c}=ki(o,a,Object);if(i!==void 0||a.length===1){i[c]=n;return}let u=a[a.length-1],h=a.slice(0,a.length-1),m=ki(o,h,Object);for(;m.obj===void 0&&h.length;)u=`${h[h.length-1]}.${u}`,h=h.slice(0,h.length-1),m=ki(o,h,Object),m?.obj&&typeof m.obj[`${m.k}.${u}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${u}`]=n},Ay=(o,a,n,i)=>{const{obj:c,k:u}=ki(o,a,Object);c[u]=c[u]||[],c[u].push(n)},bl=(o,a)=>{const{obj:n,k:i}=ki(o,a);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},Ry=(o,a,n)=>{const i=bl(o,n);return i!==void 0?i:bl(a,n)},s0=(o,a,n)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in o?ce(o[i])||o[i]instanceof String||ce(a[i])||a[i]instanceof String?n&&(o[i]=a[i]):s0(o[i],a[i],n):o[i]=a[i]);return o},cn=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Uy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ly=o=>ce(o)?o.replace(/[&<>"'\/]/g,a=>Uy[a]):o;class Dy{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const n=this.regExpMap.get(a);if(n!==void 0)return n;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const zy=[" ",",","?","!",";"],My=new Dy(20),$y=(o,a,n)=>{a=a||"",n=n||"";const i=zy.filter(h=>a.indexOf(h)<0&&n.indexOf(h)<0);if(i.length===0)return!0;const c=My.getRegExp(`(${i.map(h=>h==="?"?"\\?":h).join("|")})`);let u=!c.test(o);if(!u){const h=o.indexOf(n);h>0&&!c.test(o.substring(0,h))&&(u=!0)}return u},pu=(o,a,n=".")=>{if(!o)return;if(o[a])return Object.prototype.hasOwnProperty.call(o,a)?o[a]:void 0;const i=a.split(n);let c=o;for(let u=0;u<i.length;){if(!c||typeof c!="object")return;let h,m="";for(let p=u;p<i.length;++p)if(p!==u&&(m+=n),m+=i[p],h=c[m],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&p<i.length-1)continue;u+=p-u+1;break}c=h}return c},Li=o=>o?.replace("_","-"),qy={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,a){console?.[o]?.apply?.(console,a)}};class vl{constructor(a,n={}){this.init(a,n)}init(a,n={}){this.prefix=n.prefix||"i18next:",this.logger=a||qy,this.options=n,this.debug=n.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,n,i,c){return c&&!this.debug?null:(ce(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[n](a))}create(a){return new vl(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new vl(this.logger,a)}}var Zt=new vl;class Tl{constructor(){this.observers={}}on(a,n){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const c=this.observers[i].get(n)||0;this.observers[i].set(n,c+1)}),this}off(a,n){if(this.observers[a]){if(!n){delete this.observers[a];return}this.observers[a].delete(n)}}emit(a,...n){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([c,u])=>{for(let h=0;h<u;h++)c(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,u])=>{for(let h=0;h<u;h++)c.apply(c,[a,...n])})}}class eg extends Tl{constructor(a,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const n=this.options.ns.indexOf(a);n>-1&&this.options.ns.splice(n,1)}getResource(a,n,i,c={}){const u=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,h=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;a.indexOf(".")>-1?m=a.split("."):(m=[a,n],i&&(Array.isArray(i)?m.push(...i):ce(i)&&u?m.push(...i.split(u)):m.push(i)));const p=bl(this.data,m);return!p&&!n&&!i&&a.indexOf(".")>-1&&(a=m[0],n=m[1],i=m.slice(2).join(".")),p||!h||!ce(i)?p:pu(this.data?.[a]?.[n],i,u)}addResource(a,n,i,c,u={silent:!1}){const h=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let m=[a,n];i&&(m=m.concat(h?i.split(h):i)),a.indexOf(".")>-1&&(m=a.split("."),c=n,n=m[1]),this.addNamespaces(n),Wm(this.data,m,c),u.silent||this.emit("added",a,n,i,c)}addResources(a,n,i,c={silent:!1}){for(const u in i)(ce(i[u])||Array.isArray(i[u]))&&this.addResource(a,n,u,i[u],{silent:!0});c.silent||this.emit("added",a,n,i)}addResourceBundle(a,n,i,c,u,h={silent:!1,skipCopy:!1}){let m=[a,n];a.indexOf(".")>-1&&(m=a.split("."),c=i,i=n,n=m[1]),this.addNamespaces(n);let p=bl(this.data,m)||{};h.skipCopy||(i=JSON.parse(JSON.stringify(i))),c?s0(p,i,u):p={...p,...i},Wm(this.data,m,p),h.silent||this.emit("added",a,n,i)}removeResourceBundle(a,n){this.hasResourceBundle(a,n)&&delete this.data[a][n],this.removeNamespaces(n),this.emit("removed",a,n)}hasResourceBundle(a,n){return this.getResource(a,n)!==void 0}getResourceBundle(a,n){return n||(n=this.options.defaultNS),this.getResource(a,n)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const n=this.getDataByLanguage(a);return!!(n&&Object.keys(n)||[]).find(c=>n[c]&&Object.keys(n[c]).length>0)}toJSON(){return this.data}}var n0={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,a,n,i,c){return o.forEach(u=>{a=this.processors[u]?.process(a,n,i,c)??a}),a}};const i0=Symbol("i18next/PATH_KEY");function By(){const o=[],a=Object.create(null);let n;return a.get=(i,c)=>(n?.revoke?.(),c===i0?o:(o.push(c),n=Proxy.revocable(i,a),n.proxy)),Proxy.revocable(Object.create(null),a).proxy}function xu(o,a){const{[i0]:n}=o(By());return n.join(a?.keySeparator??".")}const tg={},Wc=o=>!ce(o)&&typeof o!="boolean"&&typeof o!="number";class wl extends Tl{constructor(a,n={}){super(),ky(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zt.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,n={interpolation:{}}){const i={...n};if(a==null)return!1;const c=this.resolve(a,i);if(c?.res===void 0)return!1;const u=Wc(c.res);return!(i.returnObjects===!1&&u)}extractFromKey(a,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const c=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const h=i&&a.indexOf(i)>-1,m=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!$y(a,i,c);if(h&&!m){const p=a.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:a,namespaces:ce(u)?[u]:u};const g=a.split(i);(i!==c||i===c&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),a=g.join(c)}return{key:a,namespaces:ce(u)?[u]:u}}translate(a,n,i){let c=typeof n=="object"?{...n}:n;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),a==null)return"";typeof a=="function"&&(a=xu(a,{...this.options,...c})),Array.isArray(a)||(a=[String(a)]);const u=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:m,namespaces:p}=this.extractFromKey(a[a.length-1],c),g=p[p.length-1];let y=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const b=c.lng||this.language,w=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return w?u?{res:`${g}${y}${m}`,usedKey:m,exactUsedKey:m,usedLng:b,usedNS:g,usedParams:this.getUsedParamsDetails(c)}:`${g}${y}${m}`:u?{res:m,usedKey:m,exactUsedKey:m,usedLng:b,usedNS:g,usedParams:this.getUsedParamsDetails(c)}:m;const j=this.resolve(a,c);let _=j?.res;const N=j?.usedKey||m,R=j?.exactUsedKey||m,H=["[object Number]","[object Function]","[object RegExp]"],C=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,k=c.count!==void 0&&!ce(c.count),L=wl.hasDefaultValue(c),$=k?this.pluralResolver.getSuffix(b,c.count,c):"",q=c.ordinal&&k?this.pluralResolver.getSuffix(b,c.count,{ordinal:!1}):"",D=k&&!c.ordinal&&c.count===0,J=D&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${$}`]||c[`defaultValue${q}`]||c.defaultValue;let I=_;S&&!_&&L&&(I=J);const G=Wc(I),Z=Object.prototype.toString.apply(I);if(S&&I&&G&&H.indexOf(Z)<0&&!(ce(C)&&Array.isArray(I))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const te=this.options.returnedObjectHandler?this.options.returnedObjectHandler(N,I,{...c,ns:p}):`key '${m} (${this.language})' returned an object instead of string.`;return u?(j.res=te,j.usedParams=this.getUsedParamsDetails(c),j):te}if(h){const te=Array.isArray(I),ee=te?[]:{},Ne=te?R:N;for(const P in I)if(Object.prototype.hasOwnProperty.call(I,P)){const F=`${Ne}${h}${P}`;L&&!_?ee[P]=this.translate(F,{...c,defaultValue:Wc(J)?J[P]:void 0,joinArrays:!1,ns:p}):ee[P]=this.translate(F,{...c,joinArrays:!1,ns:p}),ee[P]===F&&(ee[P]=I[P])}_=ee}}else if(S&&ce(C)&&Array.isArray(_))_=_.join(C),_&&(_=this.extendTranslation(_,a,c,i));else{let te=!1,ee=!1;!this.isValidLookup(_)&&L&&(te=!0,_=J),this.isValidLookup(_)||(ee=!0,_=m);const P=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:_,F=L&&J!==_&&this.options.updateMissing;if(ee||te||F){if(this.logger.log(F?"updateKey":"missingKey",b,g,m,F?J:_),h){const O=this.resolve(m,{...c,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const je=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&je&&je[0])for(let O=0;O<je.length;O++)re.push(je[O]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(c.lng||this.language):re.push(c.lng||this.language);const Te=(O,Y,W)=>{const ae=L&&W!==_?W:P;this.options.missingKeyHandler?this.options.missingKeyHandler(O,g,Y,ae,F,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(O,g,Y,ae,F,c),this.emit("missingKey",O,g,Y,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?re.forEach(O=>{const Y=this.pluralResolver.getSuffixes(O,c);D&&c[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(W=>{Te([O],m+W,c[`defaultValue${W}`]||J)})}):Te(re,m,J))}_=this.extendTranslation(_,a,c,j,i),ee&&_===m&&this.options.appendNamespaceToMissingKey&&(_=`${g}${y}${m}`),(ee||te)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${m}`:m,te?_:void 0,c))}return u?(j.res=_,j.usedParams=this.getUsedParamsDetails(c),j):_}extendTranslation(a,n,i,c,u){if(this.i18nFormat?.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const p=ce(a)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const b=a.match(this.interpolator.nestingRegexp);g=b&&b.length}let y=i.replace&&!ce(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),a=this.interpolator.interpolate(a,y,i.lng||this.language||c.usedLng,i),p){const b=a.match(this.interpolator.nestingRegexp),w=b&&b.length;g<w&&(i.nest=!1)}!i.lng&&c&&c.res&&(i.lng=this.language||c.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,(...b)=>u?.[0]===b[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),i)),i.interpolation&&this.interpolator.reset()}const h=i.postProcess||this.options.postProcess,m=ce(h)?[h]:h;return a!=null&&m?.length&&i.applyPostProcessor!==!1&&(a=n0.handle(m,a,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a,n={}){let i,c,u,h,m;return ce(a)&&(a=[a]),a.forEach(p=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(p,n),y=g.key;c=y;let b=g.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const w=n.count!==void 0&&!ce(n.count),j=w&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(ce(n.context)||typeof n.context=="number")&&n.context!=="",N=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);b.forEach(R=>{this.isValidLookup(i)||(m=R,!tg[`${N[0]}-${R}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(m)&&(tg[`${N[0]}-${R}`]=!0,this.logger.warn(`key "${c}" for languages "${N.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(H=>{if(this.isValidLookup(i))return;h=H;const C=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,y,H,R,n);else{let k;w&&(k=this.pluralResolver.getSuffix(H,n.count,n));const L=`${this.options.pluralSeparator}zero`,$=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&k.indexOf($)===0&&C.push(y+k.replace($,this.options.pluralSeparator)),C.push(y+k),j&&C.push(y+L)),_){const q=`${y}${this.options.contextSeparator||"_"}${n.context}`;C.push(q),w&&(n.ordinal&&k.indexOf($)===0&&C.push(q+k.replace($,this.options.pluralSeparator)),C.push(q+k),j&&C.push(q+L))}}let S;for(;S=C.pop();)this.isValidLookup(i)||(u=S,i=this.getResource(H,R,S,n))}))})}),{res:i,usedKey:c,exactUsedKey:u,usedLng:h,usedNS:m}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,n,i,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(a,n,i,c):this.resourceStore.getResource(a,n,i,c)}getUsedParamsDetails(a={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!ce(a.replace);let c=i?a.replace:a;if(i&&typeof a.count<"u"&&(c.count=a.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!i){c={...c};for(const u of n)delete c[u]}return c}static hasDefaultValue(a){const n="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&n===i.substring(0,n.length)&&a[i]!==void 0)return!0;return!1}}class ag{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zt.create("languageUtils")}getScriptPartFromCode(a){if(a=Li(a),!a||a.indexOf("-")<0)return null;const n=a.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(a){if(a=Li(a),!a||a.indexOf("-")<0)return a;const n=a.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(a){if(ce(a)&&a.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(a)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?a.toLowerCase():a)}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let n;return a.forEach(i=>{if(n)return;const c=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(c))&&(n=c)}),!n&&this.options.supportedLngs&&a.forEach(i=>{if(n)return;const c=this.getScriptPartFromCode(i);if(this.isSupportedCode(c))return n=c;const u=this.getLanguagePartFromCode(i);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(h=>{if(h===u)return h;if(!(h.indexOf("-")<0&&u.indexOf("-")<0)&&(h.indexOf("-")>0&&u.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===u||h.indexOf(u)===0&&u.length>1))return h})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(a,n){if(!a)return[];if(typeof a=="function"&&(a=a(n)),ce(a)&&(a=[a]),Array.isArray(a))return a;if(!n)return a.default||[];let i=a[n];return i||(i=a[this.getScriptPartFromCode(n)]),i||(i=a[this.formatLanguageCode(n)]),i||(i=a[this.getLanguagePartFromCode(n)]),i||(i=a.default),i||[]}toResolveHierarchy(a,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],a),c=[],u=h=>{h&&(this.isSupportedCode(h)?c.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return ce(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(a))):ce(a)&&u(this.formatLanguageCode(a)),i.forEach(h=>{c.indexOf(h)<0&&u(this.formatLanguageCode(h))}),c}}const sg={zero:0,one:1,two:2,few:3,many:4,other:5},ng={select:o=>o===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Hy{constructor(a,n={}){this.languageUtils=a,this.options=n,this.logger=Zt.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,n){this.rules[a]=n}clearCache(){this.pluralRulesCache={}}getRule(a,n={}){const i=Li(a==="dev"?"en":a),c=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:i,type:c});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let h;try{h=new Intl.PluralRules(i,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ng;if(!a.match(/-|_/))return ng;const p=this.languageUtils.getLanguagePartFromCode(a);h=this.getRule(p,n)}return this.pluralRulesCache[u]=h,h}needsPlural(a,n={}){let i=this.getRule(a,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(a,n,i={}){return this.getSuffixes(a,i).map(c=>`${n}${c}`)}getSuffixes(a,n={}){let i=this.getRule(a,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((c,u)=>sg[c]-sg[u]).map(c=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(a,n,i={}){const c=this.getRule(a,i);return c?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c.select(n)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",n,i))}}const ig=(o,a,n,i=".",c=!0)=>{let u=Ry(o,a,n);return!u&&c&&ce(n)&&(u=pu(o,n,i),u===void 0&&(u=pu(a,n,i))),u},eu=o=>o.replace(/\$/g,"$$$$");class Py{constructor(a={}){this.logger=Zt.create("interpolator"),this.options=a,this.format=a?.interpolation?.format||(n=>n),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:c,prefix:u,prefixEscaped:h,suffix:m,suffixEscaped:p,formatSeparator:g,unescapeSuffix:y,unescapePrefix:b,nestingPrefix:w,nestingPrefixEscaped:j,nestingSuffix:_,nestingSuffixEscaped:N,nestingOptionsSeparator:R,maxReplaces:H,alwaysFormat:C}=a.interpolation;this.escape=n!==void 0?n:Ly,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=u?cn(u):h||"{{",this.suffix=m?cn(m):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=w?cn(w):j||cn("$t("),this.nestingSuffix=_?cn(_):N||cn(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=H||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(a,n,i,c){let u,h,m;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=j=>{if(j.indexOf(this.formatSeparator)<0){const H=ig(n,p,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,i,{...c,...n,interpolationkey:j}):H}const _=j.split(this.formatSeparator),N=_.shift().trim(),R=_.join(this.formatSeparator).trim();return this.format(ig(n,p,N,this.options.keySeparator,this.options.ignoreJSONStructure),R,i,{...c,...n,interpolationkey:N})};this.resetRegExp();const y=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>eu(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?eu(this.escape(j)):eu(j)}].forEach(j=>{for(m=0;u=j.regex.exec(a);){const _=u[1].trim();if(h=g(_),h===void 0)if(typeof y=="function"){const R=y(a,u,c);h=ce(R)?R:""}else if(c&&Object.prototype.hasOwnProperty.call(c,_))h="";else if(b){h=u[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${a}`),h="";else!ce(h)&&!this.useRawValueToEscape&&(h=Im(h));const N=j.safeValue(h);if(a=a.replace(u[0],N),b?(j.regex.lastIndex+=h.length,j.regex.lastIndex-=u[0].length):j.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),a}nest(a,n,i={}){let c,u,h;const m=(p,g)=>{const y=this.nestingOptionsSeparator;if(p.indexOf(y)<0)return p;const b=p.split(new RegExp(`${y}[ ]*{`));let w=`{${b[1]}`;p=b[0],w=this.interpolate(w,h);const j=w.match(/'/g),_=w.match(/"/g);((j?.length??0)%2===0&&!_||_.length%2!==0)&&(w=w.replace(/'/g,'"'));try{h=JSON.parse(w),g&&(h={...g,...h})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,N),`${p}${y}${w}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,p};for(;c=this.nestingRegexp.exec(a);){let p=[];h={...i},h=h.replace&&!ce(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;const g=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(g!==-1&&(p=c[1].slice(g).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),c[1]=c[1].slice(0,g)),u=n(m.call(this,c[1].trim(),h),h),u&&c[0]===a&&!ce(u))return u;ce(u)||(u=Im(u)),u||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${a}`),u=""),p.length&&(u=p.reduce((y,b)=>this.format(y,b,i.lng,{...i,interpolationkey:c[1].trim()}),u.trim())),a=a.replace(c[0],u),this.regexp.lastIndex=0}return a}}const Ky=o=>{let a=o.toLowerCase().trim();const n={};if(o.indexOf("(")>-1){const i=o.split("(");a=i[0].toLowerCase().trim();const c=i[1].substring(0,i[1].length-1);a==="currency"&&c.indexOf(":")<0?n.currency||(n.currency=c.trim()):a==="relativetime"&&c.indexOf(":")<0?n.range||(n.range=c.trim()):c.split(";").forEach(h=>{if(h){const[m,...p]=h.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),y=m.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:a,formatOptions:n}},rg=o=>{const a={};return(n,i,c)=>{let u=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(u={...u,[c.interpolationkey]:void 0});const h=i+JSON.stringify(u);let m=a[h];return m||(m=o(Li(i),c),a[h]=m),m(n)}},Gy=o=>(a,n,i)=>o(Li(n),i)(a);class Vy{constructor(a={}){this.logger=Zt.create("formatter"),this.options=a,this.init(a)}init(a,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?rg:Gy;this.formats={number:i((c,u)=>{const h=new Intl.NumberFormat(c,{...u});return m=>h.format(m)}),currency:i((c,u)=>{const h=new Intl.NumberFormat(c,{...u,style:"currency"});return m=>h.format(m)}),datetime:i((c,u)=>{const h=new Intl.DateTimeFormat(c,{...u});return m=>h.format(m)}),relativetime:i((c,u)=>{const h=new Intl.RelativeTimeFormat(c,{...u});return m=>h.format(m,u.range||"day")}),list:i((c,u)=>{const h=new Intl.ListFormat(c,{...u});return m=>h.format(m)})}}add(a,n){this.formats[a.toLowerCase().trim()]=n}addCached(a,n){this.formats[a.toLowerCase().trim()]=rg(n)}format(a,n,i,c={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(m=>m.indexOf(")")>-1)){const m=u.findIndex(p=>p.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,m)].join(this.formatSeparator)}return u.reduce((m,p)=>{const{formatName:g,formatOptions:y}=Ky(p);if(this.formats[g]){let b=m;try{const w=c?.formatParams?.[c.interpolationkey]||{},j=w.locale||w.lng||c.locale||c.lng||i;b=this.formats[g](m,j,{...y,...c,...w})}catch(w){this.logger.warn(w)}return b}else this.logger.warn(`there was no format function for ${g}`);return m},a)}}const Yy=(o,a)=>{o.pending[a]!==void 0&&(delete o.pending[a],o.pendingCount--)};class Qy extends Tl{constructor(a,n,i,c={}){super(),this.backend=a,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=c,this.logger=Zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,c.backend,c)}queueLoad(a,n,i,c){const u={},h={},m={},p={};return a.forEach(g=>{let y=!0;n.forEach(b=>{const w=`${g}|${b}`;!i.reload&&this.store.hasResourceBundle(g,b)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?h[w]===void 0&&(h[w]=!0):(this.state[w]=1,y=!1,h[w]===void 0&&(h[w]=!0),u[w]===void 0&&(u[w]=!0),p[b]===void 0&&(p[b]=!0)))}),y||(m[g]=!0)}),(Object.keys(u).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(u),pending:Object.keys(h),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(p)}}loaded(a,n,i){const c=a.split("|"),u=c[0],h=c[1];n&&this.emit("failedLoading",u,h,n),!n&&i&&this.store.addResourceBundle(u,h,i,void 0,void 0,{skipCopy:!0}),this.state[a]=n?-1:2,n&&i&&(this.state[a]=0);const m={};this.queue.forEach(p=>{Ay(p.loaded,[u],h),Yy(p,a),n&&p.errors.push(n),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{m[g]||(m[g]={});const y=p.loaded[g];y.length&&y.forEach(b=>{m[g][b]===void 0&&(m[g][b]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(p=>!p.done)}read(a,n,i,c=0,u=this.retryTimeout,h){if(!a.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:n,fcName:i,tried:c,wait:u,callback:h});return}this.readingCalls++;const m=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(g&&y&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,a,n,i,c+1,u*2,h)},u);return}h(g,y)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const g=p(a,n);g&&typeof g.then=="function"?g.then(y=>m(null,y)).catch(m):m(null,g)}catch(g){m(g)}return}return p(a,n,m)}prepareLoading(a,n,i={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();ce(a)&&(a=this.languageUtils.toResolveHierarchy(a)),ce(n)&&(n=[n]);const u=this.queueLoad(a,n,i,c);if(!u.toLoad.length)return u.pending.length||c(),null;u.toLoad.forEach(h=>{this.loadOne(h)})}load(a,n,i){this.prepareLoading(a,n,{},i)}reload(a,n,i){this.prepareLoading(a,n,{reload:!0},i)}loadOne(a,n=""){const i=a.split("|"),c=i[0],u=i[1];this.read(c,u,"read",void 0,void 0,(h,m)=>{h&&this.logger.warn(`${n}loading namespace ${u} for language ${c} failed`,h),!h&&m&&this.logger.log(`${n}loaded namespace ${u} for language ${c}`,m),this.loaded(a,h,m)})}saveMissing(a,n,i,c,u,h={},m=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const p={...h,isUpdate:u},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(a,n,i,c,p):y=g(a,n,i,c),y&&typeof y.then=="function"?y.then(b=>m(null,b)).catch(m):m(null,y)}catch(y){m(y)}else g(a,n,i,c,m,p)}!a||!a[0]||this.store.addResource(a[0],n,i,c)}}}const lg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let a={};if(typeof o[1]=="object"&&(a=o[1]),ce(o[1])&&(a.defaultValue=o[1]),ce(o[2])&&(a.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const n=o[3]||o[2];Object.keys(n).forEach(i=>{a[i]=n[i]})}return a},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),og=o=>(ce(o.ns)&&(o.ns=[o.ns]),ce(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),ce(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs?.indexOf?.("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),typeof o.initImmediate=="boolean"&&(o.initAsync=o.initImmediate),o),ol=()=>{},Xy=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(n=>{typeof o[n]=="function"&&(o[n]=o[n].bind(o))})};class Oi extends Tl{constructor(a={},n){if(super(),this.options=og(a),this.services={},this.logger=Zt,this.modules={external:[]},Xy(this),n&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,n),this;setTimeout(()=>{this.init(a,n)},0)}}init(a={},n){this.isInitializing=!0,typeof a=="function"&&(n=a,a={}),a.defaultNS==null&&a.ns&&(ce(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const i=lg();this.options={...i,...this.options,...og(a)},this.options.interpolation={...i.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const c=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Zt.init(c(this.modules.logger),this.options):Zt.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=Vy;const y=new ag(this.options);this.store=new eg(this.options.resources,this.options);const b=this.services;b.logger=Zt,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new Hy(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(b.formatter=c(g),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new Py(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new Qy(c(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(j,..._)=>{this.emit(j,..._)}),this.modules.languageDetector&&(b.languageDetector=c(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=c(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new wl(this.services,this.options),this.translator.on("*",(j,..._)=>{this.emit(j,..._)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ol),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const m=ji(),p=()=>{const g=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(b),n(y,b)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),m}loadResources(a,n=ol){let i=n;const c=ce(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const u=[],h=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(g=>{g!=="cimode"&&u.indexOf(g)<0&&u.push(g)})};c?h(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>h(p)),this.options.preload?.forEach?.(m=>h(m)),this.services.backendConnector.load(u,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(m)})}else i(null)}reloadResources(a,n,i){const c=ji();return typeof a=="function"&&(i=a,a=void 0),typeof n=="function"&&(i=n,n=void 0),a||(a=this.languages),n||(n=this.options.ns),i||(i=ol),this.services.backendConnector.reload(a,n,u=>{c.resolve(),i(u)}),c}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&n0.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(a)<0&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,n){this.isLanguageChangingTo=a;const i=ji();this.emit("languageChanging",a);const c=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},u=(m,p)=>{p?this.isLanguageChangingTo===a&&(c(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,i.resolve((...g)=>this.t(...g)),n&&n(m,(...g)=>this.t(...g))},h=m=>{!a&&!m&&this.services.languageDetector&&(m=[]);const p=ce(m)?m:m&&m[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(ce(m)?[m]:m);g&&(this.language||c(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,y=>{u(y,g)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(a),i}getFixedT(a,n,i){const c=(u,h,...m)=>{let p;typeof h!="object"?p=this.options.overloadTranslationOptionHandler([u,h].concat(m)):p={...h},p.lng=p.lng||c.lng,p.lngs=p.lngs||c.lngs,p.ns=p.ns||c.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||c.keyPrefix);const g=this.options.keySeparator||".";let y;return p.keyPrefix&&Array.isArray(u)?y=u.map(b=>(typeof b=="function"&&(b=xu(b,{...this.options,...h})),`${p.keyPrefix}${g}${b}`)):(typeof u=="function"&&(u=xu(u,{...this.options,...h})),y=p.keyPrefix?`${p.keyPrefix}${g}${u}`:u),this.t(y,p)};return ce(a)?c.lng=a:c.lngs=a,c.ns=n,c.keyPrefix=i,c}t(...a){return this.translator?.translate(...a)}exists(...a){return this.translator?.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(m,p)=>{const g=this.services.backendConnector.state[`${m}|${p}`];return g===-1||g===0||g===2};if(n.precheck){const m=n.precheck(this,h);if(m!==void 0)return m}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(i,a)&&(!c||h(u,a)))}loadNamespaces(a,n){const i=ji();return this.options.ns?(ce(a)&&(a=[a]),a.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{i.resolve(),n&&n(c)}),i):(n&&n(),Promise.resolve())}loadLanguages(a,n){const i=ji();ce(a)&&(a=[a]);const c=this.options.preload||[],u=a.filter(h=>c.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return u.length?(this.options.preload=c.concat(u),this.loadResources(h=>{i.resolve(),n&&n(h)}),i):(n&&n(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!a)return"rtl";try{const c=new Intl.Locale(a);if(c&&c.getTextInfo){const u=c.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new ag(lg());return a.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},n){const i=new Oi(a,n);return i.createInstance=Oi.createInstance,i}cloneInstance(a={},n=ol){const i=a.forkResourceStore;i&&delete a.forkResourceStore;const c={...this.options,...a,isClone:!0},u=new Oi(c);if((a.debug!==void 0||a.prefix!==void 0)&&(u.logger=u.logger.clone(a)),["store","services","language"].forEach(m=>{u[m]=this[m]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},i){const m=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((y,b)=>(y[b]={...p[g][b]},y),p[g]),p),{});u.store=new eg(m,c),u.services.resourceStore=u.store}return u.translator=new wl(u.services,c),u.translator.on("*",(m,...p)=>{u.emit(m,...p)}),u.init(c,n),u.translator.options=c,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ot=Oi.createInstance();ot.createInstance;ot.dir;ot.init;ot.loadResources;ot.reloadResources;ot.use;ot.changeLanguage;ot.getFixedT;ot.t;ot.exists;ot.setDefaultNamespace;ot.hasLoadedNamespace;ot.loadNamespaces;ot.loadLanguages;const Jy=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Iy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Zy=o=>Iy[o],Fy=o=>o.replace(Jy,Zy);let cg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Fy};const Wy=(o={})=>{cg={...cg,...o}},eb={type:"3rdParty",init(o){Wy(o.options.react)}},tb=T.createContext();function ab({i18n:o,defaultNS:a,children:n}){const i=T.useMemo(()=>({i18n:o,defaultNS:a}),[o,a]);return T.createElement(tb.Provider,{value:i},n)}const{slice:sb,forEach:nb}=[];function ib(o){return nb.call(sb.call(arguments,1),a=>{if(a)for(const n in a)o[n]===void 0&&(o[n]=a[n])}),o}function rb(o){return typeof o!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(o))}const ug=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,lb=function(o,a){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(a);let u=`${o}=${c}`;if(i.maxAge>0){const h=i.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(h)}`}if(i.domain){if(!ug.test(i.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${i.domain}`}if(i.path){if(!ug.test(i.path))throw new TypeError("option path is invalid");u+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(u+="; HttpOnly"),i.secure&&(u+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(u+="; Partitioned"),u},dg={create(o,a,n,i){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+n*60*1e3)),i&&(c.domain=i),document.cookie=lb(o,a,c)},read(o){const a=`${o}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let c=n[i];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(a)===0)return c.substring(a.length,c.length)}return null},remove(o,a){this.create(o,"",-1,a)}};var ob={name:"cookie",lookup(o){let{lookupCookie:a}=o;if(a&&typeof document<"u")return dg.read(a)||void 0},cacheUserLanguage(o,a){let{lookupCookie:n,cookieMinutes:i,cookieDomain:c,cookieOptions:u}=a;n&&typeof document<"u"&&dg.create(n,o,i,c,u)}},cb={name:"querystring",lookup(o){let{lookupQuerystring:a}=o,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const u=i.substring(1).split("&");for(let h=0;h<u.length;h++){const m=u[h].indexOf("=");m>0&&u[h].substring(0,m)===a&&(n=u[h].substring(m+1))}}return n}},ub={name:"hash",lookup(o){let{lookupHash:a,lookupFromHashIndex:n}=o,i;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const u=c.substring(1);if(a){const h=u.split("&");for(let m=0;m<h.length;m++){const p=h[m].indexOf("=");p>0&&h[m].substring(0,p)===a&&(i=h[m].substring(p+1))}}if(i)return i;if(!i&&n>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?h[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return i}};let un=null;const fg=()=>{if(un!==null)return un;try{if(un=typeof window<"u"&&window.localStorage!==null,!un)return!1;const o="i18next.translate.boo";window.localStorage.setItem(o,"foo"),window.localStorage.removeItem(o)}catch{un=!1}return un};var db={name:"localStorage",lookup(o){let{lookupLocalStorage:a}=o;if(a&&fg())return window.localStorage.getItem(a)||void 0},cacheUserLanguage(o,a){let{lookupLocalStorage:n}=a;n&&fg()&&window.localStorage.setItem(n,o)}};let dn=null;const hg=()=>{if(dn!==null)return dn;try{if(dn=typeof window<"u"&&window.sessionStorage!==null,!dn)return!1;const o="i18next.translate.boo";window.sessionStorage.setItem(o,"foo"),window.sessionStorage.removeItem(o)}catch{dn=!1}return dn};var fb={name:"sessionStorage",lookup(o){let{lookupSessionStorage:a}=o;if(a&&hg())return window.sessionStorage.getItem(a)||void 0},cacheUserLanguage(o,a){let{lookupSessionStorage:n}=a;n&&hg()&&window.sessionStorage.setItem(n,o)}},hb={name:"navigator",lookup(o){const a=[];if(typeof navigator<"u"){const{languages:n,userLanguage:i,language:c}=navigator;if(n)for(let u=0;u<n.length;u++)a.push(n[u]);i&&a.push(i),c&&a.push(c)}return a.length>0?a:void 0}},mb={name:"htmlTag",lookup(o){let{htmlTag:a}=o,n;const i=a||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(n=i.getAttribute("lang")),n}},gb={name:"path",lookup(o){let{lookupFromPathIndex:a}=o;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof a=="number"?a:0]?.replace("/",""):void 0}},pb={name:"subdomain",lookup(o){let{lookupFromSubdomainIndex:a}=o;const n=typeof a=="number"?a+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[n]}};let r0=!1;try{document.cookie,r0=!0}catch{}const l0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];r0||l0.splice(1,1);const xb=()=>({order:l0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:o=>o});class o0{constructor(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(a,n)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=a,this.options=ib(n,this.options||{},xb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(ob),this.addDetector(cb),this.addDetector(db),this.addDetector(fb),this.addDetector(hb),this.addDetector(mb),this.addDetector(gb),this.addDetector(pb),this.addDetector(ub)}addDetector(a){return this.detectors[a.name]=a,this}detect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return a.forEach(i=>{if(this.detectors[i]){let c=this.detectors[i].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(n=n.concat(c))}}),n=n.filter(i=>i!=null&&!rb(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(a)>-1||n.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(a,this.options)}))}}o0.type="languageDetector";const mg=Object.assign({}),Ti={};Object.keys(mg).forEach(o=>{const a=o.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(a){const[,n]=a,i=mg[o];Ti[n]||(Ti[n]={translation:{}}),i.default&&(Ti[n].translation={...Ti[n].translation,...i.default})}});ot.use(o0).use(eb).init({lng:"en",fallbackLng:"en",debug:!1,resources:Ti,interpolation:{escapeValue:!1}});var tu={exports:{}},Ni={},au={exports:{}},su={};var gg;function yb(){return gg||(gg=1,(function(o){function a(P,F){var re=P.length;P.push(F);e:for(;0<re;){var je=re-1>>>1,Te=P[je];if(0<c(Te,F))P[je]=F,P[re]=Te,re=je;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var F=P[0],re=P.pop();if(re!==F){P[0]=re;e:for(var je=0,Te=P.length,O=Te>>>1;je<O;){var Y=2*(je+1)-1,W=P[Y],ae=Y+1,de=P[ae];if(0>c(W,re))ae<Te&&0>c(de,W)?(P[je]=de,P[ae]=re,je=ae):(P[je]=W,P[Y]=re,je=Y);else if(ae<Te&&0>c(de,re))P[je]=de,P[ae]=re,je=ae;else break e}}return F}function c(P,F){var re=P.sortIndex-F.sortIndex;return re!==0?re:P.id-F.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();o.unstable_now=function(){return h.now()-m}}var p=[],g=[],y=1,b=null,w=3,j=!1,_=!1,N=!1,R=!1,H=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function k(P){for(var F=n(g);F!==null;){if(F.callback===null)i(g);else if(F.startTime<=P)i(g),F.sortIndex=F.expirationTime,a(p,F);else break;F=n(g)}}function L(P){if(N=!1,k(P),!_)if(n(p)!==null)_=!0,$||($=!0,Z());else{var F=n(g);F!==null&&Ne(L,F.startTime-P)}}var $=!1,q=-1,D=5,J=-1;function I(){return R?!0:!(o.unstable_now()-J<D)}function G(){if(R=!1,$){var P=o.unstable_now();J=P;var F=!0;try{e:{_=!1,N&&(N=!1,C(q),q=-1),j=!0;var re=w;try{t:{for(k(P),b=n(p);b!==null&&!(b.expirationTime>P&&I());){var je=b.callback;if(typeof je=="function"){b.callback=null,w=b.priorityLevel;var Te=je(b.expirationTime<=P);if(P=o.unstable_now(),typeof Te=="function"){b.callback=Te,k(P),F=!0;break t}b===n(p)&&i(p),k(P)}else i(p);b=n(p)}if(b!==null)F=!0;else{var O=n(g);O!==null&&Ne(L,O.startTime-P),F=!1}}break e}finally{b=null,w=re,j=!1}F=void 0}}finally{F?Z():$=!1}}}var Z;if(typeof S=="function")Z=function(){S(G)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ee=te.port2;te.port1.onmessage=G,Z=function(){ee.postMessage(null)}}else Z=function(){H(G,0)};function Ne(P,F){q=H(function(){P(o.unstable_now())},F)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(P){P.callback=null},o.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_next=function(P){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var re=w;w=F;try{return P()}finally{w=re}},o.unstable_requestPaint=function(){R=!0},o.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var re=w;w=P;try{return F()}finally{w=re}},o.unstable_scheduleCallback=function(P,F,re){var je=o.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?je+re:je):re=je,P){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=re+Te,P={id:y++,callback:F,priorityLevel:P,startTime:re,expirationTime:Te,sortIndex:-1},re>je?(P.sortIndex=re,a(g,P),n(p)===null&&P===n(g)&&(N?(C(q),q=-1):N=!0,Ne(L,re-je))):(P.sortIndex=Te,a(p,P),_||j||(_=!0,$||($=!0,Z()))),P},o.unstable_shouldYield=I,o.unstable_wrapCallback=function(P){var F=w;return function(){var re=w;w=F;try{return P.apply(this,arguments)}finally{w=re}}}})(su)),su}var pg;function bb(){return pg||(pg=1,au.exports=yb()),au.exports}var nu={exports:{}},lt={};var xg;function vb(){if(xg)return lt;xg=1;var o=Ru();function a(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:p,containerInfo:g,implementation:y}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,lt.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(p,g,null,y)},lt.flushSync=function(p){var g=h.T,y=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=y,i.d.f()}},lt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},lt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},lt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:j}):y==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},lt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},lt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin);i.d.L(p,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},lt.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},lt.requestFormReset=function(p){i.d.r(p)},lt.unstable_batchedUpdates=function(p,g){return p(g)},lt.useFormState=function(p,g,y){return h.H.useFormState(p,g,y)},lt.useFormStatus=function(){return h.H.useHostTransitionStatus()},lt.version="19.2.0",lt}var yg;function wb(){if(yg)return nu.exports;yg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),nu.exports=vb(),nu.exports}var bg;function jb(){if(bg)return Ni;bg=1;var o=bb(),a=Ru(),n=wb();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var s=e,r=t;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(r=d.return,r!==null){s=r;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return p(d),e;if(f===r)return p(d),t;f=f.sibling}throw Error(i(188))}if(s.return!==r.return)s=d,r=f;else{for(var x=!1,v=d.child;v;){if(v===s){x=!0,s=d,r=f;break}if(v===r){x=!0,r=d,s=f;break}v=v.sibling}if(!x){for(v=f.child;v;){if(v===s){x=!0,s=f,r=d;break}if(v===r){x=!0,r=f,s=d;break}v=v.sibling}if(!x)throw Error(i(189))}}if(s.alternate!==r)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case $:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case S:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var Ne=Array.isArray,P=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},je=[],Te=-1;function O(e){return{current:e}}function Y(e){0>Te||(e.current=je[Te],je[Te]=null,Te--)}function W(e,t){Te++,je[Te]=e.current,e.current=t}var ae=O(null),de=O(null),ge=O(null),Ce=O(null);function ct(e,t){switch(W(ge,t),W(de,e),W(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gm(t),e=pm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ae),W(ae,e)}function Pe(){Y(ae),Y(de),Y(ge)}function Cn(e){e.memoizedState!==null&&W(Ce,e);var t=ae.current,s=pm(t,e.type);t!==s&&(W(de,e),W(ae,s))}function Gi(e){de.current===e&&(Y(ae),Y(de)),Ce.current===e&&(Y(Ce),xi._currentValue=re)}var Rl,Gu;function Fa(e){if(Rl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||"",Gu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rl+e+Gu}var Ul=!1;function Ll(e,t){if(!e||Ul)return"";Ul=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(K){var B=K}Reflect.construct(e,[],X)}else{try{X.call()}catch(K){B=K}e.call(X.prototype)}}else{try{throw Error()}catch(K){B=K}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(K){if(K&&B&&typeof K.stack=="string")return[K.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),x=f[0],v=f[1];if(x&&v){var E=x.split(`
`),M=v.split(`
`);for(d=r=0;r<E.length&&!E[r].includes("DetermineComponentFrameRoot");)r++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(r===E.length||d===M.length)for(r=E.length-1,d=M.length-1;1<=r&&0<=d&&E[r]!==M[d];)d--;for(;1<=r&&0<=d;r--,d--)if(E[r]!==M[d]){if(r!==1||d!==1)do if(r--,d--,0>d||E[r]!==M[d]){var V=`
`+E[r].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=r&&0<=d);break}}}finally{Ul=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Fa(s):""}function tp(e,t){switch(e.tag){case 26:case 27:case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return e.child!==t&&t!==null?Fa("Suspense Fallback"):Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 15:return Ll(e.type,!1);case 11:return Ll(e.type.render,!1);case 1:return Ll(e.type,!0);case 31:return Fa("Activity");default:return""}}function Vu(e){try{var t="",s=null;do t+=tp(e,s),s=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Dl=Object.prototype.hasOwnProperty,zl=o.unstable_scheduleCallback,Ml=o.unstable_cancelCallback,ap=o.unstable_shouldYield,sp=o.unstable_requestPaint,bt=o.unstable_now,np=o.unstable_getCurrentPriorityLevel,Yu=o.unstable_ImmediatePriority,Qu=o.unstable_UserBlockingPriority,Vi=o.unstable_NormalPriority,ip=o.unstable_LowPriority,Xu=o.unstable_IdlePriority,rp=o.log,lp=o.unstable_setDisableYieldValue,kn=null,vt=null;function Na(e){if(typeof rp=="function"&&lp(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(kn,e)}catch{}}var wt=Math.clz32?Math.clz32:up,op=Math.log,cp=Math.LN2;function up(e){return e>>>=0,e===0?32:31-(op(e)/cp|0)|0}var Yi=256,Qi=262144,Xi=4194304;function Wa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,t,s){var r=e.pendingLanes;if(r===0)return 0;var d=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~f,r!==0?d=Wa(r):(x&=v,x!==0?d=Wa(x):s||(s=v&~e,s!==0&&(d=Wa(s))))):(v=r&~f,v!==0?d=Wa(v):x!==0?d=Wa(x):s||(s=r&~e,s!==0&&(d=Wa(s)))),d===0?0:t!==0&&t!==d&&(t&f)===0&&(f=d&-d,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:d}function On(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var e=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),e}function $l(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function An(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fp(e,t,s,r,d,f){var x=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,M=e.hiddenUpdates;for(s=x&~s;0<s;){var V=31-wt(s),X=1<<V;v[V]=0,E[V]=-1;var B=M[V];if(B!==null)for(M[V]=null,V=0;V<B.length;V++){var K=B[V];K!==null&&(K.lane&=-536870913)}s&=~X}r!==0&&Iu(e,r,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function Iu(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-wt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function Zu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-wt(s),d=1<<r;d&t|e[r]&t&&(e[r]|=t),s&=~d}}function Fu(e,t){var s=t&-t;return s=(s&42)!==0?1:ql(s),(s&(e.suspendedLanes|t))!==0?0:s}function ql(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wu(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:qm(e.type))}function ed(e,t){var s=F.p;try{return F.p=e,t()}finally{F.p=s}}var _a=Math.random().toString(36).slice(2),at="__reactFiber$"+_a,ft="__reactProps$"+_a,_s="__reactContainer$"+_a,Hl="__reactEvents$"+_a,hp="__reactListeners$"+_a,mp="__reactHandles$"+_a,td="__reactResources$"+_a,Rn="__reactMarker$"+_a;function Pl(e){delete e[at],delete e[ft],delete e[Hl],delete e[hp],delete e[mp]}function Ss(e){var t=e[at];if(t)return t;for(var s=e.parentNode;s;){if(t=s[_s]||s[at]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Nm(e);e!==null;){if(s=e[at])return s;e=Nm(e)}return t}e=s,s=e.parentNode}return null}function Es(e){if(e=e[at]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Un(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ts(e){var t=e[td];return t||(t=e[td]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Rn]=!0}var ad=new Set,sd={};function es(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(sd[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var gp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},id={};function pp(e){return Dl.call(id,e)?!0:Dl.call(nd,e)?!1:gp.test(e)?id[e]=!0:(nd[e]=!0,!1)}function Ii(e,t,s){if(pp(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Zi(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function ea(e,t,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+r)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xp(e,t,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(x){s=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){if(!e._valueTracker){var t=rd(e)?"checked":"value";e._valueTracker=xp(e,t,""+e[t])}}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=rd(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yp=/[\n"\\]/g;function Ot(e){return e.replace(yp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Gl(e,t,s,r,d,f,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Vl(e,x,kt(t)):s!=null?Vl(e,x,kt(s)):r!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+kt(v):e.removeAttribute("name")}function od(e,t,s,r,d,f,x,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Kl(e);return}s=s!=null?""+kt(s):"",t=t!=null?""+kt(t):s,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??d,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Kl(e)}function Vl(e,t,s){t==="number"&&Fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ks(e,t,s,r){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&r&&(e[s].defaultSelected=!0)}else{for(s=""+kt(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,r&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function cd(e,t,s){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+kt(s):""}function ud(e,t,s,r){if(t==null){if(r!=null){if(s!=null)throw Error(i(92));if(Ne(r)){if(1<r.length)throw Error(i(93));r=r[0]}s=r}s==null&&(s=""),t=s}s=kt(t),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),Kl(e)}function Os(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var bp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(e,t,s){var r=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,s):typeof s!="number"||s===0||bp.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function fd(e,t,s){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var d in t)r=t[d],t.hasOwnProperty(d)&&s[d]!==r&&dd(e,d,r)}else for(var f in t)t.hasOwnProperty(f)&&dd(e,f,t[f])}function Yl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(e){return wp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ta(){}var Ql=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Rs=null;function hd(e){var t=Es(e);if(t&&(e=t.stateNode)){var s=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Gl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var d=r[ft]||null;if(!d)throw Error(i(90));Gl(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<s.length;t++)r=s[t],r.form===e.form&&ld(r)}break e;case"textarea":cd(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&ks(e,!!s.multiple,t,!1)}}}var Jl=!1;function md(e,t,s){if(Jl)return e(t,s);Jl=!0;try{var r=e(t);return r}finally{if(Jl=!1,(As!==null||Rs!==null)&&(Br(),As&&(t=As,e=Rs,Rs=As=null,hd(t),e)))for(t=0;t<e.length;t++)hd(e[t])}}function Ln(e,t){var s=e.stateNode;if(s===null)return null;var r=s[ft]||null;if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,t,typeof s));return s}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(aa)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Il=!1}var Sa=null,Zl=null,er=null;function gd(){if(er)return er;var e,t=Zl,s=t.length,r,d="value"in Sa?Sa.value:Sa.textContent,f=d.length;for(e=0;e<s&&t[e]===d[e];e++);var x=s-e;for(r=1;r<=x&&t[s-r]===d[f-r];r++);return er=d.slice(e,1<r?1-r:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ar(){return!0}function pd(){return!1}function ht(e){function t(s,r,d,f,x){this._reactName=s,this._targetInst=d,this.type=r,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ar:pd,this.isPropagationStopped=pd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=ht(ts),zn=b({},ts,{view:0,detail:0}),jp=ht(zn),Fl,Wl,Mn,nr=b({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mn&&(Mn&&e.type==="mousemove"?(Fl=e.screenX-Mn.screenX,Wl=e.screenY-Mn.screenY):Wl=Fl=0,Mn=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),xd=ht(nr),Np=b({},nr,{dataTransfer:0}),_p=ht(Np),Sp=b({},zn,{relatedTarget:0}),eo=ht(Sp),Ep=b({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=ht(Ep),Cp=b({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kp=ht(Cp),Op=b({},ts,{data:0}),yd=ht(Op),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function to(){return Lp}var Dp=b({},zn,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zp=ht(Dp),Mp=b({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=ht(Mp),$p=b({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),qp=ht($p),Bp=b({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hp=ht(Bp),Pp=b({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=ht(Pp),Gp=b({},ts,{newState:0,oldState:0}),Vp=ht(Gp),Yp=[9,13,27,32],ao=aa&&"CompositionEvent"in window,$n=null;aa&&"documentMode"in document&&($n=document.documentMode);var Qp=aa&&"TextEvent"in window&&!$n,vd=aa&&(!ao||$n&&8<$n&&11>=$n),wd=" ",jd=!1;function Nd(e,t){switch(e){case"keyup":return Yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function Xp(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(jd=!0,wd);case"textInput":return e=t.data,e===wd&&jd?null:e;default:return null}}function Jp(e,t){if(Us)return e==="compositionend"||!ao&&Nd(e,t)?(e=gd(),er=Zl=Sa=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ip[e.type]:t==="textarea"}function Ed(e,t,s,r){As?Rs?Rs.push(r):Rs=[r]:As=r,t=Qr(t,"onChange"),0<t.length&&(s=new sr("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var qn=null,Bn=null;function Zp(e){cm(e,0)}function ir(e){var t=Un(e);if(ld(t))return e}function Td(e,t){if(e==="change")return t}var Cd=!1;if(aa){var so;if(aa){var no="oninput"in document;if(!no){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),no=typeof kd.oninput=="function"}so=no}else so=!1;Cd=so&&(!document.documentMode||9<document.documentMode)}function Od(){qn&&(qn.detachEvent("onpropertychange",Ad),Bn=qn=null)}function Ad(e){if(e.propertyName==="value"&&ir(Bn)){var t=[];Ed(t,Bn,e,Xl(e)),md(Zp,t)}}function Fp(e,t,s){e==="focusin"?(Od(),qn=t,Bn=s,qn.attachEvent("onpropertychange",Ad)):e==="focusout"&&Od()}function Wp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ir(Bn)}function ex(e,t){if(e==="click")return ir(t)}function tx(e,t){if(e==="input"||e==="change")return ir(t)}function ax(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:ax;function Hn(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var d=s[r];if(!Dl.call(t,d)||!jt(e[d],t[d]))return!1}return!0}function Rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ud(e,t){var s=Rd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rd(s)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Fi(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Fi(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sx=aa&&"documentMode"in document&&11>=document.documentMode,Ls=null,ro=null,Pn=null,lo=!1;function zd(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lo||Ls==null||Ls!==Fi(r)||(r=Ls,"selectionStart"in r&&io(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pn&&Hn(Pn,r)||(Pn=r,r=Qr(ro,"onSelect"),0<r.length&&(t=new sr("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Ls)))}function as(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ds={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},oo={},Md={};aa&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ss(e){if(oo[e])return oo[e];if(!Ds[e])return e;var t=Ds[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Md)return oo[e]=t[s];return e}var $d=ss("animationend"),qd=ss("animationiteration"),Bd=ss("animationstart"),nx=ss("transitionrun"),ix=ss("transitionstart"),rx=ss("transitioncancel"),Hd=ss("transitionend"),Pd=new Map,co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");co.push("scrollEnd");function Ht(e,t){Pd.set(e,t),es(t,[e])}var rr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},At=[],zs=0,uo=0;function lr(){for(var e=zs,t=uo=zs=0;t<e;){var s=At[t];At[t++]=null;var r=At[t];At[t++]=null;var d=At[t];At[t++]=null;var f=At[t];if(At[t++]=null,r!==null&&d!==null){var x=r.pending;x===null?d.next=d:(d.next=x.next,x.next=d),r.pending=d}f!==0&&Kd(s,d,f)}}function or(e,t,s,r){At[zs++]=e,At[zs++]=t,At[zs++]=s,At[zs++]=r,uo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function fo(e,t,s,r){return or(e,t,s,r),cr(e)}function ns(e,t){return or(e,null,null,t),cr(e)}function Kd(e,t,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var d=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&t!==null&&(d=31-wt(s),e=f.hiddenUpdates,r=e[d],r===null?e[d]=[t]:r.push(t),t.lane=s|536870912),f):null}function cr(e){if(50<ui)throw ui=0,wc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ms={};function lx(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,s,r){return new lx(e,t,s,r)}function ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var s=e.alternate;return s===null?(s=Nt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Gd(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ur(e,t,s,r,d,f){var x=0;if(r=e,typeof e=="function")ho(e)&&(x=1);else if(typeof e=="string")x=fy(e,s,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Nt(31,s,t,d),e.elementType=J,e.lanes=f,e;case N:return is(s.children,d,f,t);case R:x=8,d|=24;break;case H:return e=Nt(12,s,t,d|2),e.elementType=H,e.lanes=f,e;case L:return e=Nt(13,s,t,d),e.elementType=L,e.lanes=f,e;case $:return e=Nt(19,s,t,d),e.elementType=$,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:x=10;break e;case C:x=9;break e;case k:x=11;break e;case q:x=14;break e;case D:x=16,r=null;break e}x=29,s=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=Nt(x,s,t,d),t.elementType=e,t.type=r,t.lanes=f,t}function is(e,t,s,r){return e=Nt(7,e,r,t),e.lanes=s,e}function mo(e,t,s){return e=Nt(6,e,null,t),e.lanes=s,e}function Vd(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function go(e,t,s){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yd=new WeakMap;function Rt(e,t){if(typeof e=="object"&&e!==null){var s=Yd.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Vu(t)},Yd.set(e,t),t)}return{value:e,source:t,stack:Vu(t)}}var $s=[],qs=0,dr=null,Kn=0,Ut=[],Lt=0,Ea=null,Yt=1,Qt="";function na(e,t){$s[qs++]=Kn,$s[qs++]=dr,dr=e,Kn=t}function Qd(e,t,s){Ut[Lt++]=Yt,Ut[Lt++]=Qt,Ut[Lt++]=Ea,Ea=e;var r=Yt;e=Qt;var d=32-wt(r)-1;r&=~(1<<d),s+=1;var f=32-wt(t)+d;if(30<f){var x=d-d%5;f=(r&(1<<x)-1).toString(32),r>>=x,d-=x,Yt=1<<32-wt(t)+d|s<<d|r,Qt=f+e}else Yt=1<<f|s<<d|r,Qt=e}function po(e){e.return!==null&&(na(e,1),Qd(e,1,0))}function xo(e){for(;e===dr;)dr=$s[--qs],$s[qs]=null,Kn=$s[--qs],$s[qs]=null;for(;e===Ea;)Ea=Ut[--Lt],Ut[Lt]=null,Qt=Ut[--Lt],Ut[Lt]=null,Yt=Ut[--Lt],Ut[Lt]=null}function Xd(e,t){Ut[Lt++]=Yt,Ut[Lt++]=Qt,Ut[Lt++]=Ea,Yt=t.id,Qt=t.overflow,Ea=e}var st=null,ze=null,we=!1,Ta=null,Dt=!1,yo=Error(i(519));function Ca(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gn(Rt(t,e)),yo}function Jd(e){var t=e.stateNode,s=e.type,r=e.memoizedProps;switch(t[at]=e,t[ft]=r,s){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(s=0;s<fi.length;s++)xe(fi[s],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),od(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),ud(t,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||r.suppressHydrationWarning===!0||hm(t.textContent,s)?(r.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),r.onScroll!=null&&xe("scroll",t),r.onScrollEnd!=null&&xe("scrollend",t),r.onClick!=null&&(t.onclick=ta),t=!0):t=!1,t||Ca(e,!0)}function Id(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:st=st.return}}function Bs(e){if(e!==st)return!1;if(!we)return Id(e),we=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||zc(e.type,e.memoizedProps)),s=!s),s&&ze&&Ca(e),Id(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=jm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=jm(e)}else t===27?(t=ze,Pa(e.type)?(e=Hc,Hc=null,ze=e):ze=t):ze=st?Mt(e.stateNode.nextSibling):null;return!0}function rs(){ze=st=null,we=!1}function bo(){var e=Ta;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Ta=null),e}function Gn(e){Ta===null?Ta=[e]:Ta.push(e)}var vo=O(null),ls=null,ia=null;function ka(e,t,s){W(vo,t._currentValue),t._currentValue=s}function ra(e){e._currentValue=vo.current,Y(vo)}function wo(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function jo(e,t,s,r){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var x=d.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=d;for(var E=0;E<t.length;E++)if(v.context===t[E]){f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),wo(f.return,s,e),r||(x=null);break e}f=v.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(i(341));x.lanes|=s,f=x.alternate,f!==null&&(f.lanes|=s),wo(x,s,e),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===e){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function Hs(e,t,s,r){e=null;for(var d=t,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var v=d.type;jt(d.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(d===Ce.current){if(x=d.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(xi):e=[xi])}d=d.return}e!==null&&jo(t,e,s,r),t.flags|=262144}function fr(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function os(e){ls=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Zd(ls,e)}function hr(e,t){return ls===null&&os(e),Zd(e,t)}function Zd(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ia===null){if(e===null)throw Error(i(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return s}var ox=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},cx=o.unstable_scheduleCallback,ux=o.unstable_NormalPriority,Ve={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new ox,data:new Map,refCount:0}}function Vn(e){e.refCount--,e.refCount===0&&cx(ux,function(){e.controller.abort()})}var Yn=null,_o=0,Ps=0,Ks=null;function dx(e,t){if(Yn===null){var s=Yn=[];_o=0,Ps=Tc(),Ks={status:"pending",value:void 0,then:function(r){s.push(r)}}}return _o++,t.then(Fd,Fd),t}function Fd(){if(--_o===0&&Yn!==null){Ks!==null&&(Ks.status="fulfilled");var e=Yn;Yn=null,Ps=0,Ks=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fx(e,t){var s=[],r={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var d=0;d<s.length;d++)(0,s[d])(t)},function(d){for(r.status="rejected",r.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),r}var Wd=P.S;P.S=function(e,t){Mh=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dx(e,t),Wd!==null&&Wd(e,t)};var cs=O(null);function So(){var e=cs.current;return e!==null?e:Le.pooledCache}function mr(e,t){t===null?W(cs,cs.current):W(cs,t.pool)}function ef(){var e=So();return e===null?null:{parent:Ve._currentValue,pool:e}}var Gs=Error(i(460)),Eo=Error(i(474)),gr=Error(i(542)),pr={then:function(){}};function tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(ta,ta),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e;default:if(typeof t.status=="string")t.then(ta,ta);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=r}},function(r){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e}throw ds=t,Gs}}function us(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ds=s,Gs):s}}var ds=null;function sf(){if(ds===null)throw Error(i(459));var e=ds;return ds=null,e}function nf(e){if(e===Gs||e===gr)throw Error(i(483))}var Vs=null,Qn=0;function xr(e){var t=Qn;return Qn+=1,Vs===null&&(Vs=[]),af(Vs,e,t)}function Xn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yr(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rf(e){function t(U,A){if(e){var z=U.deletions;z===null?(U.deletions=[A],U.flags|=16):z.push(A)}}function s(U,A){if(!e)return null;for(;A!==null;)t(U,A),A=A.sibling;return null}function r(U){for(var A=new Map;U!==null;)U.key!==null?A.set(U.key,U):A.set(U.index,U),U=U.sibling;return A}function d(U,A){return U=sa(U,A),U.index=0,U.sibling=null,U}function f(U,A,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<A?(U.flags|=67108866,A):z):(U.flags|=67108866,A)):(U.flags|=1048576,A)}function x(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function v(U,A,z,Q){return A===null||A.tag!==6?(A=mo(z,U.mode,Q),A.return=U,A):(A=d(A,z),A.return=U,A)}function E(U,A,z,Q){var le=z.type;return le===N?V(U,A,z.props.children,Q,z.key):A!==null&&(A.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===D&&us(le)===A.type)?(A=d(A,z.props),Xn(A,z),A.return=U,A):(A=ur(z.type,z.key,z.props,null,U.mode,Q),Xn(A,z),A.return=U,A)}function M(U,A,z,Q){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=go(z,U.mode,Q),A.return=U,A):(A=d(A,z.children||[]),A.return=U,A)}function V(U,A,z,Q,le){return A===null||A.tag!==7?(A=is(z,U.mode,Q,le),A.return=U,A):(A=d(A,z),A.return=U,A)}function X(U,A,z){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=mo(""+A,U.mode,z),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case j:return z=ur(A.type,A.key,A.props,null,U.mode,z),Xn(z,A),z.return=U,z;case _:return A=go(A,U.mode,z),A.return=U,A;case D:return A=us(A),X(U,A,z)}if(Ne(A)||Z(A))return A=is(A,U.mode,z,null),A.return=U,A;if(typeof A.then=="function")return X(U,xr(A),z);if(A.$$typeof===S)return X(U,hr(U,A),z);yr(U,A)}return null}function B(U,A,z,Q){var le=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return le!==null?null:v(U,A,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===le?E(U,A,z,Q):null;case _:return z.key===le?M(U,A,z,Q):null;case D:return z=us(z),B(U,A,z,Q)}if(Ne(z)||Z(z))return le!==null?null:V(U,A,z,Q,null);if(typeof z.then=="function")return B(U,A,xr(z),Q);if(z.$$typeof===S)return B(U,A,hr(U,z),Q);yr(U,z)}return null}function K(U,A,z,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,v(A,U,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return U=U.get(Q.key===null?z:Q.key)||null,E(A,U,Q,le);case _:return U=U.get(Q.key===null?z:Q.key)||null,M(A,U,Q,le);case D:return Q=us(Q),K(U,A,z,Q,le)}if(Ne(Q)||Z(Q))return U=U.get(z)||null,V(A,U,Q,le,null);if(typeof Q.then=="function")return K(U,A,z,xr(Q),le);if(Q.$$typeof===S)return K(U,A,z,hr(A,Q),le);yr(A,Q)}return null}function se(U,A,z,Q){for(var le=null,_e=null,ie=A,me=A=0,ve=null;ie!==null&&me<z.length;me++){ie.index>me?(ve=ie,ie=null):ve=ie.sibling;var Se=B(U,ie,z[me],Q);if(Se===null){ie===null&&(ie=ve);break}e&&ie&&Se.alternate===null&&t(U,ie),A=f(Se,A,me),_e===null?le=Se:_e.sibling=Se,_e=Se,ie=ve}if(me===z.length)return s(U,ie),we&&na(U,me),le;if(ie===null){for(;me<z.length;me++)ie=X(U,z[me],Q),ie!==null&&(A=f(ie,A,me),_e===null?le=ie:_e.sibling=ie,_e=ie);return we&&na(U,me),le}for(ie=r(ie);me<z.length;me++)ve=K(ie,U,me,z[me],Q),ve!==null&&(e&&ve.alternate!==null&&ie.delete(ve.key===null?me:ve.key),A=f(ve,A,me),_e===null?le=ve:_e.sibling=ve,_e=ve);return e&&ie.forEach(function(Qa){return t(U,Qa)}),we&&na(U,me),le}function oe(U,A,z,Q){if(z==null)throw Error(i(151));for(var le=null,_e=null,ie=A,me=A=0,ve=null,Se=z.next();ie!==null&&!Se.done;me++,Se=z.next()){ie.index>me?(ve=ie,ie=null):ve=ie.sibling;var Qa=B(U,ie,Se.value,Q);if(Qa===null){ie===null&&(ie=ve);break}e&&ie&&Qa.alternate===null&&t(U,ie),A=f(Qa,A,me),_e===null?le=Qa:_e.sibling=Qa,_e=Qa,ie=ve}if(Se.done)return s(U,ie),we&&na(U,me),le;if(ie===null){for(;!Se.done;me++,Se=z.next())Se=X(U,Se.value,Q),Se!==null&&(A=f(Se,A,me),_e===null?le=Se:_e.sibling=Se,_e=Se);return we&&na(U,me),le}for(ie=r(ie);!Se.done;me++,Se=z.next())Se=K(ie,U,me,Se.value,Q),Se!==null&&(e&&Se.alternate!==null&&ie.delete(Se.key===null?me:Se.key),A=f(Se,A,me),_e===null?le=Se:_e.sibling=Se,_e=Se);return e&&ie.forEach(function(Ny){return t(U,Ny)}),we&&na(U,me),le}function Ue(U,A,z,Q){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var le=z.key;A!==null;){if(A.key===le){if(le=z.type,le===N){if(A.tag===7){s(U,A.sibling),Q=d(A,z.props.children),Q.return=U,U=Q;break e}}else if(A.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===D&&us(le)===A.type){s(U,A.sibling),Q=d(A,z.props),Xn(Q,z),Q.return=U,U=Q;break e}s(U,A);break}else t(U,A);A=A.sibling}z.type===N?(Q=is(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=ur(z.type,z.key,z.props,null,U.mode,Q),Xn(Q,z),Q.return=U,U=Q)}return x(U);case _:e:{for(le=z.key;A!==null;){if(A.key===le)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){s(U,A.sibling),Q=d(A,z.children||[]),Q.return=U,U=Q;break e}else{s(U,A);break}else t(U,A);A=A.sibling}Q=go(z,U.mode,Q),Q.return=U,U=Q}return x(U);case D:return z=us(z),Ue(U,A,z,Q)}if(Ne(z))return se(U,A,z,Q);if(Z(z)){if(le=Z(z),typeof le!="function")throw Error(i(150));return z=le.call(z),oe(U,A,z,Q)}if(typeof z.then=="function")return Ue(U,A,xr(z),Q);if(z.$$typeof===S)return Ue(U,A,hr(U,z),Q);yr(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,A!==null&&A.tag===6?(s(U,A.sibling),Q=d(A,z),Q.return=U,U=Q):(s(U,A),Q=mo(z,U.mode,Q),Q.return=U,U=Q),x(U)):s(U,A)}return function(U,A,z,Q){try{Qn=0;var le=Ue(U,A,z,Q);return Vs=null,le}catch(ie){if(ie===Gs||ie===gr)throw ie;var _e=Nt(29,ie,null,U.mode);return _e.lanes=Q,_e.return=U,_e}finally{}}}var fs=rf(!0),lf=rf(!1),Oa=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ee&2)!==0){var d=r.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),r.pending=t,t=cr(e),Kd(e,null,s),t}return or(e,r,t,s),cr(e)}function Jn(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Zu(e,s)}}function ko(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=x:f=f.next=x,s=s.next}while(s!==null);f===null?d=f=t:f=f.next=t}else d=f=t;s={baseState:r.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Oo=!1;function In(){if(Oo){var e=Ks;if(e!==null)throw e}}function Zn(e,t,s,r){Oo=!1;var d=e.updateQueue;Oa=!1;var f=d.firstBaseUpdate,x=d.lastBaseUpdate,v=d.shared.pending;if(v!==null){d.shared.pending=null;var E=v,M=E.next;E.next=null,x===null?f=M:x.next=M,x=E;var V=e.alternate;V!==null&&(V=V.updateQueue,v=V.lastBaseUpdate,v!==x&&(v===null?V.firstBaseUpdate=M:v.next=M,V.lastBaseUpdate=E))}if(f!==null){var X=d.baseState;x=0,V=M=E=null,v=f;do{var B=v.lane&-536870913,K=B!==v.lane;if(K?(be&B)===B:(r&B)===B){B!==0&&B===Ps&&(Oo=!0),V!==null&&(V=V.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var se=e,oe=v;B=t;var Ue=s;switch(oe.tag){case 1:if(se=oe.payload,typeof se=="function"){X=se.call(Ue,X,B);break e}X=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,B=typeof se=="function"?se.call(Ue,X,B):se,B==null)break e;X=b({},X,B);break e;case 2:Oa=!0}}B=v.callback,B!==null&&(e.flags|=64,K&&(e.flags|=8192),K=d.callbacks,K===null?d.callbacks=[B]:K.push(B))}else K={lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},V===null?(M=V=K,E=X):V=V.next=K,x|=B;if(v=v.next,v===null){if(v=d.shared.pending,v===null)break;K=v,v=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);V===null&&(E=X),d.baseState=E,d.firstBaseUpdate=M,d.lastBaseUpdate=V,f===null&&(d.shared.lanes=0),Ma|=x,e.lanes=x,e.memoizedState=X}}function of(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function cf(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)of(s[e],t)}var Ys=O(null),br=O(0);function uf(e,t){e=ga,W(br,e),W(Ys,t),ga=e|t.baseLanes}function Ao(){W(br,ga),W(Ys,Ys.current)}function Ro(){ga=br.current,Y(Ys),Y(br)}var _t=O(null),zt=null;function Ua(e){var t=e.alternate;W(Ke,Ke.current&1),W(_t,e),zt===null&&(t===null||Ys.current!==null||t.memoizedState!==null)&&(zt=e)}function Uo(e){W(Ke,Ke.current),W(_t,e),zt===null&&(zt=e)}function df(e){e.tag===22?(W(Ke,Ke.current),W(_t,e),zt===null&&(zt=e)):La()}function La(){W(Ke,Ke.current),W(_t,_t.current)}function St(e){Y(_t),zt===e&&(zt=null),Y(Ke)}var Ke=O(0);function vr(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||qc(s)||Bc(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=0,fe=null,Ae=null,Ye=null,wr=!1,Qs=!1,hs=!1,jr=0,Fn=0,Xs=null,hx=0;function Be(){throw Error(i(321))}function Lo(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!jt(e[s],t[s]))return!1;return!0}function Do(e,t,s,r,d,f){return la=f,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?Xf:Io,hs=!1,f=s(r,d),hs=!1,Qs&&(f=hf(t,s,r,d)),ff(e),f}function ff(e){P.H=ti;var t=Ae!==null&&Ae.next!==null;if(la=0,Ye=Ae=fe=null,wr=!1,Fn=0,Xs=null,t)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&fr(e)&&(Qe=!0))}function hf(e,t,s,r){fe=e;var d=0;do{if(Qs&&(Xs=null),Fn=0,Qs=!1,25<=d)throw Error(i(301));if(d+=1,Ye=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=Jf,f=t(s,r)}while(Qs);return f}function mx(){var e=P.H,t=e.useState()[0];return t=typeof t.then=="function"?Wn(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(fe.flags|=1024),t}function zo(){var e=jr!==0;return jr=0,e}function Mo(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function $o(e){if(wr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wr=!1}la=0,Ye=Ae=fe=null,Qs=!1,Fn=jr=0,Xs=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?fe.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ge(){if(Ae===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ye===null?fe.memoizedState:Ye.next;if(t!==null)Ye=t,Ae=e;else{if(e===null)throw fe.alternate===null?Error(i(467)):Error(i(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ye===null?fe.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wn(e){var t=Fn;return Fn+=1,Xs===null&&(Xs=[]),e=af(Xs,e,t),t=fe,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?Xf:Io),e}function _r(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wn(e);if(e.$$typeof===S)return nt(e)}throw Error(i(438,String(e)))}function qo(e){var t=null,s=fe.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Nr(),fe.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),r=0;r<e;r++)s[r]=I;return t.index++,s}function oa(e,t){return typeof t=="function"?t(e):t}function Sr(e){var t=Ge();return Bo(t,Ae,e)}function Bo(e,t,s){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=s;var d=e.baseQueue,f=r.pending;if(f!==null){if(d!==null){var x=d.next;d.next=f.next,f.next=x}t.baseQueue=d=f,r.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{t=d.next;var v=x=null,E=null,M=t,V=!1;do{var X=M.lane&-536870913;if(X!==M.lane?(be&X)===X:(la&X)===X){var B=M.revertLane;if(B===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),X===Ps&&(V=!0);else if((la&B)===B){M=M.next,B===Ps&&(V=!0);continue}else X={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(v=E=X,x=f):E=E.next=X,fe.lanes|=B,Ma|=B;X=M.action,hs&&s(f,X),f=M.hasEagerState?M.eagerState:s(f,X)}else B={lane:X,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(v=E=B,x=f):E=E.next=B,fe.lanes|=X,Ma|=X;M=M.next}while(M!==null&&M!==t);if(E===null?x=f:E.next=v,!jt(f,e.memoizedState)&&(Qe=!0,V&&(s=Ks,s!==null)))throw s;e.memoizedState=f,e.baseState=x,e.baseQueue=E,r.lastRenderedState=f}return d===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ho(e){var t=Ge(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var r=s.dispatch,d=s.pending,f=t.memoizedState;if(d!==null){s.pending=null;var x=d=d.next;do f=e(f,x.action),x=x.next;while(x!==d);jt(f,t.memoizedState)||(Qe=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,r]}function mf(e,t,s){var r=fe,d=Ge(),f=we;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=t();var x=!jt((Ae||d).memoizedState,s);if(x&&(d.memoizedState=s,Qe=!0),d=d.queue,Go(xf.bind(null,r,d,e),[e]),d.getSnapshot!==t||x||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,Js(9,{destroy:void 0},pf.bind(null,r,d,s,t),null),Le===null)throw Error(i(349));f||(la&127)!==0||gf(r,t,s)}return s}function gf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=fe.updateQueue,t===null?(t=Nr(),fe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function pf(e,t,s,r){t.value=s,t.getSnapshot=r,yf(t)&&bf(e)}function xf(e,t,s){return s(function(){yf(t)&&bf(e)})}function yf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!jt(e,s)}catch{return!0}}function bf(e){var t=ns(e,2);t!==null&&yt(t,e,2)}function Po(e){var t=ut();if(typeof e=="function"){var s=e;if(e=s(),hs){Na(!0);try{s()}finally{Na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function vf(e,t,s,r){return e.baseState=s,Bo(e,Ae,typeof r=="function"?r:oa)}function gx(e,t,s,r,d){if(Cr(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};P.T!==null?s(!0):f.isTransition=!1,r(f),s=t.pending,s===null?(f.next=t.pending=f,wf(t,f)):(f.next=s.next,t.pending=s.next=f)}}function wf(e,t){var s=t.action,r=t.payload,d=e.state;if(t.isTransition){var f=P.T,x={};P.T=x;try{var v=s(d,r),E=P.S;E!==null&&E(x,v),jf(e,t,v)}catch(M){Ko(e,t,M)}finally{f!==null&&x.types!==null&&(f.types=x.types),P.T=f}}else try{f=s(d,r),jf(e,t,f)}catch(M){Ko(e,t,M)}}function jf(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Nf(e,t,r)},function(r){return Ko(e,t,r)}):Nf(e,t,s)}function Nf(e,t,s){t.status="fulfilled",t.value=s,_f(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,wf(e,s)))}function Ko(e,t,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=s,_f(t),t=t.next;while(t!==r)}e.action=null}function _f(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sf(e,t){return t}function Ef(e,t){if(we){var s=Le.formState;if(s!==null){e:{var r=fe;if(we){if(ze){t:{for(var d=ze,f=Dt;d.nodeType!==8;){if(!f){d=null;break t}if(d=Mt(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ze=Mt(d.nextSibling),r=d.data==="F!";break e}}Ca(r)}r=!1}r&&(t=s[0])}}return s=ut(),s.memoizedState=s.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:t},s.queue=r,s=Vf.bind(null,fe,r),r.dispatch=s,r=Po(!1),f=Jo.bind(null,fe,!1,r.queue),r=ut(),d={state:t,dispatch:null,action:e,pending:null},r.queue=d,s=gx.bind(null,fe,d,f,s),d.dispatch=s,r.memoizedState=e,[t,s,!1]}function Tf(e){var t=Ge();return Cf(t,Ae,e)}function Cf(e,t,s){if(t=Bo(e,t,Sf)[0],e=Sr(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Wn(t)}catch(x){throw x===Gs?gr:x}else r=t;t=Ge();var d=t.queue,f=d.dispatch;return s!==t.memoizedState&&(fe.flags|=2048,Js(9,{destroy:void 0},px.bind(null,d,s),null)),[r,f,e]}function px(e,t){e.action=t}function kf(e){var t=Ge(),s=Ae;if(s!==null)return Cf(t,s,e);Ge(),t=t.memoizedState,s=Ge();var r=s.queue.dispatch;return s.memoizedState=e,[t,r,!1]}function Js(e,t,s,r){return e={tag:e,create:s,deps:r,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Nr(),fe.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function Of(){return Ge().memoizedState}function Er(e,t,s,r){var d=ut();fe.flags|=e,d.memoizedState=Js(1|t,{destroy:void 0},s,r===void 0?null:r)}function Tr(e,t,s,r){var d=Ge();r=r===void 0?null:r;var f=d.memoizedState.inst;Ae!==null&&r!==null&&Lo(r,Ae.memoizedState.deps)?d.memoizedState=Js(t,f,s,r):(fe.flags|=e,d.memoizedState=Js(1|t,f,s,r))}function Af(e,t){Er(8390656,8,e,t)}function Go(e,t){Tr(2048,8,e,t)}function xx(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Nr(),fe.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Rf(e){var t=Ge().memoizedState;return xx({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Uf(e,t){return Tr(4,2,e,t)}function Lf(e,t){return Tr(4,4,e,t)}function Df(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zf(e,t,s){s=s!=null?s.concat([e]):null,Tr(4,4,Df.bind(null,t,e),s)}function Vo(){}function Mf(e,t){var s=Ge();t=t===void 0?null:t;var r=s.memoizedState;return t!==null&&Lo(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function $f(e,t){var s=Ge();t=t===void 0?null:t;var r=s.memoizedState;if(t!==null&&Lo(t,r[1]))return r[0];if(r=e(),hs){Na(!0);try{e()}finally{Na(!1)}}return s.memoizedState=[r,t],r}function Yo(e,t,s){return s===void 0||(la&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=qh(),fe.lanes|=e,Ma|=e,s)}function qf(e,t,s,r){return jt(s,t)?s:Ys.current!==null?(e=Yo(e,s,r),jt(e,t)||(Qe=!0),e):(la&42)===0||(la&1073741824)!==0&&(be&261930)===0?(Qe=!0,e.memoizedState=s):(e=qh(),fe.lanes|=e,Ma|=e,t)}function Bf(e,t,s,r,d){var f=F.p;F.p=f!==0&&8>f?f:8;var x=P.T,v={};P.T=v,Jo(e,!1,t,s);try{var E=d(),M=P.S;if(M!==null&&M(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=fx(E,r);ei(e,t,V,Ct(e))}else ei(e,t,r,Ct(e))}catch(X){ei(e,t,{then:function(){},status:"rejected",reason:X},Ct())}finally{F.p=f,x!==null&&v.types!==null&&(x.types=v.types),P.T=x}}function yx(){}function Qo(e,t,s,r){if(e.tag!==5)throw Error(i(476));var d=Hf(e).queue;Bf(e,d,t,re,s===null?yx:function(){return Pf(e),s(r)})}function Hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:re},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=Hf(e);t.next===null&&(t=e.alternate.memoizedState),ei(e,t.next.queue,{},Ct())}function Xo(){return nt(xi)}function Kf(){return Ge().memoizedState}function Gf(){return Ge().memoizedState}function bx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Ct();e=Aa(s);var r=Ra(t,e,s);r!==null&&(yt(r,t,s),Jn(r,t,s)),t={cache:No()},e.payload=t;return}t=t.return}}function vx(e,t,s){var r=Ct();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cr(e)?Yf(t,s):(s=fo(e,t,s,r),s!==null&&(yt(s,e,r),Qf(s,t,r)))}function Vf(e,t,s){var r=Ct();ei(e,t,s,r)}function ei(e,t,s,r){var d={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cr(e))Yf(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,v=f(x,s);if(d.hasEagerState=!0,d.eagerState=v,jt(v,x))return or(e,t,d,0),Le===null&&lr(),!1}catch{}finally{}if(s=fo(e,t,d,r),s!==null)return yt(s,e,r),Qf(s,t,r),!0}return!1}function Jo(e,t,s,r){if(r={lane:2,revertLane:Tc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Cr(e)){if(t)throw Error(i(479))}else t=fo(e,s,r,2),t!==null&&yt(t,e,2)}function Cr(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Yf(e,t){Qs=wr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Qf(e,t,s){if((s&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Zu(e,s)}}var ti={readContext:nt,use:_r,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};ti.useEffectEvent=Be;var Xf={readContext:nt,use:_r,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Af,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Er(4194308,4,Df.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Er(4194308,4,e,t)},useInsertionEffect:function(e,t){Er(4,2,e,t)},useMemo:function(e,t){var s=ut();t=t===void 0?null:t;var r=e();if(hs){Na(!0);try{e()}finally{Na(!1)}}return s.memoizedState=[r,t],r},useReducer:function(e,t,s){var r=ut();if(s!==void 0){var d=s(t);if(hs){Na(!0);try{s(t)}finally{Na(!1)}}}else d=t;return r.memoizedState=r.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},r.queue=e,e=e.dispatch=vx.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Po(e);var t=e.queue,s=Vf.bind(null,fe,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Vo,useDeferredValue:function(e,t){var s=ut();return Yo(s,e,t)},useTransition:function(){var e=Po(!1);return e=Bf.bind(null,fe,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var r=fe,d=ut();if(we){if(s===void 0)throw Error(i(407));s=s()}else{if(s=t(),Le===null)throw Error(i(349));(be&127)!==0||gf(r,t,s)}d.memoizedState=s;var f={value:s,getSnapshot:t};return d.queue=f,Af(xf.bind(null,r,f,e),[e]),r.flags|=2048,Js(9,{destroy:void 0},pf.bind(null,r,f,s,t),null),s},useId:function(){var e=ut(),t=Le.identifierPrefix;if(we){var s=Qt,r=Yt;s=(r&~(1<<32-wt(r)-1)).toString(32)+s,t="_"+t+"R_"+s,s=jr++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=hx++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xo,useFormState:Ef,useActionState:Ef,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Jo.bind(null,fe,!0,s),s.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return ut().memoizedState=bx.bind(null,fe)},useEffectEvent:function(e){var t=ut(),s={impl:e};return t.memoizedState=s,function(){if((Ee&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},Io={readContext:nt,use:_r,useCallback:Mf,useContext:nt,useEffect:Go,useImperativeHandle:zf,useInsertionEffect:Uf,useLayoutEffect:Lf,useMemo:$f,useReducer:Sr,useRef:Of,useState:function(){return Sr(oa)},useDebugValue:Vo,useDeferredValue:function(e,t){var s=Ge();return qf(s,Ae.memoizedState,e,t)},useTransition:function(){var e=Sr(oa)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Wn(e),t]},useSyncExternalStore:mf,useId:Kf,useHostTransitionStatus:Xo,useFormState:Tf,useActionState:Tf,useOptimistic:function(e,t){var s=Ge();return vf(s,Ae,e,t)},useMemoCache:qo,useCacheRefresh:Gf};Io.useEffectEvent=Rf;var Jf={readContext:nt,use:_r,useCallback:Mf,useContext:nt,useEffect:Go,useImperativeHandle:zf,useInsertionEffect:Uf,useLayoutEffect:Lf,useMemo:$f,useReducer:Ho,useRef:Of,useState:function(){return Ho(oa)},useDebugValue:Vo,useDeferredValue:function(e,t){var s=Ge();return Ae===null?Yo(s,e,t):qf(s,Ae.memoizedState,e,t)},useTransition:function(){var e=Ho(oa)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Wn(e),t]},useSyncExternalStore:mf,useId:Kf,useHostTransitionStatus:Xo,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var s=Ge();return Ae!==null?vf(s,Ae,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:qo,useCacheRefresh:Gf};Jf.useEffectEvent=Rf;function Zo(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:b({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Fo={enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ct(),d=Aa(r);d.payload=t,s!=null&&(d.callback=s),t=Ra(e,d,r),t!==null&&(yt(t,e,r),Jn(t,e,r))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ct(),d=Aa(r);d.tag=1,d.payload=t,s!=null&&(d.callback=s),t=Ra(e,d,r),t!==null&&(yt(t,e,r),Jn(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ct(),r=Aa(s);r.tag=2,t!=null&&(r.callback=t),t=Ra(e,r,s),t!==null&&(yt(t,e,s),Jn(t,e,s))}};function If(e,t,s,r,d,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,x):t.prototype&&t.prototype.isPureReactComponent?!Hn(s,r)||!Hn(d,f):!0}function Zf(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function ms(e,t){var s=t;if("ref"in t){s={};for(var r in t)r!=="ref"&&(s[r]=t[r])}if(e=e.defaultProps){s===t&&(s=b({},s));for(var d in e)s[d]===void 0&&(s[d]=e[d])}return s}function Ff(e){rr(e)}function Wf(e){console.error(e)}function eh(e){rr(e)}function kr(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function th(e,t,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Wo(e,t,s){return s=Aa(s),s.tag=3,s.payload={element:null},s.callback=function(){kr(e,t)},s}function ah(e){return e=Aa(e),e.tag=3,e}function sh(e,t,s,r){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=r.value;e.payload=function(){return d(f)},e.callback=function(){th(t,s,r)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){th(t,s,r),typeof d!="function"&&($a===null?$a=new Set([this]):$a.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function wx(e,t,s,r,d){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=s.alternate,t!==null&&Hs(t,s,d,!0),s=_t.current,s!==null){switch(s.tag){case 31:case 13:return zt===null?Hr():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=d,r===pr?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([r]):t.add(r),_c(e,r,d)),!1;case 22:return s.flags|=65536,r===pr?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([r]):s.add(r)),_c(e,r,d)),!1}throw Error(i(435,s.tag))}return _c(e,r,d),Hr(),!1}if(we)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,r!==yo&&(e=Error(i(422),{cause:r}),Gn(Rt(e,s)))):(r!==yo&&(t=Error(i(423),{cause:r}),Gn(Rt(t,s))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,r=Rt(r,s),d=Wo(e.stateNode,r,d),ko(e,d),He!==4&&(He=2)),!1;var f=Error(i(520),{cause:r});if(f=Rt(f,s),ci===null?ci=[f]:ci.push(f),He!==4&&(He=2),t===null)return!0;r=Rt(r,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=d&-d,s.lanes|=e,e=Wo(s.stateNode,r,e),ko(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($a===null||!$a.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=ah(d),sh(d,e,s,r),ko(s,d),!1}s=s.return}while(s!==null);return!1}var ec=Error(i(461)),Qe=!1;function it(e,t,s,r){t.child=e===null?lf(t,null,s,r):fs(t,e.child,s,r)}function nh(e,t,s,r,d){s=s.render;var f=t.ref;if("ref"in r){var x={};for(var v in r)v!=="ref"&&(x[v]=r[v])}else x=r;return os(t),r=Do(e,t,s,x,f,d),v=zo(),e!==null&&!Qe?(Mo(e,t,d),ca(e,t,d)):(we&&v&&po(t),t.flags|=1,it(e,t,r,d),t.child)}function ih(e,t,s,r,d){if(e===null){var f=s.type;return typeof f=="function"&&!ho(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,rh(e,t,f,r,d)):(e=ur(s.type,null,r,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!oc(e,d)){var x=f.memoizedProps;if(s=s.compare,s=s!==null?s:Hn,s(x,r)&&e.ref===t.ref)return ca(e,t,d)}return t.flags|=1,e=sa(f,r),e.ref=t.ref,e.return=t,t.child=e}function rh(e,t,s,r,d){if(e!==null){var f=e.memoizedProps;if(Hn(f,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=f,oc(e,d))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,ca(e,t,d)}return tc(e,t,s,r,d)}function lh(e,t,s,r){var d=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(r=t.child=e.child,d=0;r!==null;)d=d|r.lanes|r.childLanes,r=r.sibling;r=d&~f}else r=0,t.child=null;return oh(e,t,f,s,r)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mr(t,f!==null?f.cachePool:null),f!==null?uf(t,f):Ao(),df(t);else return r=t.lanes=536870912,oh(e,t,f!==null?f.baseLanes|s:s,s,r)}else f!==null?(mr(t,f.cachePool),uf(t,f),La(),t.memoizedState=null):(e!==null&&mr(t,null),Ao(),La());return it(e,t,d,s),t.child}function ai(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function oh(e,t,s,r,d){var f=So();return f=f===null?null:{parent:Ve._currentValue,pool:f},t.memoizedState={baseLanes:s,cachePool:f},e!==null&&mr(t,null),Ao(),df(t),e!==null&&Hs(e,t,r,!0),t.childLanes=d,null}function Or(e,t){return t=Rr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ch(e,t,s){return fs(t,e.child,null,s),e=Or(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function jx(e,t,s){var r=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(r.mode==="hidden")return e=Or(t,r),t.lanes=536870912,ai(null,e);if(Uo(t),(e=ze)?(e=wm(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Yt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},s=Vd(e),s.return=t,t.child=s,st=t,ze=null)):e=null,e===null)throw Ca(t);return t.lanes=536870912,null}return Or(t,r)}var f=e.memoizedState;if(f!==null){var x=f.dehydrated;if(Uo(t),d)if(t.flags&256)t.flags&=-257,t=ch(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Qe||Hs(e,t,s,!1),d=(s&e.childLanes)!==0,Qe||d){if(r=Le,r!==null&&(x=Fu(r,s),x!==0&&x!==f.retryLane))throw f.retryLane=x,ns(e,x),yt(r,e,x),ec;Hr(),t=ch(e,t,s)}else e=f.treeContext,ze=Mt(x.nextSibling),st=t,we=!0,Ta=null,Dt=!1,e!==null&&Xd(t,e),t=Or(t,r),t.flags|=4096;return t}return e=sa(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ar(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function tc(e,t,s,r,d){return os(t),s=Do(e,t,s,r,void 0,d),r=zo(),e!==null&&!Qe?(Mo(e,t,d),ca(e,t,d)):(we&&r&&po(t),t.flags|=1,it(e,t,s,d),t.child)}function uh(e,t,s,r,d,f){return os(t),t.updateQueue=null,s=hf(t,r,s,d),ff(e),r=zo(),e!==null&&!Qe?(Mo(e,t,f),ca(e,t,f)):(we&&r&&po(t),t.flags|=1,it(e,t,s,f),t.child)}function dh(e,t,s,r,d){if(os(t),t.stateNode===null){var f=Ms,x=s.contextType;typeof x=="object"&&x!==null&&(f=nt(x)),f=new s(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},To(t),x=s.contextType,f.context=typeof x=="object"&&x!==null?nt(x):Ms,f.state=t.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Zo(t,s,x,r),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Fo.enqueueReplaceState(f,f.state,null),Zn(t,r,f,d),In(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,E=ms(s,v);f.props=E;var M=f.context,V=s.contextType;x=Ms,typeof V=="object"&&V!==null&&(x=nt(V));var X=s.getDerivedStateFromProps;V=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||M!==x)&&Zf(t,f,r,x),Oa=!1;var B=t.memoizedState;f.state=B,Zn(t,r,f,d),In(),M=t.memoizedState,v||B!==M||Oa?(typeof X=="function"&&(Zo(t,s,X,r),M=t.memoizedState),(E=Oa||If(t,s,E,r,B,M,x))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=M),f.props=r,f.state=M,f.context=x,r=E):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,Co(e,t),x=t.memoizedProps,V=ms(s,x),f.props=V,X=t.pendingProps,B=f.context,M=s.contextType,E=Ms,typeof M=="object"&&M!==null&&(E=nt(M)),v=s.getDerivedStateFromProps,(M=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==X||B!==E)&&Zf(t,f,r,E),Oa=!1,B=t.memoizedState,f.state=B,Zn(t,r,f,d),In();var K=t.memoizedState;x!==X||B!==K||Oa||e!==null&&e.dependencies!==null&&fr(e.dependencies)?(typeof v=="function"&&(Zo(t,s,v,r),K=t.memoizedState),(V=Oa||If(t,s,V,r,B,K,E)||e!==null&&e.dependencies!==null&&fr(e.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,K,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,K,E)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=K),f.props=r,f.state=K,f.context=E,r=V):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,Ar(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=fs(t,e.child,null,d),t.child=fs(t,null,s,d)):it(e,t,s,d),t.memoizedState=f.state,e=t.child):e=ca(e,t,d),e}function fh(e,t,s,r){return rs(),t.flags|=256,it(e,t,s,r),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sc(e){return{baseLanes:e,cachePool:ef()}}function nc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Tt),e}function hh(e,t,s){var r=t.pendingProps,d=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),x&&(d=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(d?Ua(t):La(),(e=ze)?(e=wm(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Yt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},s=Vd(e),s.return=t,t.child=s,st=t,ze=null)):e=null,e===null)throw Ca(t);return Bc(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,d?(La(),d=t.mode,v=Rr({mode:"hidden",children:v},d),r=is(r,d,s,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=sc(s),r.childLanes=nc(e,x,s),t.memoizedState=ac,ai(null,r)):(Ua(t),ic(t,v))}var E=e.memoizedState;if(E!==null&&(v=E.dehydrated,v!==null)){if(f)t.flags&256?(Ua(t),t.flags&=-257,t=rc(e,t,s)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),v=r.fallback,d=t.mode,r=Rr({mode:"visible",children:r.children},d),v=is(v,d,s,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,fs(t,e.child,null,s),r=t.child,r.memoizedState=sc(s),r.childLanes=nc(e,x,s),t.memoizedState=ac,t=ai(null,r));else if(Ua(t),Bc(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var M=x.dgst;x=M,r=Error(i(419)),r.stack="",r.digest=x,Gn({value:r,source:null,stack:null}),t=rc(e,t,s)}else if(Qe||Hs(e,t,s,!1),x=(s&e.childLanes)!==0,Qe||x){if(x=Le,x!==null&&(r=Fu(x,s),r!==0&&r!==E.retryLane))throw E.retryLane=r,ns(e,r),yt(x,e,r),ec;qc(v)||Hr(),t=rc(e,t,s)}else qc(v)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,ze=Mt(v.nextSibling),st=t,we=!0,Ta=null,Dt=!1,e!==null&&Xd(t,e),t=ic(t,r.children),t.flags|=4096);return t}return d?(La(),v=r.fallback,d=t.mode,E=e.child,M=E.sibling,r=sa(E,{mode:"hidden",children:r.children}),r.subtreeFlags=E.subtreeFlags&65011712,M!==null?v=sa(M,v):(v=is(v,d,s,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,ai(null,r),r=t.child,v=e.child.memoizedState,v===null?v=sc(s):(d=v.cachePool,d!==null?(E=Ve._currentValue,d=d.parent!==E?{parent:E,pool:E}:d):d=ef(),v={baseLanes:v.baseLanes|s,cachePool:d}),r.memoizedState=v,r.childLanes=nc(e,x,s),t.memoizedState=ac,ai(e.child,r)):(Ua(t),s=e.child,e=s.sibling,s=sa(s,{mode:"visible",children:r.children}),s.return=t,s.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=s,t.memoizedState=null,s)}function ic(e,t){return t=Rr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rr(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function rc(e,t,s){return fs(t,e.child,null,s),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mh(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wo(e.return,t,s)}function lc(e,t,s,r,d,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:d,treeForkCount:f}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=r,x.tail=s,x.tailMode=d,x.treeForkCount=f)}function gh(e,t,s){var r=t.pendingProps,d=r.revealOrder,f=r.tail;r=r.children;var x=Ke.current,v=(x&2)!==0;if(v?(x=x&1|2,t.flags|=128):x&=1,W(Ke,x),it(e,t,r,s),r=we?Kn:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mh(e,s,t);else if(e.tag===19)mh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&vr(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),lc(t,!1,d,s,f,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&vr(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}lc(t,!0,s,null,f,r);break;case"together":lc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ca(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Hs(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,s=sa(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=sa(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function oc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fr(e)))}function Nx(e,t,s){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),ka(t,Ve,e.memoizedState.cache),rs();break;case 27:case 5:Cn(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ua(t),t.flags|=128,null):(s&t.child.childLanes)!==0?hh(e,t,s):(Ua(t),e=ca(e,t,s),e!==null?e.sibling:null);Ua(t);break;case 19:var d=(e.flags&128)!==0;if(r=(s&t.childLanes)!==0,r||(Hs(e,t,s,!1),r=(s&t.childLanes)!==0),d){if(r)return gh(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Ke,Ke.current),r)break;return null;case 22:return t.lanes=0,lh(e,t,s,t.pendingProps);case 24:ka(t,Ve,e.memoizedState.cache)}return ca(e,t,s)}function ph(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!oc(e,s)&&(t.flags&128)===0)return Qe=!1,Nx(e,t,s);Qe=(e.flags&131072)!==0}else Qe=!1,we&&(t.flags&1048576)!==0&&Qd(t,Kn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=us(t.elementType),t.type=e,typeof e=="function")ho(e)?(r=ms(e,r),t.tag=1,t=dh(null,t,e,r,s)):(t.tag=0,t=tc(null,t,e,r,s));else{if(e!=null){var d=e.$$typeof;if(d===k){t.tag=11,t=nh(null,t,e,r,s);break e}else if(d===q){t.tag=14,t=ih(null,t,e,r,s);break e}}throw t=ee(e)||e,Error(i(306,t,""))}}return t;case 0:return tc(e,t,t.type,t.pendingProps,s);case 1:return r=t.type,d=ms(r,t.pendingProps),dh(e,t,r,d,s);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var f=t.memoizedState;d=f.element,Co(e,t),Zn(t,r,null,s);var x=t.memoizedState;if(r=x.cache,ka(t,Ve,r),r!==f.cache&&jo(t,[Ve],s,!0),In(),r=x.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=fh(e,t,r,s);break e}else if(r!==d){d=Rt(Error(i(424)),t),Gn(d),t=fh(e,t,r,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Mt(e.firstChild),st=t,we=!0,Ta=null,Dt=!0,s=lf(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(rs(),r===d){t=ca(e,t,s);break e}it(e,t,r,s)}t=t.child}return t;case 26:return Ar(e,t),e===null?(s=Tm(t.type,null,t.pendingProps,null))?t.memoizedState=s:we||(s=t.type,e=t.pendingProps,r=Xr(ge.current).createElement(s),r[at]=t,r[ft]=e,rt(r,s,e),We(r),t.stateNode=r):t.memoizedState=Tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Cn(t),e===null&&we&&(r=t.stateNode=_m(t.type,t.pendingProps,ge.current),st=t,Dt=!0,d=ze,Pa(t.type)?(Hc=d,ze=Mt(r.firstChild)):ze=d),it(e,t,t.pendingProps.children,s),Ar(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((d=r=ze)&&(r=Wx(r,t.type,t.pendingProps,Dt),r!==null?(t.stateNode=r,st=t,ze=Mt(r.firstChild),Dt=!1,d=!0):d=!1),d||Ca(t)),Cn(t),d=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,r=f.children,zc(d,f)?r=null:x!==null&&zc(d,x)&&(t.flags|=32),t.memoizedState!==null&&(d=Do(e,t,mx,null,null,s),xi._currentValue=d),Ar(e,t),it(e,t,r,s),t.child;case 6:return e===null&&we&&((e=s=ze)&&(s=ey(s,t.pendingProps,Dt),s!==null?(t.stateNode=s,st=t,ze=null,e=!0):e=!1),e||Ca(t)),null;case 13:return hh(e,t,s);case 4:return ct(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,s):it(e,t,r,s),t.child;case 11:return nh(e,t,t.type,t.pendingProps,s);case 7:return it(e,t,t.pendingProps,s),t.child;case 8:return it(e,t,t.pendingProps.children,s),t.child;case 12:return it(e,t,t.pendingProps.children,s),t.child;case 10:return r=t.pendingProps,ka(t,t.type,r.value),it(e,t,r.children,s),t.child;case 9:return d=t.type._context,r=t.pendingProps.children,os(t),d=nt(d),r=r(d),t.flags|=1,it(e,t,r,s),t.child;case 14:return ih(e,t,t.type,t.pendingProps,s);case 15:return rh(e,t,t.type,t.pendingProps,s);case 19:return gh(e,t,s);case 31:return jx(e,t,s);case 22:return lh(e,t,s,t.pendingProps);case 24:return os(t),r=nt(Ve),e===null?(d=So(),d===null&&(d=Le,f=No(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),t.memoizedState={parent:r,cache:d},To(t),ka(t,Ve,d)):((e.lanes&s)!==0&&(Co(e,t),Zn(t,null,null,s),In()),d=e.memoizedState,f=t.memoizedState,d.parent!==r?(d={parent:r,cache:r},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),ka(t,Ve,r)):(r=f.cache,ka(t,Ve,r),r!==d.cache&&jo(t,[Ve],s,!0))),it(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ua(e){e.flags|=4}function cc(e,t,s,r,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Kh())e.flags|=8192;else throw ds=pr,Eo}else e.flags&=-16777217}function xh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rm(t))if(Kh())e.flags|=8192;else throw ds=pr,Eo}function Ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ju():536870912,e.lanes|=t,Ws|=t)}function si(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,r|=d.subtreeFlags&65011712,r|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,r|=d.subtreeFlags,r|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function _x(e,t,s){var r=t.pendingProps;switch(xo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return s=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ra(Ve),Pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bo())),Me(t),null;case 26:var d=t.type,f=t.memoizedState;return e===null?(ua(t),f!==null?(Me(t),xh(t,f)):(Me(t),cc(t,d,null,r,s))):f?f!==e.memoizedState?(ua(t),Me(t),xh(t,f)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ua(t),Me(t),cc(t,d,e,r,s)),null;case 27:if(Gi(t),s=ge.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ua(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Me(t),null}e=ae.current,Bs(t)?Jd(t):(e=_m(d,r,s),t.stateNode=e,ua(t))}return Me(t),null;case 5:if(Gi(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ua(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Me(t),null}if(f=ae.current,Bs(t))Jd(t);else{var x=Xr(ge.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?x.createElement("select",{is:r.is}):x.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?x.createElement(d,{is:r.is}):x.createElement(d)}}f[at]=t,f[ft]=r;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=f;e:switch(rt(f,d,r),d){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ua(t)}}return Me(t),cc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ua(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=ge.current,Bs(t)){if(e=t.stateNode,s=t.memoizedProps,r=null,d=st,d!==null)switch(d.tag){case 27:case 5:r=d.memoizedProps}e[at]=t,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||hm(e.nodeValue,s)),e||Ca(t,!0)}else e=Xr(e).createTextNode(r),e[at]=t,t.stateNode=e}return Me(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(r=Bs(t),s!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[at]=t}else rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else s=bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Me(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[at]=t}else rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),d=!1}else d=bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=s,t):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=t.child,d=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(d=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==d&&(r.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Ur(t,t.updateQueue),Me(t),null);case 4:return Pe(),e===null&&Ac(t.stateNode.containerInfo),Me(t),null;case 10:return ra(t.type),Me(t),null;case 19:if(Y(Ke),r=t.memoizedState,r===null)return Me(t),null;if(d=(t.flags&128)!==0,f=r.rendering,f===null)if(d)si(r,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=vr(e),f!==null){for(t.flags|=128,si(r,!1),e=f.updateQueue,t.updateQueue=e,Ur(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Gd(s,e),s=s.sibling;return W(Ke,Ke.current&1|2),we&&na(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&bt()>$r&&(t.flags|=128,d=!0,si(r,!1),t.lanes=4194304)}else{if(!d)if(e=vr(f),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,Ur(t,e),si(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!we)return Me(t),null}else 2*bt()-r.renderingStartTime>$r&&s!==536870912&&(t.flags|=128,d=!0,si(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=bt(),e.sibling=null,s=Ke.current,W(Ke,d?s&1|2:s&1),we&&na(t,r.treeForkCount),e):(Me(t),null);case 22:case 23:return St(t),Ro(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(s&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),s=t.updateQueue,s!==null&&Ur(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==s&&(t.flags|=2048),e!==null&&Y(cs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ra(Ve),Me(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Sx(e,t){switch(xo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(Ve),Pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gi(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(i(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ke),null;case 4:return Pe(),null;case 10:return ra(t.type),null;case 22:case 23:return St(t),Ro(),e!==null&&Y(cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(Ve),null;case 25:return null;default:return null}}function yh(e,t){switch(xo(t),t.tag){case 3:ra(Ve),Pe();break;case 26:case 27:case 5:Gi(t);break;case 4:Pe();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:Y(Ke);break;case 10:ra(t.type);break;case 22:case 23:St(t),Ro(),e!==null&&Y(cs);break;case 24:ra(Ve)}}function ni(e,t){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var d=r.next;s=d;do{if((s.tag&e)===e){r=void 0;var f=s.create,x=s.inst;r=f(),x.destroy=r}s=s.next}while(s!==d)}}catch(v){Oe(t,t.return,v)}}function Da(e,t,s){try{var r=t.updateQueue,d=r!==null?r.lastEffect:null;if(d!==null){var f=d.next;r=f;do{if((r.tag&e)===e){var x=r.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,d=t;var E=s,M=v;try{M()}catch(V){Oe(d,E,V)}}}r=r.next}while(r!==f)}}catch(V){Oe(t,t.return,V)}}function bh(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{cf(t,s)}catch(r){Oe(e,e.return,r)}}}function vh(e,t,s){s.props=ms(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Oe(e,t,r)}}function ii(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(d){Oe(e,t,d)}}function Xt(e,t){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(d){Oe(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Oe(e,t,d)}else s.current=null}function wh(e){var t=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(d){Oe(e,e.return,d)}}function uc(e,t,s){try{var r=e.stateNode;Qx(r,e.type,s,t),r[ft]=t}catch(d){Oe(e,e.return,d)}}function jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ta));else if(r!==4&&(r===27&&Pa(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(fc(e,t,s),e=e.sibling;e!==null;)fc(e,t,s),e=e.sibling}function Lr(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(r===27&&Pa(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Lr(e,t,s),e=e.sibling;e!==null;)Lr(e,t,s),e=e.sibling}function Nh(e){var t=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);rt(t,r,s),t[at]=e,t[ft]=s}catch(f){Oe(e,e.return,f)}}var da=!1,Xe=!1,hc=!1,_h=typeof WeakSet=="function"?WeakSet:Set,et=null;function Ex(e,t){if(e=e.containerInfo,Lc=tl,e=Dd(e),io(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var d=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var x=0,v=-1,E=-1,M=0,V=0,X=e,B=null;t:for(;;){for(var K;X!==s||d!==0&&X.nodeType!==3||(v=x+d),X!==f||r!==0&&X.nodeType!==3||(E=x+r),X.nodeType===3&&(x+=X.nodeValue.length),(K=X.firstChild)!==null;)B=X,X=K;for(;;){if(X===e)break t;if(B===s&&++M===d&&(v=x),B===f&&++V===r&&(E=x),(K=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=K}s=v===-1||E===-1?null:{start:v,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dc={focusedElem:e,selectionRange:s},tl=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)d=e[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,d=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var se=ms(s.type,d);e=r.getSnapshotBeforeUpdate(se,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Oe(s,s.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)$c(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Sh(e,t,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:ha(e,s),r&4&&ni(5,s);break;case 1:if(ha(e,s),r&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(x){Oe(s,s.return,x)}else{var d=ms(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Oe(s,s.return,x)}}r&64&&bh(s),r&512&&ii(s,s.return);break;case 3:if(ha(e,s),r&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{cf(e,t)}catch(x){Oe(s,s.return,x)}}break;case 27:t===null&&r&4&&Nh(s);case 26:case 5:ha(e,s),t===null&&r&4&&wh(s),r&512&&ii(s,s.return);break;case 12:ha(e,s);break;case 31:ha(e,s),r&4&&Ch(e,s);break;case 13:ha(e,s),r&4&&kh(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Dx.bind(null,s),ty(e,s))));break;case 22:if(r=s.memoizedState!==null||da,!r){t=t!==null&&t.memoizedState!==null||Xe,d=da;var f=Xe;da=r,(Xe=t)&&!f?ma(e,s,(s.subtreeFlags&8772)!==0):ha(e,s),da=d,Xe=f}break;case 30:break;default:ha(e,s)}}function Eh(e){var t=e.alternate;t!==null&&(e.alternate=null,Eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,mt=!1;function fa(e,t,s){for(s=s.child;s!==null;)Th(e,t,s),s=s.sibling}function Th(e,t,s){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Xe||Xt(s,t),fa(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xe||Xt(s,t);var r=$e,d=mt;Pa(s.type)&&($e=s.stateNode,mt=!1),fa(e,t,s),mi(s.stateNode),$e=r,mt=d;break;case 5:Xe||Xt(s,t);case 6:if(r=$e,d=mt,$e=null,fa(e,t,s),$e=r,mt=d,$e!==null)if(mt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(s.stateNode)}catch(f){Oe(s,t,f)}else try{$e.removeChild(s.stateNode)}catch(f){Oe(s,t,f)}break;case 18:$e!==null&&(mt?(e=$e,bm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),on(e)):bm($e,s.stateNode));break;case 4:r=$e,d=mt,$e=s.stateNode.containerInfo,mt=!0,fa(e,t,s),$e=r,mt=d;break;case 0:case 11:case 14:case 15:Da(2,s,t),Xe||Da(4,s,t),fa(e,t,s);break;case 1:Xe||(Xt(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"&&vh(s,t,r)),fa(e,t,s);break;case 21:fa(e,t,s);break;case 22:Xe=(r=Xe)||s.memoizedState!==null,fa(e,t,s),Xe=r;break;default:fa(e,t,s)}}function Ch(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{on(e)}catch(s){Oe(t,t.return,s)}}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{on(e)}catch(s){Oe(t,t.return,s)}}function Tx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _h),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _h),t;default:throw Error(i(435,e.tag))}}function Dr(e,t){var s=Tx(e);t.forEach(function(r){if(!s.has(r)){s.add(r);var d=zx.bind(null,e,r);r.then(d,d)}})}function gt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var d=s[r],f=e,x=t,v=x;e:for(;v!==null;){switch(v.tag){case 27:if(Pa(v.type)){$e=v.stateNode,mt=!1;break e}break;case 5:$e=v.stateNode,mt=!1;break e;case 3:case 4:$e=v.stateNode.containerInfo,mt=!0;break e}v=v.return}if($e===null)throw Error(i(160));Th(f,x,d),$e=null,mt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}var Pt=null;function Oh(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),pt(e),r&4&&(Da(3,e,e.return),ni(3,e),Da(5,e,e.return));break;case 1:gt(t,e),pt(e),r&512&&(Xe||s===null||Xt(s,s.return)),r&64&&da&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var d=Pt;if(gt(t,e),pt(e),r&512&&(Xe||s===null||Xt(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,d=d.ownerDocument||d;t:switch(r){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Rn]||f[at]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(r),d.head.insertBefore(f,d.querySelector("head > title"))),rt(f,r,s),f[at]=e,We(f),r=f;break e;case"link":var x=Om("link","href",d).get(r+(s.href||""));if(x){for(var v=0;v<x.length;v++)if(f=x[v],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(v,1);break t}}f=d.createElement(r),rt(f,r,s),d.head.appendChild(f);break;case"meta":if(x=Om("meta","content",d).get(r+(s.content||""))){for(v=0;v<x.length;v++)if(f=x[v],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(v,1);break t}}f=d.createElement(r),rt(f,r,s),d.head.appendChild(f);break;default:throw Error(i(468,r))}f[at]=e,We(f),r=f}e.stateNode=r}else Am(d,e.type,e.stateNode);else e.stateNode=km(d,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Am(d,e.type,e.stateNode):km(d,r,e.memoizedProps)):r===null&&e.stateNode!==null&&uc(e,e.memoizedProps,s.memoizedProps)}break;case 27:gt(t,e),pt(e),r&512&&(Xe||s===null||Xt(s,s.return)),s!==null&&r&4&&uc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gt(t,e),pt(e),r&512&&(Xe||s===null||Xt(s,s.return)),e.flags&32){d=e.stateNode;try{Os(d,"")}catch(se){Oe(e,e.return,se)}}r&4&&e.stateNode!=null&&(d=e.memoizedProps,uc(e,d,s!==null?s.memoizedProps:d)),r&1024&&(hc=!0);break;case 6:if(gt(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(se){Oe(e,e.return,se)}}break;case 3:if(Zr=null,d=Pt,Pt=Jr(t.containerInfo),gt(t,e),Pt=d,pt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{on(t.containerInfo)}catch(se){Oe(e,e.return,se)}hc&&(hc=!1,Ah(e));break;case 4:r=Pt,Pt=Jr(e.stateNode.containerInfo),gt(t,e),pt(e),Pt=r;break;case 12:gt(t,e),pt(e);break;case 31:gt(t,e),pt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 13:gt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Mr=bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 22:d=e.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,M=da,V=Xe;if(da=M||d,Xe=V||E,gt(t,e),Xe=V,da=M,pt(e),r&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(s===null||E||da||Xe||gs(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){E=s=t;try{if(f=E.stateNode,d)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=E.stateNode;var X=E.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;v.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(se){Oe(E,E.return,se)}}}else if(t.tag===6){if(s===null){E=t;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(se){Oe(E,E.return,se)}}}else if(t.tag===18){if(s===null){E=t;try{var K=E.stateNode;d?vm(K,!0):vm(E.stateNode,!1)}catch(se){Oe(E,E.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Dr(e,s))));break;case 19:gt(t,e),pt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 30:break;case 21:break;default:gt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var s,r=e.return;r!==null;){if(jh(r)){s=r;break}r=r.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,f=dc(e);Lr(e,f,d);break;case 5:var x=s.stateNode;s.flags&32&&(Os(x,""),s.flags&=-33);var v=dc(e);Lr(e,v,x);break;case 3:case 4:var E=s.stateNode.containerInfo,M=dc(e);fc(e,M,E);break;default:throw Error(i(161))}}catch(V){Oe(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ah(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ah(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sh(e,t.alternate,t),t=t.sibling}function gs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),gs(t);break;case 1:Xt(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&vh(t,t.return,s),gs(t);break;case 27:mi(t.stateNode);case 26:case 5:Xt(t,t.return),gs(t);break;case 22:t.memoizedState===null&&gs(t);break;case 30:gs(t);break;default:gs(t)}e=e.sibling}}function ma(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,d=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:ma(d,f,s),ni(4,f);break;case 1:if(ma(d,f,s),r=f,d=r.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Oe(r,r.return,M)}if(r=f,d=r.updateQueue,d!==null){var v=r.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)of(E[d],v)}catch(M){Oe(r,r.return,M)}}s&&x&64&&bh(f),ii(f,f.return);break;case 27:Nh(f);case 26:case 5:ma(d,f,s),s&&r===null&&x&4&&wh(f),ii(f,f.return);break;case 12:ma(d,f,s);break;case 31:ma(d,f,s),s&&x&4&&Ch(d,f);break;case 13:ma(d,f,s),s&&x&4&&kh(d,f);break;case 22:f.memoizedState===null&&ma(d,f,s),ii(f,f.return);break;case 30:break;default:ma(d,f,s)}t=t.sibling}}function mc(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vn(s))}function gc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e))}function Kt(e,t,s,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rh(e,t,s,r),t=t.sibling}function Rh(e,t,s,r){var d=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,s,r),d&2048&&ni(9,t);break;case 1:Kt(e,t,s,r);break;case 3:Kt(e,t,s,r),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e)));break;case 12:if(d&2048){Kt(e,t,s,r),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,v=f.onPostCommit;typeof v=="function"&&v(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Oe(t,t.return,E)}}else Kt(e,t,s,r);break;case 31:Kt(e,t,s,r);break;case 13:Kt(e,t,s,r);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?Kt(e,t,s,r):ri(e,t):f._visibility&2?Kt(e,t,s,r):(f._visibility|=2,Is(e,t,s,r,(t.subtreeFlags&10256)!==0||!1)),d&2048&&mc(x,t);break;case 24:Kt(e,t,s,r),d&2048&&gc(t.alternate,t);break;default:Kt(e,t,s,r)}}function Is(e,t,s,r,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,x=t,v=s,E=r,M=x.flags;switch(x.tag){case 0:case 11:case 15:Is(f,x,v,E,d),ni(8,x);break;case 23:break;case 22:var V=x.stateNode;x.memoizedState!==null?V._visibility&2?Is(f,x,v,E,d):ri(f,x):(V._visibility|=2,Is(f,x,v,E,d)),d&&M&2048&&mc(x.alternate,x);break;case 24:Is(f,x,v,E,d),d&&M&2048&&gc(x.alternate,x);break;default:Is(f,x,v,E,d)}t=t.sibling}}function ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,r=t,d=r.flags;switch(r.tag){case 22:ri(s,r),d&2048&&mc(r.alternate,r);break;case 24:ri(s,r),d&2048&&gc(r.alternate,r);break;default:ri(s,r)}t=t.sibling}}var li=8192;function Zs(e,t,s){if(e.subtreeFlags&li)for(e=e.child;e!==null;)Uh(e,t,s),e=e.sibling}function Uh(e,t,s){switch(e.tag){case 26:Zs(e,t,s),e.flags&li&&e.memoizedState!==null&&hy(s,Pt,e.memoizedState,e.memoizedProps);break;case 5:Zs(e,t,s);break;case 3:case 4:var r=Pt;Pt=Jr(e.stateNode.containerInfo),Zs(e,t,s),Pt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=li,li=16777216,Zs(e,t,s),li=r):Zs(e,t,s));break;default:Zs(e,t,s)}}function Lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];et=r,zh(r,e)}Lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dh(e),e=e.sibling}function Dh(e){switch(e.tag){case 0:case 11:case 15:oi(e),e.flags&2048&&Da(9,e,e.return);break;case 3:oi(e);break;case 12:oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zr(e)):oi(e);break;default:oi(e)}}function zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];et=r,zh(r,e)}Lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),zr(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,zr(t));break;default:zr(t)}e=e.sibling}}function zh(e,t){for(;et!==null;){var s=et;switch(s.tag){case 0:case 11:case 15:Da(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Vn(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,et=r;else e:for(s=e;et!==null;){r=et;var d=r.sibling,f=r.return;if(Eh(r),r===s){et=null;break e}if(d!==null){d.return=f,et=d;break e}et=f}}}var Cx={getCacheForType:function(e){var t=nt(Ve),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return nt(Ve).controller.signal}},kx=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Le=null,pe=null,be=0,ke=0,Et=null,za=!1,Fs=!1,pc=!1,ga=0,He=0,Ma=0,ps=0,xc=0,Tt=0,Ws=0,ci=null,xt=null,yc=!1,Mr=0,Mh=0,$r=1/0,qr=null,$a=null,Je=0,qa=null,en=null,pa=0,bc=0,vc=null,$h=null,ui=0,wc=null;function Ct(){return(Ee&2)!==0&&be!==0?be&-be:P.T!==null?Tc():Wu()}function qh(){if(Tt===0)if((be&536870912)===0||we){var e=Qi;Qi<<=1,(Qi&3932160)===0&&(Qi=262144),Tt=e}else Tt=536870912;return e=_t.current,e!==null&&(e.flags|=32),Tt}function yt(e,t,s){(e===Le&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(tn(e,0),Ba(e,be,Tt,!1)),An(e,s),((Ee&2)===0||e!==Le)&&(e===Le&&((Ee&2)===0&&(ps|=s),He===4&&Ba(e,be,Tt,!1)),Jt(e))}function Bh(e,t,s){if((Ee&6)!==0)throw Error(i(327));var r=!s&&(t&127)===0&&(t&e.expiredLanes)===0||On(e,t),d=r?Rx(e,t):Nc(e,t,!0),f=r;do{if(d===0){Fs&&!r&&Ba(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!Ox(s)){d=Nc(e,t,!1),f=!1;continue}if(d===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var v=e;d=ci;var E=v.current.memoizedState.isDehydrated;if(E&&(tn(v,x).flags|=256),x=Nc(v,x,!1),x!==2){if(pc&&!E){v.errorRecoveryDisabledLanes|=f,ps|=f,d=4;break e}f=xt,xt=d,f!==null&&(xt===null?xt=f:xt.push.apply(xt,f))}d=x}if(f=!1,d!==2)continue}}if(d===1){tn(e,0),Ba(e,t,0,!0);break}e:{switch(r=e,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ba(r,t,Tt,!za);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(d=Mr+300-bt(),10<d)){if(Ba(r,t,Tt,!za),Ji(r,0,!0)!==0)break e;pa=t,r.timeoutHandle=xm(Hh.bind(null,r,s,xt,qr,yc,t,Tt,ps,Ws,za,f,"Throttled",-0,0),d);break e}Hh(r,s,xt,qr,yc,t,Tt,ps,Ws,za,f,null,-0,0)}}break}while(!0);Jt(e)}function Hh(e,t,s,r,d,f,x,v,E,M,V,X,B,K){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},Uh(t,f,X);var se=(f&62914560)===f?Mr-bt():(f&4194048)===f?Mh-bt():0;if(se=my(X,se),se!==null){pa=f,e.cancelPendingCommit=se(Jh.bind(null,e,t,f,s,r,d,x,v,E,V,X,null,B,K)),Ba(e,f,x,!M);return}}Jh(e,t,f,s,r,d,x,v,E)}function Ox(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var d=s[r],f=d.getSnapshot;d=d.value;try{if(!jt(f(),d))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,s,r){t&=~xc,t&=~ps,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var d=t;0<d;){var f=31-wt(d),x=1<<f;r[f]=-1,d&=~x}s!==0&&Iu(e,s,t)}function Br(){return(Ee&6)===0?(di(0),!1):!0}function jc(){if(pe!==null){if(ke===0)var e=pe.return;else e=pe,ia=ls=null,$o(e),Vs=null,Qn=0,e=pe;for(;e!==null;)yh(e.alternate,e),e=e.return;pe=null}}function tn(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ix(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),pa=0,jc(),Le=e,pe=s=sa(e.current,null),be=t,ke=0,Et=null,za=!1,Fs=On(e,t),pc=!1,Ws=Tt=xc=ps=Ma=He=0,xt=ci=null,yc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var d=31-wt(r),f=1<<d;t|=e[d],r&=~f}return ga=t,lr(),s}function Ph(e,t){fe=null,P.H=ti,t===Gs||t===gr?(t=sf(),ke=3):t===Eo?(t=sf(),ke=4):ke=t===ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,pe===null&&(He=1,kr(e,Rt(t,e.current)))}function Kh(){var e=_t.current;return e===null?!0:(be&4194048)===be?zt===null:(be&62914560)===be||(be&536870912)!==0?e===zt:!1}function Gh(){var e=P.H;return P.H=ti,e===null?ti:e}function Vh(){var e=P.A;return P.A=Cx,e}function Hr(){He=4,za||(be&4194048)!==be&&_t.current!==null||(Fs=!0),(Ma&134217727)===0&&(ps&134217727)===0||Le===null||Ba(Le,be,Tt,!1)}function Nc(e,t,s){var r=Ee;Ee|=2;var d=Gh(),f=Vh();(Le!==e||be!==t)&&(qr=null,tn(e,t)),t=!1;var x=He;e:do try{if(ke!==0&&pe!==null){var v=pe,E=Et;switch(ke){case 8:jc(),x=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var M=ke;if(ke=0,Et=null,an(e,v,E,M),s&&Fs){x=0;break e}break;default:M=ke,ke=0,Et=null,an(e,v,E,M)}}Ax(),x=He;break}catch(V){Ph(e,V)}while(!0);return t&&e.shellSuspendCounter++,ia=ls=null,Ee=r,P.H=d,P.A=f,pe===null&&(Le=null,be=0,lr()),x}function Ax(){for(;pe!==null;)Yh(pe)}function Rx(e,t){var s=Ee;Ee|=2;var r=Gh(),d=Vh();Le!==e||be!==t?(qr=null,$r=bt()+500,tn(e,t)):Fs=On(e,t);e:do try{if(ke!==0&&pe!==null){t=pe;var f=Et;t:switch(ke){case 1:ke=0,Et=null,an(e,t,f,1);break;case 2:case 9:if(tf(f)){ke=0,Et=null,Qh(t);break}t=function(){ke!==2&&ke!==9||Le!==e||(ke=7),Jt(e)},f.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:tf(f)?(ke=0,Et=null,Qh(t)):(ke=0,Et=null,an(e,t,f,7));break;case 5:var x=null;switch(pe.tag){case 26:x=pe.memoizedState;case 5:case 27:var v=pe;if(x?Rm(x):v.stateNode.complete){ke=0,Et=null;var E=v.sibling;if(E!==null)pe=E;else{var M=v.return;M!==null?(pe=M,Pr(M)):pe=null}break t}}ke=0,Et=null,an(e,t,f,5);break;case 6:ke=0,Et=null,an(e,t,f,6);break;case 8:jc(),He=6;break e;default:throw Error(i(462))}}Ux();break}catch(V){Ph(e,V)}while(!0);return ia=ls=null,P.H=r,P.A=d,Ee=s,pe!==null?0:(Le=null,be=0,lr(),He)}function Ux(){for(;pe!==null&&!ap();)Yh(pe)}function Yh(e){var t=ph(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?Pr(e):pe=t}function Qh(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=uh(s,t,t.pendingProps,t.type,void 0,be);break;case 11:t=uh(s,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:$o(t);default:yh(s,t),t=pe=Gd(t,ga),t=ph(s,t,ga)}e.memoizedProps=e.pendingProps,t===null?Pr(e):pe=t}function an(e,t,s,r){ia=ls=null,$o(t),Vs=null,Qn=0;var d=t.return;try{if(wx(e,d,t,s,be)){He=1,kr(e,Rt(s,e.current)),pe=null;return}}catch(f){if(d!==null)throw pe=d,f;He=1,kr(e,Rt(s,e.current)),pe=null;return}t.flags&32768?(we||r===1?e=!0:Fs||(be&536870912)!==0?e=!1:(za=e=!0,(r===2||r===9||r===3||r===6)&&(r=_t.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xh(t,e)):Pr(t)}function Pr(e){var t=e;do{if((t.flags&32768)!==0){Xh(t,za);return}e=t.return;var s=_x(t.alternate,t,ga);if(s!==null){pe=s;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);He===0&&(He=5)}function Xh(e,t){do{var s=Sx(e.alternate,e);if(s!==null){s.flags&=32767,pe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=s}while(e!==null);He=6,pe=null}function Jh(e,t,s,r,d,f,x,v,E){e.cancelPendingCommit=null;do Kr();while(Je!==0);if((Ee&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=uo,fp(e,s,f,x,v,E),e===Le&&(pe=Le=null,be=0),en=t,qa=e,pa=s,bc=f,vc=d,$h=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mx(Vi,function(){return em(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=P.T,P.T=null,d=F.p,F.p=2,x=Ee,Ee|=4;try{Ex(e,t,s)}finally{Ee=x,F.p=d,P.T=r}}Je=1,Ih(),Zh(),Fh()}}function Ih(){if(Je===1){Je=0;var e=qa,t=en,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var r=F.p;F.p=2;var d=Ee;Ee|=4;try{Oh(t,e);var f=Dc,x=Dd(e.containerInfo),v=f.focusedElem,E=f.selectionRange;if(x!==v&&v&&v.ownerDocument&&Ld(v.ownerDocument.documentElement,v)){if(E!==null&&io(v)){var M=E.start,V=E.end;if(V===void 0&&(V=M),"selectionStart"in v)v.selectionStart=M,v.selectionEnd=Math.min(V,v.value.length);else{var X=v.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var K=B.getSelection(),se=v.textContent.length,oe=Math.min(E.start,se),Ue=E.end===void 0?oe:Math.min(E.end,se);!K.extend&&oe>Ue&&(x=Ue,Ue=oe,oe=x);var U=Ud(v,oe),A=Ud(v,Ue);if(U&&A&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==A.node||K.focusOffset!==A.offset)){var z=X.createRange();z.setStart(U.node,U.offset),K.removeAllRanges(),oe>Ue?(K.addRange(z),K.extend(A.node,A.offset)):(z.setEnd(A.node,A.offset),K.addRange(z))}}}}for(X=[],K=v;K=K.parentNode;)K.nodeType===1&&X.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<X.length;v++){var Q=X[v];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}tl=!!Lc,Dc=Lc=null}finally{Ee=d,F.p=r,P.T=s}}e.current=t,Je=2}}function Zh(){if(Je===2){Je=0;var e=qa,t=en,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var r=F.p;F.p=2;var d=Ee;Ee|=4;try{Sh(e,t.alternate,t)}finally{Ee=d,F.p=r,P.T=s}}Je=3}}function Fh(){if(Je===4||Je===3){Je=0,sp();var e=qa,t=en,s=pa,r=$h;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Je=5:(Je=0,en=qa=null,Wh(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&($a=null),Bl(s),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(kn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=P.T,d=F.p,F.p=2,P.T=null;try{for(var f=e.onRecoverableError,x=0;x<r.length;x++){var v=r[x];f(v.value,{componentStack:v.stack})}}finally{P.T=t,F.p=d}}(pa&3)!==0&&Kr(),Jt(e),d=e.pendingLanes,(s&261930)!==0&&(d&42)!==0?e===wc?ui++:(ui=0,wc=e):ui=0,di(0)}}function Wh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vn(t)))}function Kr(){return Ih(),Zh(),Fh(),em()}function em(){if(Je!==5)return!1;var e=qa,t=bc;bc=0;var s=Bl(pa),r=P.T,d=F.p;try{F.p=32>s?32:s,P.T=null,s=vc,vc=null;var f=qa,x=pa;if(Je=0,en=qa=null,pa=0,(Ee&6)!==0)throw Error(i(331));var v=Ee;if(Ee|=4,Dh(f.current),Rh(f,f.current,x,s),Ee=v,di(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{F.p=d,P.T=r,Wh(e,t)}}function tm(e,t,s){t=Rt(s,t),t=Wo(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(An(e,2),Jt(e))}function Oe(e,t,s){if(e.tag===3)tm(e,e,s);else for(;t!==null;){if(t.tag===3){tm(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){e=Rt(s,e),s=ah(2),r=Ra(t,s,2),r!==null&&(sh(s,r,t,e),An(r,2),Jt(r));break}}t=t.return}}function _c(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new kx;var d=new Set;r.set(t,d)}else d=r.get(t),d===void 0&&(d=new Set,r.set(t,d));d.has(s)||(pc=!0,d.add(s),e=Lx.bind(null,e,t,s),t.then(e,e))}function Lx(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Le===e&&(be&s)===s&&(He===4||He===3&&(be&62914560)===be&&300>bt()-Mr?(Ee&2)===0&&tn(e,0):xc|=s,Ws===be&&(Ws=0)),Jt(e)}function am(e,t){t===0&&(t=Ju()),e=ns(e,t),e!==null&&(An(e,t),Jt(e))}function Dx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),am(e,s)}function zx(e,t){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),am(e,s)}function Mx(e,t){return zl(e,t)}var Gr=null,sn=null,Sc=!1,Vr=!1,Ec=!1,Ha=0;function Jt(e){e!==sn&&e.next===null&&(sn===null?Gr=sn=e:sn=sn.next=e),Vr=!0,Sc||(Sc=!0,qx())}function di(e,t){if(!Ec&&Vr){Ec=!0;do for(var s=!1,r=Gr;r!==null;){if(e!==0){var d=r.pendingLanes;if(d===0)var f=0;else{var x=r.suspendedLanes,v=r.pingedLanes;f=(1<<31-wt(42|e)+1)-1,f&=d&~(x&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,rm(r,f))}else f=be,f=Ji(r,r===Le?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||On(r,f)||(s=!0,rm(r,f));r=r.next}while(s);Ec=!1}}function $x(){sm()}function sm(){Vr=Sc=!1;var e=0;Ha!==0&&Jx()&&(e=Ha);for(var t=bt(),s=null,r=Gr;r!==null;){var d=r.next,f=nm(r,t);f===0?(r.next=null,s===null?Gr=d:s.next=d,d===null&&(sn=s)):(s=r,(e!==0||(f&3)!==0)&&(Vr=!0)),r=d}Je!==0&&Je!==5||di(e),Ha!==0&&(Ha=0)}function nm(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-wt(f),v=1<<x,E=d[x];E===-1?((v&s)===0||(v&r)!==0)&&(d[x]=dp(v,t)):E<=t&&(e.expiredLanes|=v),f&=~v}if(t=Le,s=be,s=Ji(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ml(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||On(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(r!==null&&Ml(r),Bl(s)){case 2:case 8:s=Qu;break;case 32:s=Vi;break;case 268435456:s=Xu;break;default:s=Vi}return r=im.bind(null,e),s=zl(s,r),e.callbackPriority=t,e.callbackNode=s,t}return r!==null&&r!==null&&Ml(r),e.callbackPriority=2,e.callbackNode=null,2}function im(e,t){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Kr()&&e.callbackNode!==s)return null;var r=be;return r=Ji(e,e===Le?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Bh(e,r,t),nm(e,bt()),e.callbackNode!=null&&e.callbackNode===s?im.bind(null,e):null)}function rm(e,t){if(Kr())return null;Bh(e,t,!0)}function qx(){Zx(function(){(Ee&6)!==0?zl(Yu,$x):sm()})}function Tc(){if(Ha===0){var e=Ps;e===0&&(e=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Ha=e}return Ha}function lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wi(""+e)}function om(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Bx(e,t,s,r,d){if(t==="submit"&&s&&s.stateNode===d){var f=lm((d[ft]||null).action),x=r.submitter;x&&(t=(t=x[ft]||null)?lm(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var v=new sr("action","action",null,r,d);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ha!==0){var E=x?om(d,x):new FormData(d);Qo(s,{pending:!0,data:E,method:d.method,action:f},null,E)}}else typeof f=="function"&&(v.preventDefault(),E=x?om(d,x):new FormData(d),Qo(s,{pending:!0,data:E,method:d.method,action:f},f,E))},currentTarget:d}]})}}for(var Cc=0;Cc<co.length;Cc++){var kc=co[Cc],Hx=kc.toLowerCase(),Px=kc[0].toUpperCase()+kc.slice(1);Ht(Hx,"on"+Px)}Ht($d,"onAnimationEnd"),Ht(qd,"onAnimationIteration"),Ht(Bd,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(nx,"onTransitionRun"),Ht(ix,"onTransitionStart"),Ht(rx,"onTransitionCancel"),Ht(Hd,"onTransitionEnd"),Cs("onMouseEnter",["mouseout","mouseover"]),Cs("onMouseLeave",["mouseout","mouseover"]),Cs("onPointerEnter",["pointerout","pointerover"]),Cs("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fi));function cm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],d=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var x=r.length-1;0<=x;x--){var v=r[x],E=v.instance,M=v.currentTarget;if(v=v.listener,E!==f&&d.isPropagationStopped())break e;f=v,d.currentTarget=M;try{f(d)}catch(V){rr(V)}d.currentTarget=null,f=E}else for(x=0;x<r.length;x++){if(v=r[x],E=v.instance,M=v.currentTarget,v=v.listener,E!==f&&d.isPropagationStopped())break e;f=v,d.currentTarget=M;try{f(d)}catch(V){rr(V)}d.currentTarget=null,f=E}}}}function xe(e,t){var s=t[Hl];s===void 0&&(s=t[Hl]=new Set);var r=e+"__bubble";s.has(r)||(um(t,e,2,!1),s.add(r))}function Oc(e,t,s){var r=0;t&&(r|=4),um(s,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Yr]){e[Yr]=!0,ad.forEach(function(s){s!=="selectionchange"&&(Kx.has(s)||Oc(s,!1,e),Oc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yr]||(t[Yr]=!0,Oc("selectionchange",!1,t))}}function um(e,t,s,r){switch(qm(t)){case 2:var d=xy;break;case 8:d=yy;break;default:d=Yc}s=d.bind(null,t,s,e),d=void 0,!Il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),r?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function Rc(e,t,s,r,d){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var x=r.tag;if(x===3||x===4){var v=r.stateNode.containerInfo;if(v===d)break;if(x===4)for(x=r.return;x!==null;){var E=x.tag;if((E===3||E===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;v!==null;){if(x=Ss(v),x===null)return;if(E=x.tag,E===5||E===6||E===26||E===27){r=f=x;continue e}v=v.parentNode}}r=r.return}md(function(){var M=f,V=Xl(s),X=[];e:{var B=Pd.get(e);if(B!==void 0){var K=sr,se=e;switch(e){case"keypress":if(tr(s)===0)break e;case"keydown":case"keyup":K=zp;break;case"focusin":se="focus",K=eo;break;case"focusout":se="blur",K=eo;break;case"beforeblur":case"afterblur":K=eo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qp;break;case $d:case qd:case Bd:K=Tp;break;case Hd:K=Hp;break;case"scroll":case"scrollend":K=jp;break;case"wheel":K=Kp;break;case"copy":case"cut":case"paste":K=kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=bd;break;case"toggle":case"beforetoggle":K=Vp}var oe=(t&4)!==0,Ue=!oe&&(e==="scroll"||e==="scrollend"),U=oe?B!==null?B+"Capture":null:B;oe=[];for(var A=M,z;A!==null;){var Q=A;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=Ln(A,U),Q!=null&&oe.push(hi(A,Q,z))),Ue)break;A=A.return}0<oe.length&&(B=new K(B,se,null,s,V),X.push({event:B,listeners:oe}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",B&&s!==Ql&&(se=s.relatedTarget||s.fromElement)&&(Ss(se)||se[_s]))break e;if((K||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,K?(se=s.relatedTarget||s.toElement,K=M,se=se?Ss(se):null,se!==null&&(Ue=u(se),oe=se.tag,se!==Ue||oe!==5&&oe!==27&&oe!==6)&&(se=null)):(K=null,se=M),K!==se)){if(oe=xd,Q="onMouseLeave",U="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(oe=bd,Q="onPointerLeave",U="onPointerEnter",A="pointer"),Ue=K==null?B:Un(K),z=se==null?B:Un(se),B=new oe(Q,A+"leave",K,s,V),B.target=Ue,B.relatedTarget=z,Q=null,Ss(V)===M&&(oe=new oe(U,A+"enter",se,s,V),oe.target=z,oe.relatedTarget=Ue,Q=oe),Ue=Q,K&&se)t:{for(oe=Gx,U=K,A=se,z=0,Q=U;Q;Q=oe(Q))z++;Q=0;for(var le=A;le;le=oe(le))Q++;for(;0<z-Q;)U=oe(U),z--;for(;0<Q-z;)A=oe(A),Q--;for(;z--;){if(U===A||A!==null&&U===A.alternate){oe=U;break t}U=oe(U),A=oe(A)}oe=null}else oe=null;K!==null&&dm(X,B,K,oe,!1),se!==null&&Ue!==null&&dm(X,Ue,se,oe,!0)}}e:{if(B=M?Un(M):window,K=B.nodeName&&B.nodeName.toLowerCase(),K==="select"||K==="input"&&B.type==="file")var _e=Td;else if(Sd(B))if(Cd)_e=tx;else{_e=Wp;var ie=Fp}else K=B.nodeName,!K||K.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&Yl(M.elementType)&&(_e=Td):_e=ex;if(_e&&(_e=_e(e,M))){Ed(X,_e,s,V);break e}ie&&ie(e,B,M),e==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&Vl(B,"number",B.value)}switch(ie=M?Un(M):window,e){case"focusin":(Sd(ie)||ie.contentEditable==="true")&&(Ls=ie,ro=M,Pn=null);break;case"focusout":Pn=ro=Ls=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,zd(X,s,V);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":zd(X,s,V)}var me;if(ao)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Us?Nd(e,s)&&(ve="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(vd&&s.locale!=="ko"&&(Us||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Us&&(me=gd()):(Sa=V,Zl="value"in Sa?Sa.value:Sa.textContent,Us=!0)),ie=Qr(M,ve),0<ie.length&&(ve=new yd(ve,e,null,s,V),X.push({event:ve,listeners:ie}),me?ve.data=me:(me=_d(s),me!==null&&(ve.data=me)))),(me=Qp?Xp(e,s):Jp(e,s))&&(ve=Qr(M,"onBeforeInput"),0<ve.length&&(ie=new yd("onBeforeInput","beforeinput",null,s,V),X.push({event:ie,listeners:ve}),ie.data=me)),Bx(X,e,M,s,V)}cm(X,t)})}function hi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Qr(e,t){for(var s=t+"Capture",r=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ln(e,s),d!=null&&r.unshift(hi(e,d,f)),d=Ln(e,t),d!=null&&r.push(hi(e,d,f))),e.tag===3)return r;e=e.return}return[]}function Gx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dm(e,t,s,r,d){for(var f=t._reactName,x=[];s!==null&&s!==r;){var v=s,E=v.alternate,M=v.stateNode;if(v=v.tag,E!==null&&E===r)break;v!==5&&v!==26&&v!==27||M===null||(E=M,d?(M=Ln(s,f),M!=null&&x.unshift(hi(s,M,E))):d||(M=Ln(s,f),M!=null&&x.push(hi(s,M,E)))),s=s.return}x.length!==0&&e.push({event:t,listeners:x})}var Vx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(Vx,`
`).replace(Yx,"")}function hm(e,t){return t=fm(t),fm(e)===t}function Re(e,t,s,r,d,f){switch(s){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Os(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Os(e,""+r);break;case"className":Zi(e,"class",r);break;case"tabIndex":Zi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(e,s,r);break;case"style":fd(e,r,f);break;case"data":if(t!=="object"){Zi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=Wi(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&Re(e,t,"name",d.name,d,null),Re(e,t,"formEncType",d.formEncType,d,null),Re(e,t,"formMethod",d.formMethod,d,null),Re(e,t,"formTarget",d.formTarget,d,null)):(Re(e,t,"encType",d.encType,d,null),Re(e,t,"method",d.method,d,null),Re(e,t,"target",d.target,d,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=Wi(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=ta);break;case"onScroll":r!=null&&xe("scroll",e);break;case"onScrollEnd":r!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=Wi(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Ii(e,"popover",r);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ii(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vp.get(s)||s,Ii(e,s,r))}}function Uc(e,t,s,r,d,f){switch(s){case"style":fd(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Os(e,r):(typeof r=="number"||typeof r=="bigint")&&Os(e,""+r);break;case"onScroll":r!=null&&xe("scroll",e);break;case"onScrollEnd":r!=null&&xe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),t=s.slice(2,d?s.length-7:void 0),f=e[ft]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,d),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,r,d);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Ii(e,s,r)}}}function rt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var r=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var x=s[f];if(x!=null)switch(f){case"src":r=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Re(e,t,f,x,s,null)}}d&&Re(e,t,"srcSet",s.srcSet,s,null),r&&Re(e,t,"src",s.src,s,null);return;case"input":xe("invalid",e);var v=f=x=d=null,E=null,M=null;for(r in s)if(s.hasOwnProperty(r)){var V=s[r];if(V!=null)switch(r){case"name":d=V;break;case"type":x=V;break;case"checked":E=V;break;case"defaultChecked":M=V;break;case"value":f=V;break;case"defaultValue":v=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,t));break;default:Re(e,t,r,V,s,null)}}od(e,f,v,E,M,x,d,!1);return;case"select":xe("invalid",e),r=x=f=null;for(d in s)if(s.hasOwnProperty(d)&&(v=s[d],v!=null))switch(d){case"value":f=v;break;case"defaultValue":x=v;break;case"multiple":r=v;default:Re(e,t,d,v,s,null)}t=f,s=x,e.multiple=!!r,t!=null?ks(e,!!r,t,!1):s!=null&&ks(e,!!r,s,!0);return;case"textarea":xe("invalid",e),f=d=r=null;for(x in s)if(s.hasOwnProperty(x)&&(v=s[x],v!=null))switch(x){case"value":r=v;break;case"defaultValue":d=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:Re(e,t,x,v,s,null)}ud(e,r,d,f);return;case"option":for(E in s)if(s.hasOwnProperty(E)&&(r=s[E],r!=null))switch(E){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Re(e,t,E,r,s,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(r=0;r<fi.length;r++)xe(fi[r],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(r=s[M],r!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Re(e,t,M,r,s,null)}return;default:if(Yl(t)){for(V in s)s.hasOwnProperty(V)&&(r=s[V],r!==void 0&&Uc(e,t,V,r,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(r=s[v],r!=null&&Re(e,t,v,r,s,null))}function Qx(e,t,s,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,x=null,v=null,E=null,M=null,V=null;for(K in s){var X=s[K];if(s.hasOwnProperty(K)&&X!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":E=X;default:r.hasOwnProperty(K)||Re(e,t,K,null,r,X)}}for(var B in r){var K=r[B];if(X=s[B],r.hasOwnProperty(B)&&(K!=null||X!=null))switch(B){case"type":f=K;break;case"name":d=K;break;case"checked":M=K;break;case"defaultChecked":V=K;break;case"value":x=K;break;case"defaultValue":v=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,t));break;default:K!==X&&Re(e,t,B,K,r,X)}}Gl(e,x,v,E,M,V,f,d);return;case"select":K=x=v=B=null;for(f in s)if(E=s[f],s.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":K=E;default:r.hasOwnProperty(f)||Re(e,t,f,null,r,E)}for(d in r)if(f=r[d],E=s[d],r.hasOwnProperty(d)&&(f!=null||E!=null))switch(d){case"value":B=f;break;case"defaultValue":v=f;break;case"multiple":x=f;default:f!==E&&Re(e,t,d,f,r,E)}t=v,s=x,r=K,B!=null?ks(e,!!s,B,!1):!!r!=!!s&&(t!=null?ks(e,!!s,t,!0):ks(e,!!s,s?[]:"",!1));return;case"textarea":K=B=null;for(v in s)if(d=s[v],s.hasOwnProperty(v)&&d!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Re(e,t,v,null,r,d)}for(x in r)if(d=r[x],f=s[x],r.hasOwnProperty(x)&&(d!=null||f!=null))switch(x){case"value":B=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&Re(e,t,x,d,r,f)}cd(e,B,K);return;case"option":for(var se in s)if(B=s[se],s.hasOwnProperty(se)&&B!=null&&!r.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Re(e,t,se,null,r,B)}for(E in r)if(B=r[E],K=s[E],r.hasOwnProperty(E)&&B!==K&&(B!=null||K!=null))switch(E){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Re(e,t,E,B,r,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in s)B=s[oe],s.hasOwnProperty(oe)&&B!=null&&!r.hasOwnProperty(oe)&&Re(e,t,oe,null,r,B);for(M in r)if(B=r[M],K=s[M],r.hasOwnProperty(M)&&B!==K&&(B!=null||K!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:Re(e,t,M,B,r,K)}return;default:if(Yl(t)){for(var Ue in s)B=s[Ue],s.hasOwnProperty(Ue)&&B!==void 0&&!r.hasOwnProperty(Ue)&&Uc(e,t,Ue,void 0,r,B);for(V in r)B=r[V],K=s[V],!r.hasOwnProperty(V)||B===K||B===void 0&&K===void 0||Uc(e,t,V,B,r,K);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!r.hasOwnProperty(U)&&Re(e,t,U,null,r,B);for(X in r)B=r[X],K=s[X],!r.hasOwnProperty(X)||B===K||B==null&&K==null||Re(e,t,X,B,r,K)}function mm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var d=s[r],f=d.transferSize,x=d.initiatorType,v=d.duration;if(f&&v&&mm(x)){for(x=0,v=d.responseEnd,r+=1;r<s.length;r++){var E=s[r],M=E.startTime;if(M>v)break;var V=E.transferSize,X=E.initiatorType;V&&mm(X)&&(E=E.responseEnd,x+=V*(E<v?1:(v-M)/(E-M)))}if(--r,t+=8*(f+x)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lc=null,Dc=null;function Xr(e){return e.nodeType===9?e:e.ownerDocument}function gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mc=null;function Jx(){var e=window.event;return e&&e.type==="popstate"?e===Mc?!1:(Mc=e,!0):(Mc=null,!1)}var xm=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(e){return ym.resolve(null).then(e).catch(Fx)}:xm;function Fx(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function bm(e,t){var s=t,r=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(d),on(t);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")mi(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,mi(s);for(var f=s.firstChild;f;){var x=f.nextSibling,v=f.nodeName;f[Rn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=x}}else s==="body"&&mi(e.ownerDocument.body);s=d}while(s);on(t)}function vm(e,t){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function $c(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":$c(s),Pl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Wx(e,t,s,r){for(;e.nodeType===1;){var d=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mt(e.nextSibling),e===null)break}return null}function ey(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mt(e.nextSibling),e===null))return null;return e}function wm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mt(e.nextSibling),e===null))return null;return e}function qc(e){return e.data==="$?"||e.data==="$~"}function Bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ty(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var r=function(){t(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hc=null;function jm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Mt(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function _m(e,t,s){switch(t=Xr(s),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pl(e)}var $t=new Map,Sm=new Set;function Jr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=F.d;F.d={f:ay,r:sy,D:ny,C:iy,L:ry,m:ly,X:cy,S:oy,M:uy};function ay(){var e=xa.f(),t=Br();return e||t}function sy(e){var t=Es(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):xa.r(e)}var nn=typeof document>"u"?null:document;function Em(e,t,s){var r=nn;if(r&&typeof t=="string"&&t){var d=Ot(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Sm.has(d)||(Sm.add(d),e={rel:e,crossOrigin:s,href:t},r.querySelector(d)===null&&(t=r.createElement("link"),rt(t,"link",e),We(t),r.head.appendChild(t)))}}function ny(e){xa.D(e),Em("dns-prefetch",e,null)}function iy(e,t){xa.C(e,t),Em("preconnect",e,t)}function ry(e,t,s){xa.L(e,t,s);var r=nn;if(r&&e&&t){var d='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Ot(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Ot(s.imageSizes)+'"]')):d+='[href="'+Ot(e)+'"]';var f=d;switch(t){case"style":f=rn(e);break;case"script":f=ln(e)}$t.has(f)||(e=b({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),$t.set(f,e),r.querySelector(d)!==null||t==="style"&&r.querySelector(gi(f))||t==="script"&&r.querySelector(pi(f))||(t=r.createElement("link"),rt(t,"link",e),We(t),r.head.appendChild(t)))}}function ly(e,t){xa.m(e,t);var s=nn;if(s&&e){var r=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Ot(r)+'"][href="'+Ot(e)+'"]',f=d;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ln(e)}if(!$t.has(f)&&(e=b({rel:"modulepreload",href:e},t),$t.set(f,e),s.querySelector(d)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(pi(f)))return}r=s.createElement("link"),rt(r,"link",e),We(r),s.head.appendChild(r)}}}function oy(e,t,s){xa.S(e,t,s);var r=nn;if(r&&e){var d=Ts(r).hoistableStyles,f=rn(e);t=t||"default";var x=d.get(f);if(!x){var v={loading:0,preload:null};if(x=r.querySelector(gi(f)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},s),(s=$t.get(f))&&Pc(e,s);var E=x=r.createElement("link");We(E),rt(E,"link",e),E._p=new Promise(function(M,V){E.onload=M,E.onerror=V}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ir(x,t,r)}x={type:"stylesheet",instance:x,count:1,state:v},d.set(f,x)}}}function cy(e,t){xa.X(e,t);var s=nn;if(s&&e){var r=Ts(s).hoistableScripts,d=ln(e),f=r.get(d);f||(f=s.querySelector(pi(d)),f||(e=b({src:e,async:!0},t),(t=$t.get(d))&&Kc(e,t),f=s.createElement("script"),We(f),rt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(d,f))}}function uy(e,t){xa.M(e,t);var s=nn;if(s&&e){var r=Ts(s).hoistableScripts,d=ln(e),f=r.get(d);f||(f=s.querySelector(pi(d)),f||(e=b({src:e,async:!0,type:"module"},t),(t=$t.get(d))&&Kc(e,t),f=s.createElement("script"),We(f),rt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(d,f))}}function Tm(e,t,s,r){var d=(d=ge.current)?Jr(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=rn(s.href),s=Ts(d).hoistableStyles,r=s.get(t),r||(r={type:"style",instance:null,count:0,state:null},s.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=rn(s.href);var f=Ts(d).hoistableStyles,x=f.get(e);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=d.querySelector(gi(e)))&&!f._p&&(x.instance=f,x.state.loading=5),$t.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$t.set(e,s),f||dy(d,e,s,x.state))),t&&r===null)throw Error(i(528,""));return x}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ln(s),s=Ts(d).hoistableScripts,r=s.get(t),r||(r={type:"script",instance:null,count:0,state:null},s.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function rn(e){return'href="'+Ot(e)+'"'}function gi(e){return'link[rel="stylesheet"]['+e+"]"}function Cm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function dy(e,t,s,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),rt(t,"link",s),We(t),e.head.appendChild(t))}function ln(e){return'[src="'+Ot(e)+'"]'}function pi(e){return"script[async]"+e}function km(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ot(s.href)+'"]');if(r)return t.instance=r,We(r),r;var d=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),We(r),rt(r,"style",d),Ir(r,s.precedence,e),t.instance=r;case"stylesheet":d=rn(s.href);var f=e.querySelector(gi(d));if(f)return t.state.loading|=4,t.instance=f,We(f),f;r=Cm(s),(d=$t.get(d))&&Pc(r,d),f=(e.ownerDocument||e).createElement("link"),We(f);var x=f;return x._p=new Promise(function(v,E){x.onload=v,x.onerror=E}),rt(f,"link",r),t.state.loading|=4,Ir(f,s.precedence,e),t.instance=f;case"script":return f=ln(s.src),(d=e.querySelector(pi(f)))?(t.instance=d,We(d),d):(r=s,(d=$t.get(f))&&(r=b({},s),Kc(r,d)),e=e.ownerDocument||e,d=e.createElement("script"),We(d),rt(d,"link",r),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Ir(r,s.precedence,e));return t.instance}function Ir(e,t,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=r.length?r[r.length-1]:null,f=d,x=0;x<r.length;x++){var v=r[x];if(v.dataset.precedence===t)f=v;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zr=null;function Om(e,t,s){if(Zr===null){var r=new Map,d=Zr=new Map;d.set(s,r)}else d=Zr,r=d.get(s),r||(r=new Map,d.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),d=0;d<s.length;d++){var f=s[d];if(!(f[Rn]||f[at]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var v=r.get(x);v?v.push(f):r.set(x,[f])}}return r}function Am(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function fy(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hy(e,t,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=rn(r.href),f=t.querySelector(gi(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Fr.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=f,We(f);return}f=t.ownerDocument||t,r=Cm(r),(d=$t.get(d))&&Pc(r,d),f=f.createElement("link"),We(f);var x=f;x._p=new Promise(function(v,E){x.onload=v,x.onerror=E}),rt(f,"link",r),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Fr.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Gc=0;function my(e,t){return e.stylesheets&&e.count===0&&el(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&el(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Gc===0&&(Gc=62500*Xx());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&el(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Gc?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(d)}}:null}function Fr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)el(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wr=null;function el(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wr=new Map,t.forEach(gy,e),Wr=null,Fr.call(e))}function gy(e,t){if(!(t.state.loading&4)){var s=Wr.get(e);if(s)var r=s.get(null);else{s=new Map,Wr.set(e,s);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var x=d[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),r=x)}r&&s.set(null,r)}d=t.instance,x=d.getAttribute("data-precedence"),f=s.get(x)||r,f===r&&s.set(null,d),s.set(x,d),this.count++,r=Fr.bind(this),d.addEventListener("load",r),d.addEventListener("error",r),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var xi={$$typeof:S,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function py(e,t,s,r,d,f,x,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=r,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Um(e,t,s,r,d,f,x,v,E,M,V,X){return e=new py(e,t,s,x,E,M,V,X,v),t=1,f===!0&&(t|=24),f=Nt(3,null,null,t),e.current=f,f.stateNode=e,t=No(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:t},To(f),e}function Lm(e){return e?(e=Ms,e):Ms}function Dm(e,t,s,r,d,f){d=Lm(d),r.context===null?r.context=d:r.pendingContext=d,r=Aa(t),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=Ra(e,r,t),s!==null&&(yt(s,e,t),Jn(s,e,t))}function zm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Vc(e,t){zm(e,t),(e=e.alternate)&&zm(e,t)}function Mm(e){if(e.tag===13||e.tag===31){var t=ns(e,67108864);t!==null&&yt(t,e,67108864),Vc(e,67108864)}}function $m(e){if(e.tag===13||e.tag===31){var t=Ct();t=ql(t);var s=ns(e,t);s!==null&&yt(s,e,t),Vc(e,t)}}var tl=!0;function xy(e,t,s,r){var d=P.T;P.T=null;var f=F.p;try{F.p=2,Yc(e,t,s,r)}finally{F.p=f,P.T=d}}function yy(e,t,s,r){var d=P.T;P.T=null;var f=F.p;try{F.p=8,Yc(e,t,s,r)}finally{F.p=f,P.T=d}}function Yc(e,t,s,r){if(tl){var d=Qc(r);if(d===null)Rc(e,t,r,al,s),Bm(e,r);else if(vy(d,e,t,s,r))r.stopPropagation();else if(Bm(e,r),t&4&&-1<by.indexOf(e)){for(;d!==null;){var f=Es(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Wa(f.pendingLanes);if(x!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var E=1<<31-wt(x);v.entanglements[1]|=E,x&=~E}Jt(f),(Ee&6)===0&&($r=bt()+500,di(0))}}break;case 31:case 13:v=ns(f,2),v!==null&&yt(v,f,2),Br(),Vc(f,2)}if(f=Qc(r),f===null&&Rc(e,t,r,al,s),f===d)break;d=f}d!==null&&r.stopPropagation()}else Rc(e,t,r,null,s)}}function Qc(e){return e=Xl(e),Xc(e)}var al=null;function Xc(e){if(al=null,e=Ss(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=m(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return al=e,null}function qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(np()){case Yu:return 2;case Qu:return 8;case Vi:case ip:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var Jc=!1,Ka=null,Ga=null,Va=null,yi=new Map,bi=new Map,Ya=[],by="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bm(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(t.pointerId)}}function vi(e,t,s,r,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Es(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function vy(e,t,s,r,d){switch(t){case"focusin":return Ka=vi(Ka,e,t,s,r,d),!0;case"dragenter":return Ga=vi(Ga,e,t,s,r,d),!0;case"mouseover":return Va=vi(Va,e,t,s,r,d),!0;case"pointerover":var f=d.pointerId;return yi.set(f,vi(yi.get(f)||null,e,t,s,r,d)),!0;case"gotpointercapture":return f=d.pointerId,bi.set(f,vi(bi.get(f)||null,e,t,s,r,d)),!0}return!1}function Hm(e){var t=Ss(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,ed(e.priority,function(){$m(s)});return}}else if(t===31){if(t=m(s),t!==null){e.blockedOn=t,ed(e.priority,function(){$m(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qc(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Ql=r,s.target.dispatchEvent(r),Ql=null}else return t=Es(s),t!==null&&Mm(t),e.blockedOn=s,!1;t.shift()}return!0}function Pm(e,t,s){sl(e)&&s.delete(t)}function wy(){Jc=!1,Ka!==null&&sl(Ka)&&(Ka=null),Ga!==null&&sl(Ga)&&(Ga=null),Va!==null&&sl(Va)&&(Va=null),yi.forEach(Pm),bi.forEach(Pm)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wy)))}var il=null;function Km(e){il!==e&&(il=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){il===e&&(il=null);for(var t=0;t<e.length;t+=3){var s=e[t],r=e[t+1],d=e[t+2];if(typeof r!="function"){if(Xc(r||s)===null)continue;break}var f=Es(s);f!==null&&(e.splice(t,3),t-=3,Qo(f,{pending:!0,data:d,method:s.method,action:r},r,d))}}))}function on(e){function t(E){return nl(E,e)}Ka!==null&&nl(Ka,e),Ga!==null&&nl(Ga,e),Va!==null&&nl(Va,e),yi.forEach(t),bi.forEach(t);for(var s=0;s<Ya.length;s++){var r=Ya[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ya.length&&(s=Ya[0],s.blockedOn===null);)Hm(s),s.blockedOn===null&&Ya.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var d=s[r],f=s[r+1],x=d[ft]||null;if(typeof f=="function")x||Km(s);else if(x){var v=null;if(f&&f.hasAttribute("formAction")){if(d=f,x=f[ft]||null)v=x.formAction;else if(Xc(d)!==null)continue}else v=x.action;typeof v=="function"?s[r+1]=v:(s.splice(r,3),r-=3),Km(s)}}}function Gm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Ic(e){this._internalRoot=e}rl.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var s=t.current,r=Ct();Dm(s,r,e,t,null,null)},rl.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dm(e.current,2,null,e,null,null),Br(),t[_s]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ya.length&&t!==0&&t<Ya[s].priority;s++);Ya.splice(s,0,e),s===0&&Hm(e)}};var Vm=a.version;if(Vm!=="19.2.0")throw Error(i(527,Vm,"19.2.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var jy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{kn=ll.inject(jy),vt=ll}catch{}}return Ni.createRoot=function(e,t){if(!c(e))throw Error(i(299));var s=!1,r="",d=Ff,f=Wf,x=eh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Um(e,1,!1,null,null,s,r,null,d,f,x,Gm),e[_s]=t.current,Ac(e),new Ic(t)},Ni.hydrateRoot=function(e,t,s){if(!c(e))throw Error(i(299));var r=!1,d="",f=Ff,x=Wf,v=eh,E=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(E=s.formState)),t=Um(e,1,!0,t,s??null,r,d,E,f,x,v,Gm),t.context=Lm(null),s=t.current,r=Ct(),r=ql(r),d=Aa(r),d.callback=null,Ra(s,d,r),s=r,t.current.lanes=s,An(t,s),Jt(t),e[_s]=t.current,Ac(e),new rl(t)},Ni.version="19.2.0",Ni}var vg;function Nb(){if(vg)return tu.exports;vg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),tu.exports=jb(),tu.exports}var _b=Nb();var wg="popstate";function Sb(o={}){function a(i,c){let{pathname:u,search:h,hash:m}=i.location;return yu("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){return typeof c=="string"?c:Di(c)}return Tb(a,n,null,o)}function Fe(o,a){if(o===!1||o===null||typeof o>"u")throw new Error(a)}function qt(o,a){if(!o){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Eb(){return Math.random().toString(36).substring(2,10)}function jg(o,a){return{usr:o.state,key:o.key,idx:a}}function yu(o,a,n=null,i){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof a=="string"?qi(a):a,state:n,key:a&&a.key||i||Eb()}}function Di({pathname:o="/",search:a="",hash:n=""}){return a&&a!=="?"&&(o+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(o+=n.charAt(0)==="#"?n:"#"+n),o}function qi(o){let a={};if(o){let n=o.indexOf("#");n>=0&&(a.hash=o.substring(n),o=o.substring(0,n));let i=o.indexOf("?");i>=0&&(a.search=o.substring(i),o=o.substring(0,i)),o&&(a.pathname=o)}return a}function Tb(o,a,n,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,h=c.history,m="POP",p=null,g=y();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function y(){return(h.state||{idx:null}).idx}function b(){m="POP";let R=y(),H=R==null?null:R-g;g=R,p&&p({action:m,location:N.location,delta:H})}function w(R,H){m="PUSH";let C=yu(N.location,R,H);g=y()+1;let S=jg(C,g),k=N.createHref(C);try{h.pushState(S,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;c.location.assign(k)}u&&p&&p({action:m,location:N.location,delta:1})}function j(R,H){m="REPLACE";let C=yu(N.location,R,H);g=y();let S=jg(C,g),k=N.createHref(C);h.replaceState(S,"",k),u&&p&&p({action:m,location:N.location,delta:0})}function _(R){return Cb(R)}let N={get action(){return m},get location(){return o(c,h)},listen(R){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(wg,b),p=R,()=>{c.removeEventListener(wg,b),p=null}},createHref(R){return a(c,R)},createURL:_,encodeLocation(R){let H=_(R);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:j,go(R){return h.go(R)}};return N}function Cb(o,a=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(n,"No window.location.(origin|href) available to create URL");let i=typeof o=="string"?o:Di(o);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function c0(o,a,n="/"){return kb(o,a,n,!1)}function kb(o,a,n,i){let c=typeof a=="string"?qi(a):a,u=wa(c.pathname||"/",n);if(u==null)return null;let h=u0(o);Ob(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Hb(u);m=qb(h[p],g,i)}return m}function u0(o,a=[],n=[],i="",c=!1){let u=(h,m,p=c,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&p)return;Fe(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let b=va([i,y.relativePath]),w=n.concat(y);h.children&&h.children.length>0&&(Fe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),u0(h.children,a,w,b,p)),!(h.path==null&&!h.index)&&a.push({path:b,score:Mb(b,h.index),routesMeta:w})};return o.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of d0(h.path))u(h,m,!0,p)}),a}function d0(o){let a=o.split("/");if(a.length===0)return[];let[n,...i]=a,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let h=d0(i.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),c&&m.push(...h),m.map(p=>o.startsWith("/")&&p===""?"/":p)}function Ob(o){o.sort((a,n)=>a.score!==n.score?n.score-a.score:$b(a.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Ab=/^:[\w-]+$/,Rb=3,Ub=2,Lb=1,Db=10,zb=-2,Ng=o=>o==="*";function Mb(o,a){let n=o.split("/"),i=n.length;return n.some(Ng)&&(i+=zb),a&&(i+=Ub),n.filter(c=>!Ng(c)).reduce((c,u)=>c+(Ab.test(u)?Rb:u===""?Lb:Db),i)}function $b(o,a){return o.length===a.length&&o.slice(0,-1).every((i,c)=>i===a[c])?o[o.length-1]-a[a.length-1]:0}function qb(o,a,n=!1){let{routesMeta:i}=o,c={},u="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,y=u==="/"?a:a.slice(u.length)||"/",b=jl({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),w=p.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=jl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:va([u,b.pathname]),pathnameBase:Yb(va([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=va([u,b.pathnameBase]))}return h}function jl(o,a){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[n,i]=Bb(o.path,o.caseSensitive,o.end),c=a.match(n);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:b},w)=>{if(y==="*"){let _=m[w]||"";h=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const j=m[w];return b&&!j?g[y]=void 0:g[y]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:o}}function Bb(o,a=!1,n=!0){qt(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let i=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(i.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),i]}function Hb(o){try{return o.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return qt(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),o}}function wa(o,a){if(a==="/")return o;if(!o.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,i=o.charAt(n);return i&&i!=="/"?null:o.slice(n)||"/"}var Pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kb=o=>Pb.test(o);function Gb(o,a="/"){let{pathname:n,search:i="",hash:c=""}=typeof o=="string"?qi(o):o,u;if(n)if(Kb(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=_g(n.substring(1),"/"):u=_g(n,a)}else u=a;return{pathname:u,search:Qb(i),hash:Xb(c)}}function _g(o,a){let n=a.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function iu(o,a,n,i){return`Cannot include a '${o}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vb(o){return o.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function f0(o){let a=Vb(o);return a.map((n,i)=>i===a.length-1?n.pathname:n.pathnameBase)}function h0(o,a,n,i=!1){let c;typeof o=="string"?c=qi(o):(c={...o},Fe(!c.pathname||!c.pathname.includes("?"),iu("?","pathname","search",c)),Fe(!c.pathname||!c.pathname.includes("#"),iu("#","pathname","hash",c)),Fe(!c.search||!c.search.includes("#"),iu("#","search","hash",c)));let u=o===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=n;else{let b=a.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;c.pathname=w.join("/")}m=b>=0?a[b]:"/"}let p=Gb(c,m),g=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var va=o=>o.join("/").replace(/\/\/+/g,"/"),Yb=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Xb=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Jb(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m0=["POST","PUT","PATCH","DELETE"];new Set(m0);var Ib=["GET",...m0];new Set(Ib);var En=T.createContext(null);En.displayName="DataRouter";var Cl=T.createContext(null);Cl.displayName="DataRouterState";T.createContext(!1);var g0=T.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var Zb=T.createContext(new Map);Zb.displayName="Fetchers";var Fb=T.createContext(null);Fb.displayName="Await";var Ft=T.createContext(null);Ft.displayName="Navigation";var kl=T.createContext(null);kl.displayName="Location";var ja=T.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var Uu=T.createContext(null);Uu.displayName="RouteError";function Wb(o,{relative:a}={}){Fe(Bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=T.useContext(Ft),{hash:c,pathname:u,search:h}=Hi(o,{relative:a}),m=u;return n!=="/"&&(m=u==="/"?n:va([n,u])),i.createHref({pathname:m,search:h,hash:c})}function Bi(){return T.useContext(kl)!=null}function Wt(){return Fe(Bi(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(kl).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x0(o){T.useContext(Ft).static||T.useLayoutEffect(o)}function qe(){let{isDataRoute:o}=T.useContext(ja);return o?fv():ev()}function ev(){Fe(Bi(),"useNavigate() may be used only in the context of a <Router> component.");let o=T.useContext(En),{basename:a,navigator:n}=T.useContext(Ft),{matches:i}=T.useContext(ja),{pathname:c}=Wt(),u=JSON.stringify(f0(i)),h=T.useRef(!1);return x0(()=>{h.current=!0}),T.useCallback((p,g={})=>{if(qt(h.current,p0),!h.current)return;if(typeof p=="number"){n.go(p);return}let y=h0(p,JSON.parse(u),c,g.relative==="path");o==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:va([a,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[a,n,u,c,o])}T.createContext(null);function Hi(o,{relative:a}={}){let{matches:n}=T.useContext(ja),{pathname:i}=Wt(),c=JSON.stringify(f0(n));return T.useMemo(()=>h0(o,JSON.parse(c),i,a==="path"),[o,c,i,a])}function tv(o,a){return y0(o)}function y0(o,a,n,i,c){Fe(Bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(Ft),{matches:h}=T.useContext(ja),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",b=m&&m.route;{let C=b&&b.path||"";b0(g,!b||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=Wt(),j;j=w;let _=j.pathname||"/",N=_;if(y!=="/"){let C=y.replace(/^\//,"").split("/");N="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let R=c0(o,{pathname:N});return qt(b||R!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),qt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),rv(R&&R.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:va([y,u.encodeLocation?u.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?y:va([y,u.encodeLocation?u.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),h,n,i,c)}function av(){let o=dv(),a=Jb(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),n=o instanceof Error?o.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",o),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),n?T.createElement("pre",{style:c},n):null,h)}var sv=T.createElement(av,null),nv=class extends T.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,a){return a.location!==o.location||a.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:a.error,location:a.location,revalidation:o.revalidation||a.revalidation}}componentDidCatch(o,a){this.props.onError?this.props.onError(o,a):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?T.createElement(ja.Provider,{value:this.props.routeContext},T.createElement(Uu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iv({routeContext:o,match:a,children:n}){let i=T.useContext(En);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(ja.Provider,{value:o},n)}function rv(o,a=[],n=null,i=null,c=null){if(o==null){if(!n)return null;if(n.errors)o=n.matches;else if(a.length===0&&!n.initialized&&n.matches.length>0)o=n.matches;else return null}let u=o,h=n?.errors;if(h!=null){let y=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);Fe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:w,errors:j}=n,_=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||_){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&i?(y,b)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return u.reduceRight((y,b,w)=>{let j,_=!1,N=null,R=null;n&&(j=h&&b.route.id?h[b.route.id]:void 0,N=b.route.errorElement||sv,m&&(p<0&&w===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,R=null):p===w&&(_=!0,R=b.route.hydrateFallbackElement||null)));let H=a.concat(u.slice(0,w+1)),C=()=>{let S;return j?S=N:_?S=R:b.route.Component?S=T.createElement(b.route.Component,null):b.route.element?S=b.route.element:S=y,T.createElement(iv,{match:b,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:S})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?T.createElement(nv,{location:n.location,revalidation:n.revalidation,component:N,error:j,children:C(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:g}):C()},null)}function Lu(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lv(o){let a=T.useContext(En);return Fe(a,Lu(o)),a}function ov(o){let a=T.useContext(Cl);return Fe(a,Lu(o)),a}function cv(o){let a=T.useContext(ja);return Fe(a,Lu(o)),a}function Du(o){let a=cv(o),n=a.matches[a.matches.length-1];return Fe(n.route.id,`${o} can only be used on routes that contain a unique "id"`),n.route.id}function uv(){return Du("useRouteId")}function dv(){let o=T.useContext(Uu),a=ov("useRouteError"),n=Du("useRouteError");return o!==void 0?o:a.errors?.[n]}function fv(){let{router:o}=lv("useNavigate"),a=Du("useNavigate"),n=T.useRef(!1);return x0(()=>{n.current=!0}),T.useCallback(async(c,u={})=>{qt(n.current,p0),n.current&&(typeof c=="number"?o.navigate(c):await o.navigate(c,{fromRouteId:a,...u}))},[o,a])}var Sg={};function b0(o,a,n){!a&&!Sg[o]&&(Sg[o]=!0,qt(!1,n))}T.memo(hv);function hv({routes:o,future:a,state:n,unstable_onError:i}){return y0(o,void 0,n,i,a)}function mv({basename:o="/",children:a=null,location:n,navigationType:i="POP",navigator:c,static:u=!1}){Fe(!Bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=o.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:h,navigator:c,static:u,future:{}}),[h,c,u]);typeof n=="string"&&(n=qi(n));let{pathname:p="/",search:g="",hash:y="",state:b=null,key:w="default"}=n,j=T.useMemo(()=>{let _=wa(p,h);return _==null?null:{location:{pathname:_,search:g,hash:y,state:b,key:w},navigationType:i}},[h,p,g,y,b,w,i]);return qt(j!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:T.createElement(Ft.Provider,{value:m},T.createElement(kl.Provider,{children:a,value:j}))}var pl="get",xl="application/x-www-form-urlencoded";function Ol(o){return o!=null&&typeof o.tagName=="string"}function gv(o){return Ol(o)&&o.tagName.toLowerCase()==="button"}function pv(o){return Ol(o)&&o.tagName.toLowerCase()==="form"}function xv(o){return Ol(o)&&o.tagName.toLowerCase()==="input"}function yv(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function bv(o,a){return o.button===0&&(!a||a==="_self")&&!yv(o)}function bu(o=""){return new URLSearchParams(typeof o=="string"||Array.isArray(o)||o instanceof URLSearchParams?o:Object.keys(o).reduce((a,n)=>{let i=o[n];return a.concat(Array.isArray(i)?i.map(c=>[n,c]):[[n,i]])},[]))}function vv(o,a){let n=bu(o);return a&&a.forEach((i,c)=>{n.has(c)||a.getAll(c).forEach(u=>{n.append(c,u)})}),n}var cl=null;function wv(){if(cl===null)try{new FormData(document.createElement("form"),0),cl=!1}catch{cl=!0}return cl}var jv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ru(o){return o!=null&&!jv.has(o)?(qt(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xl}"`),null):o}function Nv(o,a){let n,i,c,u,h;if(pv(o)){let m=o.getAttribute("action");i=m?wa(m,a):null,n=o.getAttribute("method")||pl,c=ru(o.getAttribute("enctype"))||xl,u=new FormData(o)}else if(gv(o)||xv(o)&&(o.type==="submit"||o.type==="image")){let m=o.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=o.getAttribute("formaction")||m.getAttribute("action");if(i=p?wa(p,a):null,n=o.getAttribute("formmethod")||m.getAttribute("method")||pl,c=ru(o.getAttribute("formenctype"))||ru(m.getAttribute("enctype"))||xl,u=new FormData(m,o),!wv()){let{name:g,type:y,value:b}=o;if(y==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(Ol(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pl,i=null,c=xl,h=o}return u&&c==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zu(o,a){if(o===!1||o===null||typeof o>"u")throw new Error(a)}function _v(o,a,n){let i=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return i.pathname==="/"?i.pathname=`_root.${n}`:a&&wa(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Sv(o,a){if(o.id in a)return a[o.id];try{let n=await import(o.module);return a[o.id]=n,n}catch(n){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ev(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function Tv(o,a,n){let i=await Promise.all(o.map(async c=>{let u=a.routes[c.route.id];if(u){let h=await Sv(u,n);return h.links?h.links():[]}return[]}));return Av(i.flat(1).filter(Ev).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Eg(o,a,n,i,c,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?a.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?a.filter((p,g)=>{let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Cv(o,a,{includeHydrateFallback:n}={}){return kv(o.map(i=>{let c=a.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function kv(o){return[...new Set(o)]}function Ov(o){let a={},n=Object.keys(o).sort();for(let i of n)a[i]=o[i];return a}function Av(o,a){let n=new Set;return new Set(a),o.reduce((i,c)=>{let u=JSON.stringify(Ov(c));return n.has(u)||(n.add(u),i.push({key:u,link:c})),i},[])}function v0(){let o=T.useContext(En);return zu(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function Rv(){let o=T.useContext(Cl);return zu(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Mu=T.createContext(void 0);Mu.displayName="FrameworkContext";function w0(){let o=T.useContext(Mu);return zu(o,"You must render this element inside a <HydratedRouter> element"),o}function Uv(o,a){let n=T.useContext(Mu),[i,c]=T.useState(!1),[u,h]=T.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=a,w=T.useRef(null);T.useEffect(()=>{if(o==="render"&&h(!0),o==="viewport"){let N=H=>{H.forEach(C=>{h(C.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[o]),T.useEffect(()=>{if(i){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[i]);let j=()=>{c(!0)},_=()=>{c(!1),h(!1)};return n?o!=="intent"?[u,w,{}]:[u,w,{onFocus:_i(m,j),onBlur:_i(p,_),onMouseEnter:_i(g,j),onMouseLeave:_i(y,_),onTouchStart:_i(b,j)}]:[!1,w,{}]}function _i(o,a){return n=>{o&&o(n),n.defaultPrevented||a(n)}}function Lv({page:o,...a}){let{router:n}=v0(),i=T.useMemo(()=>c0(n.routes,o,n.basename),[n.routes,o,n.basename]);return i?T.createElement(zv,{page:o,matches:i,...a}):null}function Dv(o){let{manifest:a,routeModules:n}=w0(),[i,c]=T.useState([]);return T.useEffect(()=>{let u=!1;return Tv(o,a,n).then(h=>{u||c(h)}),()=>{u=!0}},[o,a,n]),i}function zv({page:o,matches:a,...n}){let i=Wt(),{manifest:c,routeModules:u}=w0(),{basename:h}=v0(),{loaderData:m,matches:p}=Rv(),g=T.useMemo(()=>Eg(o,a,p,c,i,"data"),[o,a,p,c,i]),y=T.useMemo(()=>Eg(o,a,p,c,i,"assets"),[o,a,p,c,i]),b=T.useMemo(()=>{if(o===i.pathname+i.search+i.hash)return[];let _=new Set,N=!1;if(a.forEach(H=>{let C=c.routes[H.route.id];!C||!C.hasLoader||(!g.some(S=>S.route.id===H.route.id)&&H.route.id in m&&u[H.route.id]?.shouldRevalidate||C.hasClientLoader?N=!0:_.add(H.route.id))}),_.size===0)return[];let R=_v(o,h,"data");return N&&_.size>0&&R.searchParams.set("_routes",a.filter(H=>_.has(H.route.id)).map(H=>H.route.id).join(",")),[R.pathname+R.search]},[h,m,i,c,g,a,o,u]),w=T.useMemo(()=>Cv(y,c),[y,c]),j=Dv(y);return T.createElement(T.Fragment,null,b.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),w.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),j.map(({key:_,link:N})=>T.createElement("link",{key:_,nonce:n.nonce,...N})))}function Mv(...o){return a=>{o.forEach(n=>{typeof n=="function"?n(a):n!=null&&(n.current=a)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.9.6")}catch{}function $v({basename:o,children:a,window:n}){let i=T.useRef();i.current==null&&(i.current=Sb({window:n,v5Compat:!0}));let c=i.current,[u,h]=T.useState({action:c.action,location:c.location}),m=T.useCallback(p=>{T.startTransition(()=>h(p))},[h]);return T.useLayoutEffect(()=>c.listen(m),[c,m]),T.createElement(mv,{basename:o,children:a,location:u.location,navigationType:u.action,navigator:c})}var N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=T.forwardRef(function({onClick:a,discover:n="render",prefetch:i="none",relative:c,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:y,viewTransition:b,...w},j){let{basename:_}=T.useContext(Ft),N=typeof g=="string"&&N0.test(g),R,H=!1;if(typeof g=="string"&&N&&(R=g,j0))try{let J=new URL(window.location.href),I=g.startsWith("//")?new URL(J.protocol+g):new URL(g),G=wa(I.pathname,_);I.origin===J.origin&&G!=null?g=G+I.search+I.hash:H=!0}catch{qt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Wb(g,{relative:c}),[S,k,L]=Uv(i,w),$=Pv(g,{replace:h,state:m,target:p,preventScrollReset:y,relative:c,viewTransition:b});function q(J){a&&a(J),J.defaultPrevented||$(J)}let D=T.createElement("a",{...w,...L,href:R||C,onClick:H||u?a:q,ref:Mv(j,k),target:p,"data-discover":!N&&n==="render"?"true":void 0});return S&&!N?T.createElement(T.Fragment,null,D,T.createElement(Lv,{page:C})):D});_0.displayName="Link";var qv=T.forwardRef(function({"aria-current":a="page",caseSensitive:n=!1,className:i="",end:c=!1,style:u,to:h,viewTransition:m,children:p,...g},y){let b=Hi(h,{relative:g.relative}),w=Wt(),j=T.useContext(Cl),{navigator:_,basename:N}=T.useContext(Ft),R=j!=null&&Qv(b)&&m===!0,H=_.encodeLocation?_.encodeLocation(b).pathname:b.pathname,C=w.pathname,S=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(C=C.toLowerCase(),S=S?S.toLowerCase():null,H=H.toLowerCase()),S&&N&&(S=wa(S,N)||S);const k=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let L=C===H||!c&&C.startsWith(H)&&C.charAt(k)==="/",$=S!=null&&(S===H||!c&&S.startsWith(H)&&S.charAt(H.length)==="/"),q={isActive:L,isPending:$,isTransitioning:R},D=L?a:void 0,J;typeof i=="function"?J=i(q):J=[i,L?"active":null,$?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(q):u;return T.createElement(_0,{...g,"aria-current":D,className:J,ref:y,style:I,to:h,viewTransition:m},typeof p=="function"?p(q):p)});qv.displayName="NavLink";var Bv=T.forwardRef(({discover:o="render",fetcherKey:a,navigate:n,reloadDocument:i,replace:c,state:u,method:h=pl,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:b,...w},j)=>{let _=Vv(),N=Yv(m,{relative:g}),R=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&N0.test(m),C=S=>{if(p&&p(S),S.defaultPrevented)return;S.preventDefault();let k=S.nativeEvent.submitter,L=k?.getAttribute("formmethod")||h;_(k||S.currentTarget,{fetcherKey:a,method:L,navigate:n,replace:c,state:u,relative:g,preventScrollReset:y,viewTransition:b})};return T.createElement("form",{ref:j,method:R,action:N,onSubmit:i?p:C,...w,"data-discover":!H&&o==="render"?"true":void 0})});Bv.displayName="Form";function Hv(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S0(o){let a=T.useContext(En);return Fe(a,Hv(o)),a}function Pv(o,{target:a,replace:n,state:i,preventScrollReset:c,relative:u,viewTransition:h}={}){let m=qe(),p=Wt(),g=Hi(o,{relative:u});return T.useCallback(y=>{if(bv(y,a)){y.preventDefault();let b=n!==void 0?n:Di(p)===Di(g);m(o,{replace:b,state:i,preventScrollReset:c,relative:u,viewTransition:h})}},[p,m,g,n,i,a,o,c,u,h])}function E0(o){qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=T.useRef(bu(o)),n=T.useRef(!1),i=Wt(),c=T.useMemo(()=>vv(i.search,n.current?null:a.current),[i.search]),u=qe(),h=T.useCallback((m,p)=>{const g=bu(typeof m=="function"?m(new URLSearchParams(c)):m);n.current=!0,u("?"+g,p)},[u,c]);return[c,h]}var Kv=0,Gv=()=>`__${String(++Kv)}__`;function Vv(){let{router:o}=S0("useSubmit"),{basename:a}=T.useContext(Ft),n=uv();return T.useCallback(async(i,c={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Nv(i,a);if(c.navigate===!1){let y=c.fetcherKey||Gv();await o.fetch(y,n,c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await o.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,a,n])}function Yv(o,{relative:a}={}){let{basename:n}=T.useContext(Ft),i=T.useContext(ja);Fe(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...Hi(o||".",{relative:a})},h=Wt();if(o==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();u.search=y?`?${y}`:""}}return(!o||o===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:va([n,u.pathname])),Di(u)}function Qv(o,{relative:a}={}){let n=T.useContext(g0);Fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S0("useViewTransitionState"),c=Hi(o,{relative:a});if(!n.isTransitioning)return!1;let u=wa(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=wa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jl(c.pathname,h)!=null||jl(c.pathname,u)!=null}function Xv(){return l.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[l.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),l.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),l.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const Jv="modulepreload",Iv=function(o){return"/"+o},Tg={},Pi=function(a,n,i){let c=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=g(n.map(y=>{if(y=Iv(y),y in Tg)return;Tg[y]=!0;const b=y.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":Jv,b||(j.as="script"),j.crossOrigin="",j.href=y,p&&j.setAttribute("nonce",p),document.head.appendChild(j),b)return new Promise((_,N)=>{j.addEventListener("load",_),j.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&u(p.reason);return a().catch(u)})},Zv=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...n)=>Pi(async()=>{const{default:i}=await Promise.resolve().then(()=>Tn);return{default:i}},[]).then(({default:i})=>i(...n)):a=fetch,(...n)=>a(...n)};class $u extends Error{constructor(a,n="FunctionsError",i){super(a),this.name=n,this.context=i}}class Fv extends $u{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Cg extends $u{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class kg extends $u{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var vu;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(vu||(vu={}));var Wv=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};class ew{constructor(a,{headers:n={},customFetch:i,region:c=vu.Any}={}){this.url=a,this.headers=n,this.region=c,this.fetch=Zv(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a,n={}){var i;return Wv(this,void 0,void 0,function*(){try{const{headers:c,method:u,body:h}=n;let m={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${a}`);p&&p!=="any"&&(m["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(m["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(m["Content-Type"]="application/json",y=JSON.stringify(h)));const b=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:y}).catch(N=>{throw new Fv(N)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new Cg(b);if(!b.ok)throw new kg(b);let j=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return j==="application/json"?_=yield b.json():j==="application/octet-stream"?_=yield b.blob():j==="text/event-stream"?_=b:j==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof kg||c instanceof Cg?c.context:void 0}}})}}var tt={},fn={},hn={},mn={},gn={},pn={},tw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=tw();const aw=_n.fetch,T0=_n.fetch.bind(_n),C0=_n.Headers,sw=_n.Request,nw=_n.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:C0,Request:sw,Response:nw,default:T0,fetch:aw},Symbol.toStringTag,{value:"Module"})),iw=Sy(Tn);var ul={},Og;function k0(){if(Og)return ul;Og=1,Object.defineProperty(ul,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ul.default=o,ul}var Ag;function O0(){if(Ag)return pn;Ag=1;var o=pn&&pn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(pn,"__esModule",{value:!0});const a=o(iw),n=o(k0());class i{constructor(u){var h,m;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(h=u.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=u.signal,this.isMaybeSingle=(m=u.isMaybeSingle)!==null&&m!==void 0?m:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=new Headers(this.headers),this.headers.set(u,h),this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,b,w,j;let _=null,N=null,R=null,H=g.status,C=g.statusText;if(g.ok){if(this.method!=="HEAD"){const $=await g.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?N=$:N=JSON.parse($))}const k=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),L=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&L&&L.length>1&&(R=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(_={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,R=null,H=406,C="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const k=await g.text();try{_=JSON.parse(k),Array.isArray(_)&&g.status===404&&(N=[],_=null,H=200,C="OK")}catch{g.status===404&&k===""?(H=204,C="No Content"):_={message:k}}if(_&&this.isMaybeSingle&&(!((j=_?.details)===null||j===void 0)&&j.includes("0 rows"))&&(_=null,H=200,C="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:N,count:R,status:H,statusText:C}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,b,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(b=g?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,h)}returns(){return this}overrideTypes(){return this}}return pn.default=i,pn}var Rg;function A0(){if(Rg)return gn;Rg=1;var o=gn&&gn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gn,"__esModule",{value:!0});const a=o(O0());class n extends a.default{select(c){let u=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${c}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,u,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(g,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var y;const b=[c?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return gn.default=n,gn}var Ug;function qu(){if(Ug)return mn;Ug=1;var o=mn&&mn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mn,"__esModule",{value:!0});const a=o(A0());class n extends a.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}in(c,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${p}fts${g}.${u}`),this}match(c){return Object.entries(c).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(c,u,h){return this.url.searchParams.append(c,`not.${u}.${h}`),this}or(c,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,u,h){return this.url.searchParams.append(c,`${u}.${h}`),this}}return mn.default=n,mn}var Lg;function R0(){if(Lg)return hn;Lg=1;var o=hn&&hn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hn,"__esModule",{value:!0});const a=o(qu());class n{constructor(c,{headers:u={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(u),this.schema=h,this.fetch=m}select(c,{head:u=!1,count:h}={}){const m=u?"HEAD":"GET";let p=!1;const g=(c??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:h=!0}={}){var m;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(b.length>0){const w=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new a.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:u}={}){var h;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var u;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return hn.default=n,hn}var Dg;function rw(){if(Dg)return fn;Dg=1;var o=fn&&fn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fn,"__esModule",{value:!0});const a=o(R0()),n=o(qu());class i{constructor(u,{headers:h={},schema:m,fetch:p}={}){this.url=u,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:p=!1,count:g}={}){var y;let b;const w=new URL(`${this.url}/rpc/${u}`);let j;m||p?(b=m?"HEAD":"GET",Object.entries(h).filter(([N,R])=>R!==void 0).map(([N,R])=>[N,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([N,R])=>{w.searchParams.append(N,R)})):(b="POST",j=h);const _=new Headers(this.headers);return g&&_.set("Prefer",`count=${g}`),new n.default({method:b,url:w,headers:_,schema:this.schemaName,body:j,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return fn.default=i,fn}var zg;function lw(){if(zg)return tt;zg=1;var o=tt&&tt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const a=o(rw());tt.PostgrestClient=a.default;const n=o(R0());tt.PostgrestQueryBuilder=n.default;const i=o(qu());tt.PostgrestFilterBuilder=i.default;const c=o(A0());tt.PostgrestTransformBuilder=c.default;const u=o(O0());tt.PostgrestBuilder=u.default;const h=o(k0());return tt.PostgrestError=h.default,tt.default={PostgrestClient:a.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:h.default},tt}var ow=lw();const cw=_y(ow),{PostgrestClient:uw,PostgrestQueryBuilder:X1,PostgrestFilterBuilder:J1,PostgrestTransformBuilder:I1,PostgrestBuilder:Z1,PostgrestError:F1}=cw;class dw{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let n=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(n+=`

Suggested solution: ${a.workaround}`),new Error(n)}static createWebSocket(a,n){const i=this.getWebSocketConstructor();return new i(a,n)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const fw="2.15.5",hw=`realtime-js/${fw}`,mw="1.0.0",wu=1e4,gw=1e3,pw=100;var Ai;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Ai||(Ai={}));var Ie;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Ie||(Ie={}));var Vt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Vt||(Vt={}));var ju;(function(o){o.websocket="websocket"})(ju||(ju={}));var js;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(js||(js={}));class xw{constructor(){this.HEADER_LENGTH=1}decode(a,n){return a.constructor===ArrayBuffer?n(this._binaryDecode(a)):n(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const n=new DataView(a),i=new TextDecoder;return this._decodeBroadcast(a,n,i)}_decodeBroadcast(a,n,i){const c=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const m=i.decode(a.slice(h,h+c));h=h+c;const p=i.decode(a.slice(h,h+u));h=h+u;const g=JSON.parse(i.decode(a.slice(h,a.byteLength)));return{ref:null,topic:m,event:p,payload:g}}}class U0{constructor(a,n){this.callback=a,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(De||(De={}));const Mg=(o,a,n={})=>{var i;const c=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(a).reduce((u,h)=>(u[h]=yw(h,o,a,c),u),{})},yw=(o,a,n,i)=>{const c=a.find(m=>m.name===o),u=c?.type,h=n[o];return u&&!i.includes(u)?L0(u,h):Nu(h)},L0=(o,a)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return jw(a,n)}switch(o){case De.bool:return bw(a);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return vw(a);case De.json:case De.jsonb:return ww(a);case De.timestamp:return Nw(a);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Nu(a);default:return Nu(a)}},Nu=o=>o,bw=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},vw=o=>{if(typeof o=="string"){const a=parseFloat(o);if(!Number.isNaN(a))return a}return o},ww=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(a){return console.log(`JSON parse error: ${a}`),o}return o},jw=(o,a)=>{if(typeof o!="string")return o;const n=o.length-1,i=o[n];if(o[0]==="{"&&i==="}"){let u;const h=o.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>L0(a,m))}return o},Nw=o=>typeof o=="string"?o.replace(" ","T"):o,D0=o=>{let a=o;return a=a.replace(/^ws/i,"http"),a=a.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),a.replace(/\/+$/,"")+"/api/broadcast"};class lu{constructor(a,n,i={},c=wu){this.channel=a,this.event=n,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,n){var i;return this._hasReceived(a)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:n}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(n))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var $g;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})($g||($g={}));class Ri{constructor(a,n){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,c,u,h),this.pendingDiffs.forEach(p=>{this.state=Ri.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ri.syncDiff(this.state,c,u,h),m())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,n,i,c){const u=this.cloneDeep(a),h=this.transformState(n),m={},p={};return this.map(u,(g,y)=>{h[g]||(p[g]=y)}),this.map(h,(g,y)=>{const b=u[g];if(b){const w=y.map(R=>R.presence_ref),j=b.map(R=>R.presence_ref),_=y.filter(R=>j.indexOf(R.presence_ref)<0),N=b.filter(R=>w.indexOf(R.presence_ref)<0);_.length>0&&(m[g]=_),N.length>0&&(p[g]=N)}else m[g]=y}),this.syncDiff(u,{joins:m,leaves:p},i,c)}static syncDiff(a,n,i,c){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(m,p)=>{var g;const y=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(p),y.length>0){const b=a[m].map(j=>j.presence_ref),w=y.filter(j=>b.indexOf(j.presence_ref)<0);a[m].unshift(...w)}i(m,y,p)}),this.map(h,(m,p)=>{let g=a[m];if(!g)return;const y=p.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),a[m]=g,c(m,g,p),g.length===0&&delete a[m]}),a}static map(a,n){return Object.getOwnPropertyNames(a).map(i=>n(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((n,i)=>{const c=a[i];return"metas"in c?n[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=c,n},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qg;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(qg||(qg={}));var Ui;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Ui||(Ui={}));var ba;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class Bu{constructor(a,n={config:{}},i){this.topic=a,this.params=n,this.socket=i,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lu(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new U0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Ri(this),this.broadcastEndpointURL=D0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(a,n=this.timeout){var i,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(j=>j.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>a?.(ba.CHANNEL_ERROR,j)),this._onClose(()=>a?.(ba.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var _;if(this.socket.setAuth(),j===void 0){a?.(ba.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,R=(_=N?.length)!==null&&_!==void 0?_:0,H=[];for(let C=0;C<R;C++){const S=N[C],{filter:{event:k,schema:L,table:$,filter:q}}=S,D=j&&j[C];if(D&&D.event===k&&D.schema===L&&D.table===$&&D.filter===q)H.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=Ie.errored,a?.(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(ba.SUBSCRIBED);return}}).receive("error",j=>{this.state=Ie.errored,a?.(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{a?.(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,n={}){return await this.send({type:"presence",event:"track",payload:a},n.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,n,i){return this.state===Ie.joined&&a===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,n,i)}async send(a,n={}){var i,c;if(!this._canPush()&&a.type==="broadcast"){const{event:u,payload:h}=a,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const g=this._push(a.type,a,n.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new lu(this,Vt.leave,{},a),i.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(a,n,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),h=await this.socket.fetch(a,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(u),h}_push(a,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new lu(this,a,n,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>pw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(a,n,i){return n}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,n,i){var c,u;const h=a.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=Vt;if(i&&[m,p,g,y].indexOf(h)>=0&&i!==this._joinRef())return;let w=this._onMessage(h,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var _,N,R;return((_=j.filter)===null||_===void 0?void 0:_.event)==="*"||((R=(N=j.filter)===null||N===void 0?void 0:N.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===h}).map(j=>j.callback(w,i)):(u=this.bindings[h])===null||u===void 0||u.filter(j=>{var _,N,R,H,C,S;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const k=j.id,L=(_=j.filter)===null||_===void 0?void 0:_.event;return k&&((N=n.ids)===null||N===void 0?void 0:N.includes(k))&&(L==="*"||L?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const k=(C=(H=j?.filter)===null||H===void 0?void 0:H.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return k==="*"||k===((S=n?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:N,table:R,commit_timestamp:H,type:C,errors:S}=_;w=Object.assign(Object.assign({},{schema:N,table:R,commit_timestamp:H,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(_))}j.callback(w,i)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,n,i){const c=a.toLocaleLowerCase(),u={type:c,filter:n,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(a,n){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Bu.isEqual(c.filter,n))})),this}static isEqual(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const i in a)if(a[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Vt.close,{},a)}_onError(a){this._on(Vt.error,{},n=>a(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const n={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(n.new=Mg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(n.old=Mg(a.columns,a.old_record)),n}}const ou=()=>{},dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_w=[1e3,2e3,5e3,1e4],Sw=1e4,Ew=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tw{constructor(a,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ou,this.ref=0,this.reconnectTimer=null,this.logger=ou,this.conn=null,this.sendBuffer=[],this.serializer=new xw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>Pi(async()=>{const{default:m}=await Promise.resolve().then(()=>Tn);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...h)=>u(...h)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${a}/${ju.websocket}`,this.httpEndpoint=D0(a),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dw.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const n=a.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mw}))}disconnect(a,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},a?this.conn.close(a,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const n=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const a=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,n,i){this.logger(a,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ai.connecting:return js.Connecting;case Ai.open:return js.Open;case Ai.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,n={config:{}}){const i=`realtime:${a}`,c=this.getChannels().find(u=>u.topic===i);if(c)return c;{const u=new Bu(`realtime:${a}`,n,this);return this.channels.push(u),u}}push(a){const{topic:n,event:i,payload:c,ref:u}=a,h=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${n} ${i} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(gw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let n=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${a}"`),n.unsubscribe())}_remove(a){this.channels=this.channels.filter(n=>n.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:u,ref:h}=n,m=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${c} ${m}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(c,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(a){var n;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var n;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Vt.error))}_appendParams(a,n){if(Object.keys(n).length===0)return a;const i=a.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${a}${i}${c}`}_workerObjectUrl(a){let n;if(a)n=a;else{const i=new Blob([Ew],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(a,n=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(a=null){let n;a?n=a:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const c={access_token:n,version:hw};n&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Vt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${a}`,n)})}_triggerStateCallbacks(a,n){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(n)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new U0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var n,i,c,u,h,m,p,g,y;if(this.transport=(n=a?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:wu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:dl.HEARTBEAT_INTERVAL,this.worker=(u=a?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:ou,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>_w[b-1]||Sw),this.encode=(g=a?.encode)!==null&&g!==void 0?g:((b,w)=>w(JSON.stringify(b))),this.decode=(y=a?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class Hu extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ze(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Cw extends Hu{constructor(a,n,i){super(a),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _u extends Hu{constructor(a,n){super(a),this.name="StorageUnknownError",this.originalError=n}}var kw=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};const z0=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...n)=>Pi(async()=>{const{default:i}=await Promise.resolve().then(()=>Tn);return{default:i}},void 0).then(({default:i})=>i(...n)):a=fetch,(...n)=>a(...n)},Ow=()=>kw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pi(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),Su=o=>{if(Array.isArray(o))return o.map(n=>Su(n));if(typeof o=="function"||o!==Object(o))return o;const a={};return Object.entries(o).forEach(([n,i])=>{const c=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));a[c]=Su(i)}),a},Aw=o=>{if(typeof o!="object"||o===null)return!1;const a=Object.getPrototypeOf(o);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var Ns=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};const cu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Rw=(o,a,n)=>Ns(void 0,void 0,void 0,function*(){const i=yield Ow();o instanceof i&&!n?.noResolveJson?o.json().then(c=>{const u=o.status||500,h=c?.statusCode||u+"";a(new Cw(cu(c),u,h))}).catch(c=>{a(new _u(cu(c),c))}):a(new _u(cu(o),o))}),Uw=(o,a,n,i)=>{const c={method:o,headers:a?.headers||{}};return o==="GET"||!i?c:(Aw(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),n))};function Ki(o,a,n,i,c,u){return Ns(this,void 0,void 0,function*(){return new Promise((h,m)=>{o(n,Uw(a,i,c,u)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Rw(p,m,i))})})}function Nl(o,a,n,i){return Ns(this,void 0,void 0,function*(){return Ki(o,"GET",a,n,i)})}function It(o,a,n,i,c){return Ns(this,void 0,void 0,function*(){return Ki(o,"POST",a,i,c,n)})}function Eu(o,a,n,i,c){return Ns(this,void 0,void 0,function*(){return Ki(o,"PUT",a,i,c,n)})}function Lw(o,a,n,i){return Ns(this,void 0,void 0,function*(){return Ki(o,"HEAD",a,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function M0(o,a,n,i,c){return Ns(this,void 0,void 0,function*(){return Ki(o,"DELETE",a,i,c,n)})}var dt=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};const Dw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zw{constructor(a,n={},i,c){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.bucketId=i,this.fetch=z0(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,n,i,c){return dt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Bg),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),b=yield(a=="PUT"?Eu:It)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}})}upload(a,n,i){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,n,i)})}uploadToSignedUrl(a,n,i,c){return dt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(a),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:Bg.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const b=yield Eu(this.fetch,m.toString(),p,{headers:y});return{data:{path:u,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ze(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(a,n){return dt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(a);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const u=yield It(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new Hu("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}update(a,n,i){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,n,i)})}move(a,n,i){return dt(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}copy(a,n,i){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}createSignedUrl(a,n,i){return dt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),u=yield It(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}createSignedUrls(a,n,i){return dt(this,void 0,void 0,function*(){try{const c=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:a},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}download(a,n){return dt(this,void 0,void 0,function*(){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),h=u?`?${u}`:"";try{const m=this._getFinalPath(a);return{data:yield(yield Nl(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ze(m))return{data:null,error:m};throw m}})}info(a){return dt(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{const i=yield Nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Su(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}exists(a){return dt(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{return yield Lw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i)&&i instanceof _u){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(a,n){const i=this._getFinalPath(a),c=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&c.push(u);const m=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&c.push(p);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${g}`)}}}remove(a){return dt(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}list(a,n,i){return dt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Dw),n),{prefix:a||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}listV2(a,n){return dt(this,void 0,void 0,function*(){try{const i=Object.assign({},a);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}}const Mw="2.12.1",$w={"X-Client-Info":`storage-js/${Mw}`};var xn=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};class qw{constructor(a,n={},i,c){this.shouldThrowOnError=!1;const u=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},$w),n),this.fetch=z0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}getBucket(a){return xn(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}createBucket(a,n={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}updateBucket(a,n){return xn(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}emptyBucket(a){return xn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(a){return xn(this,void 0,void 0,function*(){try{return{data:yield M0(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}}class Bw extends qw{constructor(a,n={},i,c){super(a,n,i,c)}from(a){return new zw(this.url,this.headers,a,this.fetch)}}const Hw="2.57.4";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const Pw={"X-Client-Info":`supabase-js-${Ci}/${Hw}`},Kw={headers:Pw},Gw={schema:"public"},Vw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yw={};var Qw=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};const Xw=o=>{let a;return o?a=o:typeof fetch>"u"?a=T0:a=fetch,(...n)=>a(...n)},Jw=()=>typeof Headers>"u"?C0:Headers,Iw=(o,a,n)=>{const i=Xw(n),c=Jw();return(u,h)=>Qw(void 0,void 0,void 0,function*(){var m;const p=(m=yield a())!==null&&m!==void 0?m:o;let g=new c(h?.headers);return g.has("apikey")||g.set("apikey",o),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Object.assign(Object.assign({},h),{headers:g}))})};var Zw=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};function Fw(o){return o.endsWith("/")?o:o+"/"}function Ww(o,a){var n,i;const{db:c,auth:u,realtime:h,global:m}=o,{db:p,auth:g,realtime:y,global:b}=a,w={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Zw(this,void 0,void 0,function*(){return""})};return o.accessToken?w.accessToken=o.accessToken:delete w.accessToken,w}function ej(o){const a=o?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $0="2.71.1",jn=30*1e3,Tu=3,uu=Tu*jn,tj="http://localhost:9999",aj="supabase.auth.token",sj={"X-Client-Info":`gotrue-js/${$0}`},Cu="X-Supabase-Api-Version",q0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ij=600*1e3;class Pu extends Error{constructor(a,n,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function he(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class rj extends Pu{constructor(a,n,i){super(a,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function lj(o){return he(o)&&o.name==="AuthApiError"}class B0 extends Pu{constructor(a,n){super(a),this.name="AuthUnknownError",this.originalError=n}}class Za extends Pu{constructor(a,n,i,c){super(a,i,c),this.name=n,this.status=i}}class Ja extends Za{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oj(o){return he(o)&&o.name==="AuthSessionMissingError"}class fl extends Za{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hl extends Za{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ml extends Za{constructor(a,n=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cj(o){return he(o)&&o.name==="AuthImplicitGrantRedirectError"}class Hg extends Za{constructor(a,n=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ku extends Za{constructor(a,n){super(a,"AuthRetryableFetchError",n,void 0)}}function du(o){return he(o)&&o.name==="AuthRetryableFetchError"}class Pg extends Za{constructor(a,n,i){super(a,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Ou extends Za{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const _l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kg=` 	
\r=`.split(""),uj=(()=>{const o=new Array(128);for(let a=0;a<o.length;a+=1)o[a]=-1;for(let a=0;a<Kg.length;a+=1)o[Kg[a].charCodeAt(0)]=-2;for(let a=0;a<_l.length;a+=1)o[_l[a].charCodeAt(0)]=a;return o})();function Gg(o,a,n){if(o!==null)for(a.queue=a.queue<<8|o,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;n(_l[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;n(_l[i]),a.queuedBits-=6}}function H0(o,a,n){const i=uj[o];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)n(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Vg(o){const a=[],n=h=>{a.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{hj(h,i,n)};for(let h=0;h<o.length;h+=1)H0(o.charCodeAt(h),c,u);return a.join("")}function dj(o,a){if(o<=127){a(o);return}else if(o<=2047){a(192|o>>6),a(128|o&63);return}else if(o<=65535){a(224|o>>12),a(128|o>>6&63),a(128|o&63);return}else if(o<=1114111){a(240|o>>18),a(128|o>>12&63),a(128|o>>6&63),a(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function fj(o,a){for(let n=0;n<o.length;n+=1){let i=o.charCodeAt(n);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(o.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}dj(i,a)}}function hj(o,a,n){if(a.utf8seq===0){if(o<=127){n(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=o&31;else if(a.utf8seq===3)a.codepoint=o&15;else if(a.utf8seq===4)a.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|o&63,a.utf8seq-=1,a.utf8seq===0&&n(a.codepoint)}}function mj(o){const a=[],n={queue:0,queuedBits:0},i=c=>{a.push(c)};for(let c=0;c<o.length;c+=1)H0(o.charCodeAt(c),n,i);return new Uint8Array(a)}function gj(o){const a=[];return fj(o,n=>a.push(n)),new Uint8Array(a)}function pj(o){const a=[],n={queue:0,queuedBits:0},i=c=>{a.push(c)};return o.forEach(c=>Gg(c,n,i)),Gg(null,n,i),a.join("")}function xj(o){return Math.round(Date.now()/1e3)+o}function yj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const a=Math.random()*16|0;return(o=="x"?a:a&3|8).toString(16)})}const Gt=()=>typeof window<"u"&&typeof document<"u",xs={tested:!1,writable:!1},P0=()=>{if(!Gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xs.tested)return xs.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),xs.tested=!0,xs.writable=!0}catch{xs.tested=!0,xs.writable=!1}return xs.writable};function bj(o){const a={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,u)=>{a[u]=c})}catch{}return n.searchParams.forEach((i,c)=>{a[c]=i}),a}const K0=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...n)=>Pi(async()=>{const{default:i}=await Promise.resolve().then(()=>Tn);return{default:i}},void 0).then(({default:i})=>i(...n)):a=fetch,(...n)=>a(...n)},vj=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Nn=async(o,a,n)=>{await o.setItem(a,JSON.stringify(n))},ys=async(o,a)=>{const n=await o.getItem(a);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xa=async(o,a)=>{await o.removeItem(a)};class Al{constructor(){this.promise=new Al.promiseConstructor((a,n)=>{this.resolve=a,this.reject=n})}}Al.promiseConstructor=Promise;function fu(o){const a=o.split(".");if(a.length!==3)throw new Ou("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!nj.test(a[i]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(Vg(a[0])),payload:JSON.parse(Vg(a[1])),signature:mj(a[2]),raw:{header:a[0],payload:a[1]}}}async function wj(o){return await new Promise(a=>{setTimeout(()=>a(null),o)})}function jj(o,a){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await o(u);if(!a(u,null,h)){i(h);return}}catch(h){if(!a(u,h)){c(h);return}}})()})}function Nj(o){return("0"+o.toString(16)).substr(-2)}function _j(){const a=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let c="";for(let u=0;u<56;u++)c+=n.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(a),Array.from(a,Nj).join("")}async function Sj(o){const n=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Ej(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await Sj(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(o,a,n=!1){const i=_j();let c=i;n&&(c+="/PASSWORD_RECOVERY"),await Nn(o,`${a}-code-verifier`,c);const u=await Ej(i);return[u,i===u?"plain":"s256"]}const Tj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cj(o){const a=o.headers.get(Cu);if(!a||!a.match(Tj))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function kj(o){if(!o)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(o<=a)throw new Error("JWT has expired")}function Oj(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Aj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bn(o){if(!Aj.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hu(){const o={};return new Proxy(o,{get:(a,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yg(o){return JSON.parse(JSON.stringify(o))}var Rj=function(o,a){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&a.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(o);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(o,i[c])&&(n[i[c]]=o[i[c]]);return n};const ws=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Uj=[502,503,504];async function Qg(o){var a;if(!vj(o))throw new ku(ws(o),0);if(Uj.includes(o.status))throw new ku(ws(o),o.status);let n;try{n=await o.json()}catch(u){throw new B0(ws(u),u)}let i;const c=Cj(o);if(c&&c.getTime()>=q0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Pg(ws(n),o.status,((a=n.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Ja}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Pg(ws(n),o.status,n.weak_password.reasons);throw new rj(ws(n),o.status||500,i)}const Lj=(o,a,n,i)=>{const c={method:o,headers:a?.headers||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),n))};async function ye(o,a,n,i){var c;const u=Object.assign({},i?.headers);u[Cu]||(u[Cu]=q0["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const h=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Dj(o,a,n+m,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Dj(o,a,n,i,c,u){const h=Lj(a,i,c,u);let m;try{m=await o(n,Object.assign({},h))}catch(p){throw console.error(p),new ku(ws(p),0)}if(m.ok||await Qg(m),i?.noResolveJson)return m;try{return await m.json()}catch(p){await Qg(p)}}function ya(o){var a;let n=null;qj(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=xj(o.expires_in)));const i=(a=o.user)!==null&&a!==void 0?a:o;return{data:{session:n,user:i},error:null}}function Xg(o){const a=ya(o);return!a.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(a.data.weak_password=o.weak_password),a}function Ia(o){var a;return{data:{user:(a=o.user)!==null&&a!==void 0?a:o},error:null}}function zj(o){return{data:o,error:null}}function Mj(o){const{action_link:a,email_otp:n,hashed_token:i,redirect_to:c,verification_type:u}=o,h=Rj(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:n,hashed_token:i,redirect_to:c,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function $j(o){return o}function qj(o){return o.access_token&&o.refresh_token&&o.expires_in}const mu=["global","local","others"];var Bj=function(o,a){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&a.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(o);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(o,i[c])&&(n[i[c]]=o[i[c]]);return n};class Hj{constructor({url:a="",headers:n={},fetch:i}){this.url=a,this.headers=n,this.fetch=K0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(a,n=mu[0]){if(mu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mu.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ia})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:n}=a,i=Bj(a,["options"]),c=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Mj,redirectTo:n?.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(a){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ia})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(a){var n,i,c,u,h,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:$j});if(y.error)throw y.error;const b=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);g[`${R}Page`]=N}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(he(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){bn(a);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ia})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(a,n){bn(a);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:n,headers:this.headers,xform:Ia})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,n=!1){bn(a);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ia})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){bn(a.userId);try{const{data:n,error:i}=await ye(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:i}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(a){bn(a.userId),bn(a.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}function Jg(o={}){return{getItem:a=>o[a]||null,setItem:(a,n)=>{o[a]=n},removeItem:a=>{delete o[a]}}}function Pj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vn={debug:!!(globalThis&&P0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G0 extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Kj extends G0{}async function Gj(o,a,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(a===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Kj(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(vn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Pj();const Vj={url:tj,storageKey:aj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ig(o,a,n){return await n()}const wn={};class zi{constructor(a){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zi.nextInstanceID,zi.nextInstanceID+=1,this.instanceID>0&&Gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},Vj),a);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Hj({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=K0(c.fetch),this.lock=c.lock||Ig,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Gt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Gj:this.lock=Ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:P0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),Gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var a,n;return(n=(a=wn[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(a){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,n;return(n=(a=wn[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:a})}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$0}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const n=bj(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Gt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),cj(u)){const p=(a=u.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new B0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var n,i,c;try{const u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=a?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:ya}),{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(a){var n,i,c;try{let u;if("email"in a){const{email:y,password:b,options:w}=a;let j=null,_=null;this.flowType==="pkce"&&([j,_]=await yn(this.storage,this.storageKey)),u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:b,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:j,code_challenge_method:_},xform:ya})}else if("phone"in a){const{phone:y,password:b,options:w}=a;u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ya})}else throw new hl("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(a){try{let n;if("email"in a){const{email:u,password:h,options:m}=a;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Xg})}else if("phone"in a){const{phone:u,password:h,options:m}=a;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Xg})}else throw new hl("You must provide either an email or phone number and a password");const{data:i,error:c}=n;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new fl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(a){var n,i,c,u;return await this._handleProviderSignIn(a.provider,{redirectTo:(n=a.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=a.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:n}=a;if(n==="solana")return await this.signInWithSolana(a);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(a){var n,i,c,u,h,m,p,g,y,b,w,j;let _,N;if("message"in a)_=a.message,N=a.signature;else{const{chain:R,wallet:H,statement:C,options:S}=a;let k;if(Gt())if(typeof H=="object")k=H;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))k=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=H}const L=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const $=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),C?{statement:C}:null));let q;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")q=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)q=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)_=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),N=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(c=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=S?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((h=S?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((m=S?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((p=S?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((g=S?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((b=(y=S?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...S.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const $=await k.signMessage(new TextEncoder().encode(_),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=$}}try{const{data:R,error:H}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:pj(N)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ya});if(H)throw H;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new fl}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:H})}catch(R){if(he(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(a){const n=await ys(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(n??"").split("/");try{const{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:ya});if(await Xa(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new fl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(he(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(a){try{const{options:n,provider:i,token:c,access_token:u,nonce:h}=a,m=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ya}),{data:p,error:g}=m;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new fl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(a){var n,i,c,u,h;try{if("email"in a){const{email:m,options:p}=a;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await yn(this.storage,this.storageKey));const{error:b}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in a){const{phone:m,options:p}=a,{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new hl("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(a){var n,i;try{let c,u;"options"in a&&(c=(n=a.options)===null||n===void 0?void 0:n.redirectTo,u=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:m}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:ya});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,g=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(a){var n,i,c;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await yn(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(n=a.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:zj})}catch(u){if(he(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)throw i;if(!n)throw new Ja;const{error:c}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:c}})}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const n=`${this.url}/resend`;if("email"in a){const{email:i,type:c,options:u}=a,{error:h}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in a){const{phone:i,type:c,options:u}=a,{data:h,error:m}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new hl("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(a,n){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await a(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const n=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?a=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<uu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const h=await ys(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=hu()}if(this.storage.isServer&&a.user){let h=this.suppressGetSessionWarning;a=new Proxy(a,{get:(p,g,y)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:a},error:null}}const{session:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?{data:{session:null},error:u}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ia}):await this._useSession(async n=>{var i,c,u;const{data:h,error:m}=n;if(m)throw m;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Ia})})}catch(n){if(he(n))return oj(n)&&(await this._removeSession(),await Xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(a,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,n))}async _updateUser(a,n={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new Ja;const h=c.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await yn(this.storage,this.storageKey));const{data:g,error:y}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Ia});if(y)throw y;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ja;const n=Date.now()/1e3;let i=n,c=!0,u=null;const{payload:h}=fu(a.access_token);if(h.exp&&(i=h.exp,c=i<=n),c){const{session:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;u={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async n=>{var i;if(!a){const{data:h,error:m}=n;if(m)throw m;a=(i=h.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new Ja;const{session:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?{data:{user:null,session:null},error:u}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(a,n){try{if(!Gt())throw new ml("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ml(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Hg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Hg("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(a.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:g}=a;if(!u||!m||!h||!g)throw new ml("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let w=y+b;p&&(w=parseInt(p));const j=w-y;j*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const _=w-b;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:N,error:R}=await this._getUser(u);if(R)throw R;const H={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:w,refresh_token:h,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:H,redirectType:a.type},error:null}}catch(i){if(he(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const n=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&n)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:c,error:u}=n;if(u)return{error:u};const h=(i=c.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(lj(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return a!=="others"&&(await this._removeSession(),await Xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const n=yj(),i={id:n,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async n=>{var i,c;try{const{data:{session:u},error:h}=n;if(h)throw h;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",a,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",u),console.error(u)}})}async resetPasswordForEmail(a,n={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await yn(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(he(u))return{data:null,error:u};throw u}}async getUserIdentities(){var a;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(a=n.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(a){var n;try{const{data:i,error:c}=await this._useSession(async u=>{var h,m,p,g,y;const{data:b,error:w}=u;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return Gt()&&!(!((n=a.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:a.provider,url:i?.url},error:null}}catch(i){if(he(i))return{data:{provider:a.provider,url:null},error:i};throw i}}async unlinkIdentity(a){try{return await this._useSession(async n=>{var i,c;const{data:u,error:h}=n;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(a){const n=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await jj(async c=>(c>0&&await wj(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:ya})),(c,u)=>{const h=200*Math.pow(2,c);return u&&du(u)&&Date.now()+h-i<jn})}catch(i){if(this._debug(n,"error",i),he(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",n,"url",i),Gt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await ys(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Nn(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:hu()}else if(c&&!c.user&&!c.user){const h=await ys(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Xa(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,c)):c.user=hu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const u=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uu;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${uu}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),du(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var n,i;if(!a)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Al;const{data:u,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!u.session)throw new Ja;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),he(u)){const h={session:null,error:u};return du(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,n,i=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,n)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const n=Object.assign({},a),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const u=Yg(c);await Nn(this.storage,this.storageKey,u)}else{const c=Yg(n);await Nn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Xa(this.storage,this.storageKey),await Xa(this.storage,this.storageKey+"-code-verifier"),await Xa(this.storage,this.storageKey+"-user"),this.userStorage&&await Xa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-a)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${jn}ms, refresh threshold is ${Tu} ticks`),c<=Tu&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof G0)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const n=`#_onVisibilityChanged(${a})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,n,i){const c=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,h]=await yn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async n=>{var i;const{data:c,error:u}=n;return u?{data:null,error:u}:await ye(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(a){try{return await this._useSession(async n=>{var i,c;const{data:u,error:h}=n;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:{issuer:a.issuer}),{data:p,error:g}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(a.factorType==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:m}=await ye(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:{code:a.code,challenge_id:a.challengeId},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:u}=n;return u?{data:null,error:u}:await ye(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:{channel:a.channel},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(a){const{data:n,error:i}=await this._challenge({factorId:a.factorId});return i?{data:null,error:i}:await this._verify({factorId:a.factorId,challengeId:n.id,code:a.code})}async _listFactors(){const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=a?.factors||[],c=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:c,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var n,i;const{data:{session:c},error:u}=a;if(u)return{data:null,error:u};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=fu(c.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((i=(n=c.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(a,n={keys:[]}){let i=n.keys.find(m=>m.kid===a);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+ij>c)return i;const{data:u,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,i=u.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,n={}){try{let i=a;if(!i){const{data:j,error:_}=await this.getSession();if(_||!j.session)return{data:null,error:_};i=j.session.access_token}const{header:c,payload:u,signature:h,raw:{header:m,payload:p}}=fu(i);n?.allowExpired||kj(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:u,header:c,signature:h},error:null}}const y=Oj(c.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,h,gj(`${m}.${p}`)))throw new Ou("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}}zi.nextInstanceID=0;const Yj=zi;class Qj extends Yj{constructor(a){super(a)}}var Xj=function(o,a,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(y){try{g(i.next(y))}catch(b){h(b)}}function p(y){try{g(i.throw(y))}catch(b){h(b)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(o,a||[])).next())})};class Jj{constructor(a,n,i){var c,u,h;this.supabaseUrl=a,this.supabaseKey=n;const m=ej(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:Gw,realtime:Yw,auth:Object.assign(Object.assign({},Vw),{storageKey:p}),global:Kw},y=Ww(i??{},g);this.storageKey=(c=y.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=Iw(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new uw(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Bw(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new ew(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a,n;return Xj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:u,storageKey:h,flowType:m,lock:p,debug:g},y,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qj({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:h,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:u,flowType:m,lock:p,debug:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Tw(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ij=(o,a,n)=>new Jj(o,a,n);function Zj(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const a=o.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}Zj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const V0="https://ytffobltrwkgxiedorsd.supabase.co",Y0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0ZmZvYmx0cndrZ3hpZWRvcnNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyNTAxODcsImV4cCI6MjA3OTgyNjE4N30.LT6RINgyyjIriwdBV4DGP3GeXl2AVRetT1rStFFXpn8";console.log(" Supabase Configuration Debug:");console.log("URL:",` ${V0.substring(0,30)}...`);console.log("ANON_KEY:",` ${Y0.substring(0,30)}...`);const ne=Ij(V0,Y0),Au=async o=>{try{const n=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(h=>h.toString(16).padStart(2,"0")).join("")}catch(a){throw console.error("  :",a),new Error("    .")}},Q0=T.createContext(void 0);function Fj({children:o}){const[a,n]=T.useState(null),[i,c]=T.useState(!0);T.useEffect(()=>{const g=localStorage.getItem("auth_user");if(g)try{n(JSON.parse(g))}catch(y){console.error("Failed to parse stored user:",y)}c(!1)},[]);const p={user:a,loading:i,signInPhone:async(g,y)=>{try{const b=g.replace(/-/g,""),{data:w,error:j}=await ne.from("users").select("*").eq("phone_number",b).single();if(j||!w)return{error:{message:"   ."}};const _=await Au(y);if(w.password_hash!==_)return{error:{message:"  ."}};await ne.from("users").update({last_login:new Date().toISOString()}).eq("id",w.id);const N={id:w.id,phone_number:w.phone_number,name:w.name,profile_image:w.profile_image};return n(N),localStorage.setItem("auth_user",JSON.stringify(N)),{error:null,profileCompleted:w.profile_completed||!1}}catch(b){return{error:{message:b.message}}}},signUpPhone:async(g,y,b)=>{try{const w=g.replace(/-/g,""),{data:j}=await ne.from("users").select("id").eq("phone_number",w).single();if(j)return{error:{message:"  ."}};const _=await Au(y),{data:N,error:R}=await ne.from("users").insert({phone_number:w,password_hash:_,name:b.name,age:b.age||null,gender:b.gender||"male",location:b.location||null,school:b.school||null,job:b.job||null,bio:b.bio||null}).select().single();if(R||!N)return{error:R||{message:" ."}};const H={id:N.id,phone_number:N.phone_number,name:N.name,profile_image:N.profile_image};return n(H),localStorage.setItem("auth_user",JSON.stringify(H)),{error:null}}catch(w){return{error:{message:w.message}}}},signOut:async()=>{n(null),localStorage.removeItem("auth_user")}};return l.jsx(Q0.Provider,{value:p,children:o})}function Bt(){const o=T.useContext(Q0);if(o===void 0)throw new Error("useAuth must be used within an AuthProvider");return o}function Wj({coins:o=0}){const a=qe(),{user:n}=Bt(),[i,c]=T.useState(!1),[u,h]=T.useState(0);T.useEffect(()=>{if(!n?.id)return;m();const g=setInterval(m,3e4);return()=>clearInterval(g)},[n?.id]);const m=async()=>{try{if(!n?.id){h(0);return}const{count:g,error:y}=await ne.from("notifications").select("*",{count:"exact",head:!0}).eq("read",!1);!y&&g!==null&&h(g)}catch(g){console.error("   :",g)}},p=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),a("/login")};return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 glass z-50 transition-all duration-300",style:{paddingTop:"env(safe-area-inset-top)"},children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 max-w-screen-xl mx-auto",children:[l.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>a("/"),children:l.jsxs("h1",{className:"flex items-center space-x-2 group",children:[l.jsxs("div",{className:"relative transform transition-transform group-hover:scale-110 duration-300",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg shadow-primary-500/30",children:l.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:l.jsx("i",{className:"ri-heart-fill text-white text-xl animate-pulse-soft"})})}),l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary-400 rounded-full border-2 border-white animate-bounce"})]}),l.jsx("span",{className:"text-2xl font-bold font-display bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent tracking-tight",children:"Attract"})]})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:()=>a("/coin-shop"),className:"group flex items-center space-x-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white px-4 py-2 rounded-full hover:from-primary-600 hover:to-primary-700 transition-all duration-300 shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transform hover:-translate-y-0.5",children:[l.jsx("i",{className:"ri-copper-coin-fill text-lg group-hover:rotate-12 transition-transform"}),l.jsx("span",{className:"text-sm font-bold font-display",children:o.toLocaleString()})]}),l.jsxs("button",{onClick:()=>a("/notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors relative group",children:[l.jsx("i",{className:"ri-notification-line text-slate-600 text-xl group-hover:text-primary-600 transition-colors"}),u>0&&l.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center border-2 border-white shadow-sm",children:u})]}),l.jsx("button",{onClick:()=>c(!i),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors group",children:l.jsx("i",{className:`ri-menu-line text-slate-600 text-xl group-hover:text-primary-600 transition-colors ${i?"rotate-90":""} duration-300`})})]})]})}),i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40 animate-fade-in",onClick:()=>c(!1)}),l.jsxs("div",{className:"fixed top-20 right-4 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl py-2 w-56 z-50 animate-slide-up border border-white/20",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-slate-100",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"!"}),l.jsx("p",{className:"font-bold text-slate-800",children:""})]}),l.jsx("div",{className:"py-2",children:[{icon:"ri-user-line",label:"",action:()=>{c(!1),a("/"),setTimeout(()=>{const g=new CustomEvent("switchTab",{detail:{tab:"profile"}});window.dispatchEvent(g)},100)}},{icon:"ri-settings-line",label:"",action:()=>{c(!1),a("/settings")}},{icon:"ri-question-line",label:"FAQ",action:()=>{c(!1),a("/faq")}},{icon:"ri-customer-service-line",label:"1:1",action:()=>{c(!1),a("/support")}}].map((g,y)=>l.jsxs("button",{onClick:g.action,className:"w-full text-left px-4 py-2.5 hover:bg-primary-50 text-slate-600 hover:text-primary-600 transition-colors flex items-center space-x-3 group",children:[l.jsx("i",{className:`${g.icon} text-lg group-hover:scale-110 transition-transform`}),l.jsx("span",{className:"font-medium",children:g.label})]},y))}),l.jsx("div",{className:"border-t border-slate-100 mt-1 pt-1",children:l.jsxs("button",{onClick:p,className:"w-full text-left px-4 py-2.5 hover:bg-red-50 text-red-500 hover:text-red-600 transition-colors flex items-center space-x-3 group",children:[l.jsx("i",{className:"ri-logout-box-line text-lg group-hover:scale-110 transition-transform"}),l.jsx("span",{className:"font-medium",children:""})]})})]})]})]})}function e1({activeTab:o,onTabChange:a}){const n=[{id:"matching",icon:"ri-heart-3-line",activeIcon:"ri-heart-3-fill",label:""},{id:"community",icon:"ri-group-line",activeIcon:"ri-group-fill",label:""},{id:"chat",icon:"ri-chat-3-line",activeIcon:"ri-chat-3-fill",label:""},{id:"profile",icon:"ri-user-line",activeIcon:"ri-user-fill",label:"My"}];return l.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-6 pt-2 flex justify-center pointer-events-none",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:l.jsx("div",{className:"glass rounded-full px-6 py-3 flex items-center justify-between shadow-2xl shadow-primary-500/20 pointer-events-auto max-w-md w-full",children:n.map(i=>{const c=o===i.id;return l.jsxs("button",{onClick:()=>a(i.id),className:`relative flex flex-col items-center justify-center w-14 h-14 rounded-full transition-all duration-300 group ${c?"text-primary-600":"text-slate-400 hover:text-slate-600"}`,children:[c&&l.jsx("span",{className:"absolute -top-2 w-1 h-1 bg-primary-500 rounded-full animate-bounce"}),l.jsx("i",{className:`text-2xl transition-all duration-300 ${c?`${i.activeIcon} scale-110 drop-shadow-md`:`${i.icon} group-hover:scale-110`}`}),l.jsx("span",{className:`text-[10px] font-medium mt-1 transition-all duration-300 ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-2 absolute"}`,children:i.label}),c&&l.jsx("div",{className:"absolute inset-0 bg-primary-50 rounded-full -z-10 scale-0 animate-ping opacity-20"})]},i.id)})})})}function Zg(){const o=qe(),{user:a}=Bt(),[n,i]=T.useState(""),[c,u]=T.useState(!1),[h,m]=T.useState(!1),[p,g]=T.useState(""),[y,b]=T.useState(!0),[w,j]=T.useState([]);T.useEffect(()=>{(async()=>{if(a?.id)try{const{data:S}=await ne.from("users").select("gender").eq("id",a.id).single();S?.gender&&(S.gender==="male"?i("female"):S.gender==="female"&&i("male"))}catch(S){console.error("   :",S)}})()},[a?.id]),T.useEffect(()=>{_()},[n]);const _=async()=>{b(!0);try{let C=ne.from("users").select("*");if(a?.id&&(C=C.neq("id",a.id)),n)C=C.eq("gender",n);else return;const{data:S,error:k}=await C;if(k)throw k;if(console.log("   :",S),console.log("  :",n),S){const L=S.filter($=>{const q=$.avatar_url||$.profile_image;return console.log(` ${$.name} - : ${$.gender}, : ${q?"":""}`,{avatar_url:$.avatar_url,profile_image:$.profile_image}),!!q}).map($=>{const q=$.avatar_url||$.profile_image||"";return{id:$.id,name:$.name||"  ",age:$.age||20,gender:$.gender||"",location:$.location||" ",school:$.school||" ",mbti:$.mbti||"MBTI",character:q,bio:$.bio||" .",hasLikedMe:!1,photos:q?[q]:[]}});console.log("   :",L.length),j(L)}}catch(C){console.error("  :",C),j([])}finally{b(!1)}},N=w.filter(C=>C.gender===n),R=C=>{g(C),m(!0)},H=C=>{o("/profile-detail",{state:{profile:C}})};return y?l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[l.jsxs("div",{className:"relative w-16 h-16",children:[l.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})]}),l.jsx("div",{className:"text-sm font-medium text-slate-500",children:"  ..."})]}):N.length===0?l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4 px-4",children:[l.jsx("i",{className:"ri-search-line text-6xl text-slate-300"}),l.jsx("p",{className:"text-center text-slate-600 font-medium",children:"   "})]}):l.jsxs("div",{className:"px-4 py-6 min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:()=>u(!c),className:"w-11 h-11 bg-white rounded-full flex items-center justify-center shadow-md cursor-pointer hover:shadow-lg transition-all hover:scale-105 group",children:l.jsx("i",{className:"ri-filter-line text-slate-400 group-hover:text-primary-500 text-xl transition-colors"})})})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:N.map(C=>l.jsxs("div",{onClick:()=>H(C),className:"bg-white rounded-3xl shadow-lg overflow-hidden cursor-pointer hover:shadow-2xl hover:shadow-primary-500/10 transition-all duration-300 relative group transform hover:-translate-y-1",children:[C.hasLikedMe&&l.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center z-10 shadow-lg shadow-pink-500/30 animate-pulse-soft",children:l.jsx("i",{className:"ri-heart-fill text-white text-sm"})}),l.jsx("div",{className:"absolute top-3 left-3 w-8 h-8 glass rounded-full flex items-center justify-center z-10",children:l.jsx("i",{className:`${C.gender==="female"?"ri-women-line text-pink-500":"ri-men-line text-blue-500"} font-bold`})}),l.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-10",children:l.jsx("span",{className:"glass text-primary-700 px-3 py-1 rounded-full text-xs font-bold tracking-wide",children:C.mbti})}),l.jsxs("div",{className:"relative h-72 overflow-hidden bg-slate-100",children:[l.jsx("img",{src:C.character,alt:C.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 text-white transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[l.jsx("h3",{className:"font-bold text-xl mb-1 font-display tracking-tight",children:C.name}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-200",children:[l.jsxs("span",{className:"font-medium",children:[C.age,""]}),l.jsxs("div",{className:"flex items-center hover:text-primary-300 transition-colors",onClick:S=>{S.stopPropagation(),R(C.location)},children:[l.jsx("i",{className:"ri-map-pin-line mr-1"}),l.jsx("span",{className:"text-xs",children:C.location})]})]}),l.jsxs("div",{className:"flex items-center text-xs mt-2 text-slate-300 bg-white/10 rounded-lg px-2 py-1 w-fit backdrop-blur-sm",children:[l.jsx("i",{className:"ri-school-line mr-1"}),l.jsx("span",{className:"truncate max-w-[100px]",children:C.school})]})]})]})]},C.id))}),l.jsx("div",{className:"mt-10 text-center pb-8",children:l.jsxs("button",{className:"bg-white text-slate-600 px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl hover:text-primary-600 hover:scale-105 transition-all cursor-pointer whitespace-nowrap flex items-center mx-auto space-x-2",children:[l.jsx("span",{children:" "}),l.jsx("i",{className:"ri-arrow-down-s-line"})]})}),c&&l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-end animate-fade-in",children:l.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-8 max-h-[85vh] overflow-y-auto animate-slide-up shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold font-display text-slate-800",children:""}),l.jsx("button",{onClick:()=>u(!1),className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:l.jsx("i",{className:"ri-close-line text-2xl text-slate-400"})})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-4 text-lg",children:""}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:()=>i("female"),className:`flex-1 py-4 rounded-2xl font-bold transition-all cursor-pointer border-2 ${n==="female"?"border-primary-500 bg-primary-50 text-primary-600":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:""}),l.jsx("button",{onClick:()=>i("male"),className:`flex-1 py-4 rounded-2xl font-bold transition-all cursor-pointer border-2 ${n==="male"?"border-primary-500 bg-primary-50 text-primary-600":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:""})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-4 text-lg",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["","/","/","","",""].map(C=>l.jsx("button",{className:"px-2 py-3 bg-slate-50 text-slate-600 rounded-xl text-sm font-medium hover:bg-primary-50 hover:text-primary-600 transition-colors cursor-pointer whitespace-nowrap border border-transparent hover:border-primary-200",children:C},C))})]})]}),l.jsxs("div",{className:"flex space-x-4 mt-10",children:[l.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold cursor-pointer hover:bg-slate-200 transition-colors",children:""}),l.jsx("button",{onClick:()=>{u(!1),_()},className:"flex-1 py-4 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-2xl font-bold cursor-pointer shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50 transition-all",children:""})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-100",children:[l.jsx("h3",{className:"text-xl font-bold font-display text-slate-800",children:p}),l.jsx("button",{onClick:()=>m(!1),className:"w-8 h-8 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:l.jsx("i",{className:"ri-close-line text-xl text-slate-400"})})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("div",{className:"w-full h-64 bg-slate-100 rounded-2xl overflow-hidden shadow-inner",children:l.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dO_X0Q&q=${encodeURIComponent(p)}`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`${p} `})}),l.jsxs("div",{className:"mt-5 space-y-3",children:[l.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-3 rounded-xl",children:[l.jsx("i",{className:"ri-map-pin-line text-primary-500 text-lg mr-3"}),l.jsx("span",{className:"font-medium",children:p})]}),l.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-3 rounded-xl cursor-pointer hover:bg-primary-50 hover:text-primary-700 transition-colors group",children:[l.jsx("i",{className:"ri-navigation-line text-primary-500 text-lg mr-3 group-hover:scale-110 transition-transform"}),l.jsx("span",{className:"font-medium",children:" "})]})]}),l.jsx("button",{onClick:()=>m(!1),className:"w-full mt-6 bg-gradient-to-r from-primary-500 to-primary-600 text-white py-4 rounded-2xl font-bold hover:from-primary-600 hover:to-primary-700 transition-all cursor-pointer shadow-lg shadow-primary-500/30",children:""})]})]})})]})}function t1({post:o,onBack:a,onUpdatePost:n,onDeletePost:i}){const c=qe(),[u,h]=T.useState(o),[m,p]=T.useState(""),[g,y]=T.useState(null),[b,w]=T.useState(!1);T.useEffect(()=>{window.scrollTo(0,0),(async()=>{try{const{data:{user:S}}=await ne.auth.getUser();if(S){const{data:k}=await ne.from("users").select("*").eq("id",S.id).single();k&&y({...S,profile:k})}else{const k=localStorage.getItem("user");k&&y(JSON.parse(k))}}catch(S){console.error("   :",S);const k=localStorage.getItem("user");k&&y(JSON.parse(k))}})()},[o]);const j=async()=>{const C=u.isLiked?u.likes-1:u.likes+1,S={...u,isLiked:!u.isLiked,likes:C};h(S),n(S);try{await ne.from("community_posts").update({likes:C}).eq("id",u.id)}catch(k){console.error("  :",k)}},_=async C=>{const S=u.comments.find($=>$.id===C);if(!S)return;const k=S.isLiked?S.likes-1:S.likes+1,L={...u,comments:u.comments.map($=>$.id===C?{...$,isLiked:!$.isLiked,likes:k}:$)};h(L),n(L);try{await ne.from("post_comments").update({likes:k}).eq("id",C)}catch($){console.error("   :",$)}},N=async()=>{if(m.trim()){if(!g){alert(" .");return}try{const C={post_id:u.id,user_id:g.id,author_name:g.profile?.name||"",avatar_url:g.profile?.avatar_url||"",content:m,likes:0},{data:S,error:k}=await ne.from("post_comments").insert([C]).select().single();if(k)throw k;if(S){const L={id:S.id,author:S.author_name,avatar:S.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20profile%20avatar%2C%20friendly%20expression%2C%20professional%20portrait%20photography%2C%20soft%20natural%20lighting%2C%20clean%20white%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=myavatar&orientation=squarish",content:S.content,timeAgo:" ",likes:0,isLiked:!1},$={...u,comments:[...u.comments,L]};h($),n($),p("")}}catch(C){console.error("  :",C),alert("  .")}}},R=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),N())},H=async()=>{if(u.userId!==g?.id&&u.userId!==g?.profile?.id){alert("    .");return}if(window.confirm(" ?")){w(!0);try{const{error:C}=await ne.from("community_posts").delete().eq("id",u.id);if(C)throw C;i&&i(u.id),alert(" ."),a()}catch(C){console.error("  :",C),alert("    .")}finally{w(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-slate-50",children:[l.jsx("div",{className:"bg-white/90 backdrop-blur-md border-b border-slate-100 sticky top-0 z-20",children:l.jsxs("div",{className:"flex items-center px-4 py-3 max-w-md mx-auto",children:[l.jsx("button",{onClick:a,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:l.jsx("i",{className:"ri-arrow-left-line text-xl text-slate-600 group-hover:text-primary-600 transition-colors"})}),l.jsx("h1",{className:"flex-1 text-center font-bold text-slate-800 font-display",children:""}),l.jsx("div",{className:"w-10"})]})}),l.jsx("div",{className:"px-4 py-6 pb-20",children:l.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-primary-500/5 p-6 animate-slide-up",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>c("/profile-detail",{state:{authorData:u.authorData||{id:u.id,name:u.author,avatar_url:u.avatar}}}),children:[l.jsx("img",{src:u.avatar,alt:u.author,className:"w-14 h-14 rounded-2xl object-cover object-top shadow-md group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{onClick:()=>c("/profile-detail",{state:{authorData:u.authorData||{id:u.id,name:u.author,avatar_url:u.avatar}}}),className:"font-bold text-lg text-slate-800 cursor-pointer hover:text-primary-600 transition-colors font-display",children:u.author}),l.jsx("p",{className:"text-xs font-medium text-slate-400",children:u.timeAgo})]}),l.jsx("button",{onClick:()=>{(u.userId===g?.id||u.userId===g?.profile?.id)&&H()},disabled:b||u.userId!==g?.id&&u.userId!==g?.profile?.id,className:`w-8 h-8 flex items-center justify-center rounded-full text-slate-400 transition-all ${u.userId===g?.id||u.userId===g?.profile?.id?"hover:bg-red-50 hover:text-red-500 cursor-pointer":"cursor-default opacity-0"}`,children:l.jsx("i",{className:`ri-${b?"loader-4-line animate-spin":"delete-bin-line"}`})})]}),l.jsx("p",{className:"text-slate-600 mb-6 text-base leading-relaxed whitespace-pre-wrap",children:u.content}),u.image&&l.jsx("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-md",children:l.jsx("img",{src:u.image,alt:" ",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-500"})}),l.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:l.jsxs("div",{className:"flex space-x-3 w-full",children:[l.jsxs("button",{onClick:j,className:`flex-1 flex items-center justify-center space-x-2 py-3.5 rounded-xl transition-all cursor-pointer whitespace-nowrap group ${u.isLiked?"bg-pink-50 text-pink-500 shadow-inner":"bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:[l.jsx("i",{className:`text-xl transition-transform group-hover:scale-110 ${u.isLiked?"ri-heart-fill animate-pulse-soft":"ri-heart-line"}`}),l.jsxs("span",{className:"text-sm font-bold",children:[" ",u.likes>0&&u.likes]})]}),l.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 py-3.5 rounded-xl bg-slate-50 text-slate-500 hover:bg-slate-100 transition-all cursor-pointer whitespace-nowrap group",children:[l.jsx("i",{className:"ri-chat-3-line text-xl group-hover:scale-110 transition-transform"}),l.jsxs("span",{className:"text-sm font-bold",children:[" ",u.comments.length>0&&u.comments.length]})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.1s"},children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center",children:[" ",l.jsx("span",{className:"ml-2 text-primary-500",children:u.comments.length})]}),l.jsxs("div",{className:"flex space-x-4 mb-8 pb-6 border-b border-slate-100",children:[l.jsx("img",{src:g?.avatar_url||g?.profile?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20profile%20avatar%2C%20friendly%20expression%2C%20professional%20portrait%20photography%2C%20soft%20natural%20lighting%2C%20clean%20white%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=myavatar&orientation=squarish",alt:g?.name||" ",className:"w-12 h-12 rounded-full object-cover object-top flex-shrink-0 shadow-sm border-2 border-primary-100"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs font-bold text-slate-600 mb-2",children:g?.name||""}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:m,onChange:C=>p(C.target.value),onKeyPress:R,placeholder:" ...",className:"w-full px-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm resize-none bg-white transition-all placeholder-slate-400 shadow-sm",rows:2,maxLength:500}),l.jsx("button",{onClick:N,disabled:!m.trim(),className:`absolute bottom-3 right-3 p-2 rounded-full transition-all ${m.trim()?"bg-primary-500 text-white hover:bg-primary-600 shadow-md transform hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:l.jsx("i",{className:"ri-send-plane-fill"})})]})]})]}),u.comments.length>0?l.jsx("div",{className:"space-y-5",children:u.comments.map(C=>l.jsxs("div",{className:"flex space-x-3 group pb-5 border-b border-slate-50 last:border-b-0",children:[l.jsx("img",{src:C.avatar,alt:C.author,onClick:()=>c("/profile-detail",{state:{userId:C.id}}),className:"w-11 h-11 rounded-full object-cover object-top flex-shrink-0 cursor-pointer hover:opacity-80 transition-all shadow-sm border-2 border-slate-100 group-hover:border-primary-300"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("button",{onClick:()=>c("/profile-detail",{state:{userId:C.id}}),className:"font-bold text-sm text-slate-800 cursor-pointer hover:text-primary-600 hover:underline transition-colors",children:C.author}),l.jsx("span",{className:"text-xs font-medium text-slate-400",children:C.timeAgo})]}),l.jsx("div",{className:"bg-slate-50 rounded-2xl rounded-tl-none px-4 py-3 group-hover:bg-slate-100 transition-colors border border-slate-100 group-hover:border-primary-200",children:l.jsx("p",{className:"text-sm text-slate-700 leading-relaxed break-words",children:C.content})}),l.jsxs("div",{className:"flex items-center space-x-5 mt-2 ml-1",children:[l.jsxs("button",{onClick:()=>_(C.id),className:`flex items-center space-x-1.5 text-xs font-medium transition-all cursor-pointer group/like ${C.isLiked?"text-pink-500":"text-slate-400 hover:text-pink-500"}`,children:[l.jsx("i",{className:`${C.isLiked?"ri-heart-fill":"ri-heart-line"} group-hover/like:scale-125 transition-transform`}),l.jsx("span",{children:C.likes>0?C.likes:""})]}),l.jsx("button",{className:"text-xs font-medium text-slate-400 hover:text-primary-500 transition-colors cursor-pointer hover:font-semibold",children:""})]})]})]},C.id))}):l.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-slate-50 to-slate-100 rounded-3xl border border-dashed border-slate-200",children:[l.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-white rounded-full shadow-md",children:l.jsx("i",{className:"ri-chat-smile-2-line text-4xl text-primary-300"})}),l.jsx("p",{className:"text-slate-600 font-semibold text-lg",children:"  "}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"    !"})]})]})]})})]})}function a1(){const o=qe(),[a,n]=T.useState("dating"),[i,c]=T.useState([]),[u,h]=T.useState(""),[m,p]=T.useState(!1),[g,y]=T.useState(null),[b,w]=T.useState(!0),[j,_]=T.useState(null);T.useEffect(()=>{(async()=>{try{const{data:{user:D}}=await ne.auth.getUser();if(D){_(D);try{const{data:J,error:I}=await ne.from("users").select("*").eq("id",D.id).single();!I&&J&&_({...D,profile:J})}catch{}}else{const J=localStorage.getItem("user");if(J)try{const I=JSON.parse(J);_(I),console.log("  :",I)}catch(I){console.error("   :",I),_(null)}else _(null)}}catch(D){console.error("   :",D);const J=localStorage.getItem("user");if(J)try{_(JSON.parse(J))}catch{_(null)}}})()},[]),T.useEffect(()=>{j!==null&&N()},[j]);const N=async()=>{w(!0);try{const q=new Promise((G,Z)=>setTimeout(()=>Z(new Error("Timeout")),5e3)),D=ne.from("community_posts").select(`
          *,
          users!user_id (
            id,
            name,
            avatar_url,
            age,
            location,
            gender,
            bio,
            school,
            job
          ),
          post_comments (
            id,
            author_name,
            avatar_url,
            content,
            likes,
            created_at
          )
        `).order("created_at",{ascending:!1}),{data:J,error:I}=await Promise.race([D,q]);if(I)throw I;if(J&&J.length>0){let G=[];if(j){const{data:te}=await ne.from("community_post_likes").select("post_id").eq("user_id",j.id);G=te?.map(ee=>ee.post_id)||[]}const Z=J.map(te=>{const ee=te.users;return{id:te.id,author:ee?.name||"",avatar:ee?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=400&height=500&seq=default&orientation=portrait",content:te.content,image:te.image_url,likes:te.likes,comments:te.post_comments?.map(Ne=>({id:Ne.id,author:Ne.author_name,avatar:Ne.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=100&height=100&seq=default&orientation=squarish",content:Ne.content,timeAgo:R(Ne.created_at),likes:Ne.likes,isLiked:!1}))||[],timeAgo:R(te.created_at),isLiked:G.includes(te.id),age:ee?.age,location:ee?.location,job:ee?.job,views:te.views,category:te.category,userId:te.user_id,authorData:{id:ee?.id,name:ee?.name||"",avatar_url:ee?.avatar_url,age:ee?.age,location:ee?.location,gender:ee?.gender,bio:ee?.bio,school:ee?.school,job:ee?.job}}});c(Z)}else throw new Error("No data")}catch(q){console.error("  :",q),c([])}finally{w(!1)}},R=q=>{const D=new Date,J=new Date(q),I=Math.floor((D.getTime()-J.getTime())/(1e3*60));if(I<1)return" ";if(I<60)return`${I} `;const G=Math.floor(I/60);return G<24?`${G} `:`${Math.floor(G/24)} `},H=i.filter(q=>q.category===a),C=async q=>{if(!j){alert(" .");return}const D=i.find(J=>J.id===q);if(D)try{D.isLiked?(await ne.from("community_post_likes").delete().eq("post_id",q).eq("user_id",j.id),await ne.from("community_posts").update({likes:Math.max(0,D.likes-1)}).eq("id",q),c(i.map(J=>J.id===q?{...J,isLiked:!1,likes:Math.max(0,J.likes-1)}:J))):(await ne.from("community_post_likes").insert({post_id:q,user_id:j.id}),await ne.from("community_posts").update({likes:D.likes+1}).eq("id",q),c(i.map(J=>J.id===q?{...J,isLiked:!0,likes:J.likes+1}:J)))}catch(J){console.error("  :",J),alert("    .")}},S=async q=>{try{await ne.from("community_posts").update({views:(q.views||0)+1}).eq("id",q.id),c(i.map(D=>D.id===q.id?{...D,views:(D.views||0)+1}:D))}catch(D){console.error("  :",D)}y(q)},k=()=>{y(null),window.scrollTo(0,0)},L=q=>{c(i.map(D=>D.id===q.id?q:D))},$=async()=>{if(u.trim()){if(!j){alert(" .");return}try{const q={user_id:j.id,author_name:j.profile?.name||"",avatar_url:j.profile?.avatar_url||"",title:u.substring(0,50),content:`${j.profile?.name||""} (${j.profile?.location||" "} / ${j.profile?.age||" "} / ${j.profile?.school||" "})`,image_url:j.profile?.avatar_url||"https://readdy.ai/api/search-image?query=Korean%20person%20casual%20portrait%2C%20friendly%20expression%2C%20natural%20lighting%2C%20clean%20background%2C%20high%20quality%2C%20realistic&width=400&height=500&seq=newpost&orientation=portrait",likes:0,views:0,category:a,age:j.profile?.age,location:j.profile?.location,job:j.profile?.school},{data:D,error:J}=await ne.from("community_posts").insert([q]).select().single();if(J)throw J;if(D){const I={id:D.id,author:D.title,avatar:D.avatar_url,content:D.content,image:D.image_url,likes:0,comments:[],timeAgo:" ",isLiked:!1,age:D.age,location:D.location,job:D.job,views:0,category:D.category};c([I,...i]),h(""),p(!1)}}catch(q){console.error("  :",q),alert("  .")}}};return g?l.jsx(t1,{post:g,onBack:k,onUpdatePost:L,onDeletePost:q=>{c(i.filter(D=>D.id!==q)),y(null)}}):l.jsxs("div",{className:"px-4 py-4 pb-20 min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h2",{className:"text-2xl font-bold font-display text-slate-800",children:""}),l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg shadow-primary-500/30 animate-pulse-soft",children:"TODAY"}),l.jsx("span",{className:"text-primary-600 font-bold font-display text-lg",children:"30,301"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:l.jsx("i",{className:"ri-equalizer-line text-xl text-slate-400 group-hover:text-primary-500 transition-colors"})}),l.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer group",children:l.jsx("i",{className:"ri-layout-grid-line text-xl text-slate-400 group-hover:text-primary-500 transition-colors"})})]})]}),l.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:[l.jsx("button",{onClick:()=>n("dating"),className:`px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap cursor-pointer transition-all duration-300 ${a==="dating"?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-100"}`,children:""}),l.jsx("button",{onClick:()=>n("chat"),className:`px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap cursor-pointer transition-all duration-300 ${a==="chat"?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 scale-105":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-100"}`,children:""})]}),l.jsxs("div",{className:"flex space-x-2 mb-6",children:[l.jsx("button",{className:"px-4 py-1.5 bg-primary-50 text-primary-600 rounded-full text-xs font-bold whitespace-nowrap cursor-pointer border border-primary-100",children:""}),l.jsx("button",{className:"px-4 py-1.5 bg-white text-slate-400 rounded-full text-xs font-medium whitespace-nowrap cursor-pointer hover:bg-slate-50 border border-transparent hover:border-slate-100 transition-colors",children:""})]}),b?l.jsxs("div",{className:"flex flex-col justify-center items-center py-20 space-y-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-primary-100 border-t-primary-500 rounded-full animate-spin"}),l.jsx("p",{className:"text-slate-400 text-sm font-medium animate-pulse",children:"  ..."})]}):l.jsx("div",{className:"space-y-4",children:H.map(q=>l.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden cursor-pointer hover:shadow-xl hover:shadow-primary-500/5 transition-all duration-300 group transform hover:-translate-y-0.5",onClick:()=>S(q),children:l.jsxs("div",{className:"flex p-3",children:[l.jsxs("div",{className:"w-28 h-36 flex-shrink-0 rounded-2xl overflow-hidden relative",children:[l.jsx("img",{src:q.image,alt:q.author,className:"w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),l.jsxs("div",{className:"flex-1 ml-4 flex flex-col justify-between py-1",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-md bg-slate-100 text-slate-500",children:q.category==="dating"?"":""}),l.jsx("span",{className:"text-xs text-slate-400",children:q.timeAgo})]}),l.jsx("h3",{className:"text-base font-bold text-slate-800 line-clamp-1 mb-1 group-hover:text-primary-600 transition-colors",children:q.author}),l.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 leading-relaxed",children:q.content})]}),l.jsx("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-50",children:l.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium text-slate-400",children:[l.jsxs("div",{className:"flex items-center space-x-1.5 group/icon",children:[l.jsx("i",{className:"ri-eye-line group-hover/icon:text-primary-500 transition-colors"}),l.jsx("span",{children:q.views})]}),l.jsxs("button",{onClick:D=>{D.stopPropagation(),C(q.id)},className:"flex items-center space-x-1.5 group/icon cursor-pointer",children:[l.jsx("i",{className:`ri-heart-3-line group-hover/icon:text-pink-500 transition-colors ${q.isLiked?"text-pink-500 ri-heart-3-fill":""}`}),l.jsx("span",{children:q.likes})]}),l.jsxs("div",{className:"flex items-center space-x-1.5 group/icon",children:[l.jsx("i",{className:"ri-chat-3-line group-hover/icon:text-blue-500 transition-colors"}),l.jsx("span",{children:q.comments.length})]})]})})]})]})},q.id))}),l.jsx("button",{onClick:()=>o("/post/create"),className:"fixed bottom-24 right-6 w-14 h-14 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-full shadow-lg shadow-primary-500/40 flex items-center justify-center hover:from-primary-600 hover:to-primary-700 hover:scale-110 transition-all cursor-pointer z-30 group",children:l.jsx("i",{className:"ri-add-line text-2xl group-hover:rotate-90 transition-transform duration-300"})}),m&&l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-end animate-fade-in",children:l.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-6 animate-slide-up shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold font-display text-slate-800",children:"  "}),l.jsx("button",{onClick:()=>p(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-close-line text-xl text-slate-400"})})]}),l.jsx("textarea",{value:u,onChange:q=>h(q.target.value),placeholder:"   ?",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm resize-none bg-slate-50 placeholder-slate-400 transition-all",rows:5,maxLength:500}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("span",{className:"text-xs font-medium text-slate-400",children:[u.length,"/500"]}),l.jsx("button",{onClick:$,className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-full hover:from-primary-600 hover:to-primary-700 transition-all cursor-pointer whitespace-nowrap text-sm font-bold shadow-lg shadow-primary-500/30",children:""})]})]})})]})}const bs=o=>o==="male"?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function s1(){const{user:o}=Bt(),[a,n]=T.useState(null),[i,c]=T.useState(""),u=T.useRef(null),[h,m]=T.useState([]),[p,g]=T.useState({});T.useEffect(()=>{a&&u.current&&u.current.scrollIntoView({behavior:"smooth"})},[p,a]),T.useEffect(()=>{if(!o?.id)return;y();const N=ne.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},()=>{y(),a&&b(a)}).subscribe();return()=>{N.unsubscribe()}},[o?.id,a]);const y=async()=>{if(o?.id)try{const{data:N}=await ne.from("messages").select("sender_id, recipient_id").or(`sender_id.eq.${o.id},recipient_id.eq.${o.id}`).order("created_at",{ascending:!1}).limit(100);if(!N)return;const R=new Set;N.forEach(C=>{C.sender_id===o.id?R.add(C.recipient_id):R.add(C.sender_id)});const H=[];for(const C of R){const{data:S}=await ne.from("users").select("id, name, profile_image, gender").eq("id",C).single(),{data:k}=await ne.from("messages").select("content, created_at, is_read").or(`sender_id.eq.${C},recipient_id.eq.${C}`).or(`sender_id.eq.${o.id},recipient_id.eq.${o.id}`).order("created_at",{ascending:!1}).limit(1).single();S&&H.push({id:S.id,name:S.name||"",avatar:S.profile_image||bs(S.gender),lastMessage:k?.content||"Conversation started",lastMessageTime:k?new Date(k.created_at).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}):" ",unreadCount:k&&!k.is_read?1:0,isOnline:!0,gender:S.gender})}m(H.sort((C,S)=>new Date(S.lastMessageTime).getTime()-new Date(C.lastMessageTime).getTime()))}catch(N){console.error("   :",N)}},b=async N=>{if(o?.id)try{const{data:R}=await ne.from("messages").select("id, sender_id, content, created_at, is_read").or(`sender_id.eq.${o.id},recipient_id.eq.${o.id}`).or(`sender_id.eq.${N},recipient_id.eq.${N}`).order("created_at",{ascending:!0});if(R){const H=R.map(C=>({id:C.id,senderId:C.sender_id,content:C.content,timestamp:new Date(C.created_at).toLocaleTimeString("ko-KR",{hour:"numeric",minute:"2-digit",hour12:!0}),isRead:C.is_read}));g(C=>({...C,[N]:H})),await ne.from("messages").update({is_read:!0}).eq("recipient_id",o.id).eq("sender_id",N)}}catch(R){console.error("  :",R)}},w=async()=>{if(!(!i.trim()||!a||!o?.id))try{const{error:N}=await ne.from("messages").insert({sender_id:o.id,recipient_id:a,content:i,is_read:!1});if(N)throw N;c("")}catch(N){console.error("  :",N),alert("  .")}},j=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),w())},_=N=>{n(N),b(N)};if(a){const N=h.find(H=>H.id===a),R=p[a]||[];return l.jsxs("div",{className:"fixed inset-0 top-0 bottom-20 flex flex-col bg-slate-50 z-50",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 bg-white/90 backdrop-blur-md flex-shrink-0 pt-16",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>n(null),className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors",children:l.jsx("i",{className:"ri-arrow-left-line text-xl text-slate-600"})}),l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:N?.avatar||bs(N?.gender),alt:N?.name,className:"w-10 h-10 rounded-full object-cover object-top shadow-sm",onError:H=>{const C=H.target;C.src=bs(N?.gender)}}),N?.isOnline&&l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800 font-display",children:N?.name}),N?.isOnline&&l.jsx("span",{className:"text-[10px] text-green-500 font-medium",children:""})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:l.jsx("i",{className:"ri-phone-line text-xl"})}),l.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:l.jsx("i",{className:"ri-video-line text-xl"})}),l.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:l.jsx("i",{className:"ri-more-line text-xl"})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[R.map(H=>l.jsx("div",{className:`flex ${H.senderId===o?.id?"justify-end":"justify-start"} animate-slide-up`,children:l.jsxs("div",{className:"flex items-end space-x-2 max-w-[80%]",children:[H.senderId!==o?.id&&l.jsx("img",{src:N?.avatar||bs(N?.gender),alt:N?.name,className:"w-8 h-8 rounded-full object-cover object-top shadow-sm mb-1",onError:C=>{const S=C.target;S.src=bs(N?.gender)}}),l.jsx("div",{className:`px-5 py-3 rounded-2xl shadow-sm ${H.senderId===o?.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-br-none":"bg-white text-slate-700 rounded-bl-none border border-slate-100"}`,children:l.jsx("p",{className:"text-sm leading-relaxed",children:H.content})})]})},H.id)),R.length>0&&l.jsx("div",{className:"text-center py-2",children:l.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-100 px-3 py-1 rounded-full",children:R[R.length-1]?.timestamp})}),l.jsx("div",{ref:u})]}),l.jsx("div",{className:"p-4 bg-white border-t border-slate-100 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{className:"w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-primary-500",children:l.jsx("i",{className:"ri-add-line text-xl"})}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:i,onChange:H=>c(H.target.value),onKeyPress:j,placeholder:" ...",className:"w-full px-5 py-3 bg-slate-50 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all text-sm border border-transparent focus:border-primary-200",maxLength:500}),l.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-primary-500 transition-colors",children:l.jsx("i",{className:"ri-emotion-line text-xl"})})]}),l.jsx("button",{onClick:w,disabled:!i.trim(),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all cursor-pointer shadow-md ${i.trim()?"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:scale-105 hover:shadow-primary-500/30":"bg-slate-100 text-slate-300 cursor-not-allowed"}`,children:l.jsx("i",{className:"ri-send-plane-fill text-lg"})})]})})]})}return l.jsx("div",{className:"px-4 py-6 pb-20 min-h-screen",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold font-display text-slate-800",children:""}),l.jsx("div",{className:"flex space-x-2",children:l.jsx("button",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-slate-400 hover:text-primary-500 hover:shadow-md transition-all",children:l.jsx("i",{className:"ri-search-line text-xl"})})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-2",children:"Recent Messages"}),h.map(N=>l.jsx("div",{onClick:()=>_(N.id),className:"bg-white rounded-3xl p-4 shadow-sm hover:shadow-lg hover:shadow-primary-500/5 transition-all duration-300 cursor-pointer border border-slate-50 group transform hover:-translate-y-0.5",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:N.avatar||bs(N.gender),alt:N.name,className:"w-14 h-14 rounded-2xl object-cover object-top shadow-sm group-hover:scale-105 transition-transform duration-300",onError:R=>{const H=R.target;H.src=bs(N.gender)}}),N.isOnline&&l.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("h3",{className:"font-bold text-slate-800 truncate text-base font-display group-hover:text-primary-600 transition-colors",children:N.name}),l.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-50 px-2 py-0.5 rounded-full",children:N.lastMessageTime})]}),l.jsx("p",{className:`text-sm truncate ${N.unreadCount>0?"text-slate-800 font-bold":"text-slate-500"}`,children:N.lastMessage})]}),N.unreadCount>0&&l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg shadow-primary-500/30 animate-bounce",children:N.unreadCount})]})},N.id))]}),h.length===0&&l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:l.jsx("i",{className:"ri-chat-3-line text-4xl text-slate-300"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 font-display",children:"  "}),l.jsx("p",{className:"text-slate-500",children:"   !"})]})]})})}const Fg=o=>o===""||o==="male"?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function n1(){const o=qe(),{user:a}=Bt(),[n,i]=T.useState({name:"",age:0,gender:"",location:" ",avatar:"",bio:"",interests:[]}),[c,u]=T.useState({received:0,sent:0}),[h,m]=T.useState(!0);T.useEffect(()=>{p(),g()},[a?.id]);const p=async()=>{try{if(!a?.id){m(!1);return}const{data:w,error:j}=await ne.from("users").select("*").eq("id",a.id).single();if(j){console.error("  :",j),m(!1);return}w&&(i({name:w.name||"",age:w.age||0,gender:w.gender==="male"?"":"",location:w.location||" ",avatar:w.avatar_url||w.profile_image||"",bio:w.bio||"",interests:w.interests||[]}),console.log("  :",w))}catch(w){console.error("  :",w)}finally{m(!1)}},g=async()=>{try{if(!a?.id)return;const{count:w}=await ne.from("matching_requests").select("*",{count:"exact",head:!0}).eq("to_user_id",a.id).eq("status","pending"),{count:j}=await ne.from("matching_requests").select("*",{count:"exact",head:!0}).eq("from_user_id",a.id).eq("status","pending");u({received:w||0,sent:j||0})}catch(w){console.error("   :",w)}};if(h)return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[l.jsxs("div",{className:"relative w-16 h-16",children:[l.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})]}),l.jsx("div",{className:"text-sm font-medium text-slate-500",children:"  ..."})]});const y=()=>{o("/profile-edit")},b=()=>{o("/matching-requests")};return l.jsx("div",{className:"px-4 py-6 pb-20 min-h-screen",children:l.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-8 animate-slide-up relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-primary-100 to-secondary-100 opacity-50"}),l.jsxs("div",{className:"relative text-center",children:[l.jsxs("div",{className:"relative inline-block mb-4",children:[l.jsx("div",{className:"p-1 bg-white rounded-full shadow-lg",children:l.jsx("img",{src:n.avatar||Fg(n.gender),alt:n.name,className:"w-28 h-28 rounded-full object-cover group-hover:scale-105 transition-transform duration-500",onError:w=>{const j=w.target;j.src=Fg(n.gender)}})}),l.jsx("button",{className:"absolute bottom-2 right-2 w-9 h-9 bg-slate-800 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-black transition-colors cursor-pointer hover:scale-110 transform duration-300 border-2 border-white",children:l.jsx("i",{className:"ri-camera-line text-lg"})})]}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1 font-display",children:n.name}),l.jsxs("p",{className:"text-slate-500 mb-6 font-medium",children:[n.age,"  ",n.location]}),l.jsx("button",{onClick:y,className:"w-full bg-slate-800 text-white py-3.5 rounded-2xl font-bold hover:bg-black transition-all cursor-pointer whitespace-nowrap shadow-lg shadow-slate-200 hover:shadow-xl transform hover:-translate-y-0.5",children:" "})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-secondary-600 rounded-[2rem] shadow-xl shadow-primary-500/20 p-6 animate-slide-up text-white relative overflow-hidden",style:{animationDelay:"0.1s"},children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full blur-xl -ml-10 -mb-10"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"font-bold text-lg flex items-center font-display",children:[l.jsx("i",{className:"ri-heart-fill text-pink-300 mr-2 text-xl animate-pulse-soft"})," "]}),l.jsx("button",{onClick:b,className:"text-white/80 text-sm font-medium hover:text-white cursor-pointer whitespace-nowrap bg-white/10 px-3 py-1 rounded-full backdrop-blur-sm hover:bg-white/20 transition-colors",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 text-center border border-white/10 hover:bg-white/20 transition-colors",children:[l.jsx("div",{className:"text-3xl font-bold mb-1 font-display",children:c.received}),l.jsx("div",{className:"text-xs text-white/80 font-medium",children:" "})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 text-center border border-white/10 hover:bg-white/20 transition-colors",children:[l.jsx("div",{className:"text-3xl font-bold mb-1 font-display",children:c.sent}),l.jsx("div",{className:"text-xs text-white/80 font-medium",children:" "})]})]}),l.jsxs("button",{onClick:b,className:"w-full bg-white text-primary-600 py-3.5 rounded-2xl font-bold hover:bg-slate-50 transition-all cursor-pointer whitespace-nowrap flex items-center justify-center shadow-lg",children:[l.jsx("i",{className:"ri-heart-line mr-2 text-lg"})," "]})]})]}),l.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center font-display",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-50 flex items-center justify-center mr-3 text-primary-500",children:l.jsx("i",{className:"ri-user-smile-line text-lg"})}),""]}),l.jsx("p",{className:"text-slate-600 leading-relaxed bg-slate-50 p-4 rounded-2xl text-sm",children:n.bio})]}),l.jsxs("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-6 animate-slide-up",style:{animationDelay:"0.3s"},children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center font-display",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-50 flex items-center justify-center mr-3 text-pink-500",children:l.jsx("i",{className:"ri-heart-line text-lg"})}),""]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map((w,j)=>l.jsx("span",{className:"bg-white border border-slate-100 text-slate-600 px-4 py-2 rounded-full text-sm font-medium shadow-sm hover:shadow-md hover:border-primary-200 hover:text-primary-600 transition-all cursor-default",children:w},j))})]}),l.jsx("div",{className:"bg-white rounded-[2rem] shadow-lg shadow-primary-500/5 p-4 animate-slide-up",style:{animationDelay:"0.4s"},children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:l.jsx("i",{className:"ri-settings-3-line text-blue-500 text-xl"})}),l.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:""})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]}),l.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center group-hover:bg-green-100 transition-colors",children:l.jsx("i",{className:"ri-shield-check-line text-green-500 text-xl"})}),l.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:" "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]}),l.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 rounded-2xl transition-all cursor-pointer group",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-full flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:l.jsx("i",{className:"ri-question-line text-purple-500 text-xl"})}),l.jsx("span",{className:"font-bold text-slate-700 group-hover:text-slate-900",children:""})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-slate-300 group-hover:text-slate-500 text-xl transition-colors"})]})]})})]})})}function i1(){const o=qe(),{user:a,loading:n}=Bt(),[i,c]=T.useState("matching"),[u]=T.useState(150);if(T.useEffect(()=>{if(!n){const m=localStorage.getItem("user");!a&&!m&&o("/login")}},[n,a,o]),n)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:" ..."})]})});const h=()=>{switch(i){case"matching":return l.jsx(Zg,{});case"community":return l.jsx(a1,{});case"chat":return l.jsx(s1,{});case"profile":return l.jsx(n1,{});default:return l.jsx(Zg,{})}};return l.jsxs("div",{className:"min-h-screen bg-slate-50",children:[l.jsx(Wj,{coins:u}),l.jsx("main",{className:"pb-28 px-4 max-w-screen-xl mx-auto",style:{paddingTop:"calc(5rem + env(safe-area-inset-top))"},children:h()}),l.jsx(e1,{activeTab:i,onTabChange:c})]})}function r1(){const o=qe(),{signInPhone:a,signUpPhone:n}=Bt(),[i,c]=T.useState(!0),[u,h]=T.useState(!1),[m,p]=T.useState({phoneNumber:"",password:"",confirmPassword:"",name:"",age:"",gender:"male"}),g=_=>{const N=_.replace(/[^\d]/g,"").slice(0,11);return N.length<=3?N:N.length<=7?`${N.slice(0,3)}-${N.slice(3)}`:`${N.slice(0,3)}-${N.slice(3,7)}-${N.slice(7)}`},y=_=>{const N=g(_.target.value);p({...m,phoneNumber:N})},b=_=>{const N=_.replace(/[^\d]/g,"");return N.length===11&&N.startsWith("010")},w=async _=>{_.preventDefault(),h(!0);try{if(!m.phoneNumber||!m.password){alert("  ."),h(!1);return}if(!b(m.phoneNumber)){alert("   . (010-XXXX-XXXX)"),h(!1);return}const N=m.phoneNumber.replace(/-/g,""),{error:R,profileCompleted:H}=await a(N,m.password);if(R){alert(` : ${R.message}`);return}H?o("/"):o("/signup-profile",{state:{phoneNumber:N}})}catch(N){alert(` : ${N.message}`)}finally{h(!1)}},j=async _=>{if(_.preventDefault(),!m.phoneNumber){alert(" .");return}if(!b(m.phoneNumber)){alert("   . (010-XXXX-XXXX)");return}if(!m.name){alert(" .");return}if(!m.age){alert(" .");return}if(!m.gender||m.gender===""){alert(" .");return}if(m.password!==m.confirmPassword){alert("  .");return}if(m.password.length<8){alert(" 8  .");return}h(!0);try{const N=m.phoneNumber.replace(/-/g,""),{error:R}=await n(N,m.password,{name:m.name,age:parseInt(m.age),gender:m.gender});if(R){alert(` : ${R.message}`);return}alert(" !  ."),o("/signup-profile",{state:{phoneNumber:N}})}catch(N){alert(` : ${N.message}`)}finally{h(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-500 via-sky-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:l.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:l.jsx("i",{className:"ri-heart-fill text-white text-3xl"})})}),l.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-yellow-400 rounded-full border-2 border-white"})]})}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Attract"}),l.jsx("p",{className:"text-gray-600",children:"   "})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex bg-gray-100 rounded-full p-1 mb-6",children:[l.jsx("button",{onClick:()=>c(!0),className:`flex-1 py-3 rounded-full font-medium transition-all cursor-pointer whitespace-nowrap ${i?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md":"text-gray-600"}`,children:""}),l.jsx("button",{onClick:()=>c(!1),className:`flex-1 py-3 rounded-full font-medium transition-all cursor-pointer whitespace-nowrap ${i?"text-gray-600":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md"}`,children:""})]}),i?l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("input",{type:"tel",value:m.phoneNumber,onChange:y,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"010-1234-5678",maxLength:13})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("input",{type:"password",value:m.password,onChange:_=>p({...m,password:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{className:"text-gray-600",children:"  "})]}),l.jsx("button",{type:"button",className:"text-cyan-500 hover:text-cyan-600 cursor-pointer whitespace-nowrap",children:" "})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:u?" ...":""})]}):l.jsxs("form",{onSubmit:j,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"tel",required:!0,value:m.phoneNumber,onChange:y,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"010-1234-5678",maxLength:13})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",required:!0,value:m.name,onChange:_=>p({...m,name:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:" "})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",required:!0,min:"19",max:"99",value:m.age,onChange:_=>p({...m,age:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:""})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{required:!0,value:m.gender,onChange:_=>p({...m,gender:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm pr-8",children:[l.jsx("option",{value:"",children:" "}),l.jsx("option",{value:"male",children:""}),l.jsx("option",{value:"female",children:""})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"password",required:!0,minLength:8,value:m.password,onChange:_=>p({...m,password:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"8  "})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"password",required:!0,minLength:8,value:m.confirmPassword,onChange:_=>p({...m,confirmPassword:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",placeholder:"  "})]}),l.jsxs("label",{className:"flex items-start cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",className:"mt-1 mr-2"}),l.jsxs("span",{className:"text-gray-600",children:[l.jsx("span",{className:"text-cyan-500",children:""}),"  ",l.jsx("span",{className:"text-cyan-500",children:""})," "]})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:u?" ...":""})]})]}),l.jsx("div",{className:"text-center mt-6 text-sm text-gray-600",children:l.jsxs("p",{children:[" ?"," ",l.jsx("button",{className:"text-cyan-500 hover:text-cyan-600 cursor-pointer whitespace-nowrap",children:""})]})})]})})}function l1(){const o=qe(),a=Wt(),[n,i]=T.useState({phone_number:"",name:"",age:20,gender:"male",location:"",bio:"",mbti:"",school:"",job:"",height:"160~165",body_type:"",style:"",religion:"",smoking:"",drinking:"",interests:[],profile_image:""}),[c,u]=T.useState(""),[h,m]=T.useState(!1),[p,g]=T.useState(!1),[y,b]=T.useState(""),[w,j]=T.useState(!1);T.useEffect(()=>{const L=a.state?.phoneNumber;L&&(async()=>{const{data:q}=await ne.from("users").select("*").eq("phone_number",L).single();q&&i(D=>({...D,phone_number:q.phone_number,name:q.name,age:q.age||20,gender:q.gender||"male",location:q.location||"",bio:q.bio||"",mbti:q.mbti||"",school:q.school||"",job:q.job||""}))})()},[a]);const _={:["","","","","","","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","",""],:["","","","","","","","","","","","","","","",""],:["","","","","","","",""],:["","","","",""],:["","","","",""],:["","","","",""],:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","",""]},N=()=>{c.trim()&&!n.interests.includes(c)&&(i(L=>({...L,interests:[...L.interests,c]})),u(""))},R=L=>{i($=>({...$,interests:$.interests.filter((q,D)=>D!==L)}))},H=(L,$)=>{i(q=>({...q,location:`${L} ${$}`})),m(!1)},C=async L=>{const $=L.target.files?.[0];if(!$)return;if(console.log(" :",$.name,$.type,$.size),!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes($.type)){alert("JPG, PNG, WEBP, GIF    .");return}const D=5*1024*1024;if($.size>D){alert("  5MB  .");return}j(!0);try{const J=`profile_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;console.log(" :",J);const{error:I,data:G}=await ne.storage.from("profile-images").upload(J,$,{cacheControl:"3600",upsert:!1});if(console.log(" :",{error:I,data:G}),I){let ee=I.message||"   ";ee.includes("Bucket not found")?ee=` Supabase Storage   .
 .

 : "user-profiles" bucket .`:(ee.includes("401")||ee.includes("Unauthorized"))&&(ee="  : Supabase  ."),alert("  : "+ee),console.error("  :",I);return}const te=`https://ytffobltrwkgxiedorsd.supabase.co/storage/v1/object/public/profile-images/${J}`;console.log("  URL:",te),b(te),alert(" !")}catch(J){console.error("  :",J),alert("  : "+J.message)}finally{j(!1)}},S=()=>"https://readdy.ai/api/search-image?query=minimalist%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=default-avatar&orientation=squarish",k=async()=>{if(!y&&!n.profile_image){alert("  . ()");return}console.log(" :",{uploadedImageUrl:y,profile_image:n.profile_image}),g(!0);try{const{error:L}=await ne.from("users").update({mbti:n.mbti,location:n.location,bio:n.bio,school:n.school,job:n.job,height:n.height,body_type:n.body_type,style:n.style,religion:n.religion,smoking:n.smoking,drinking:n.drinking,interests:n.interests,profile_image:y||n.profile_image,profile_completed:!0}).eq("phone_number",n.phone_number);if(L){alert("  : "+L.message),console.error(" :",L);return}alert(" !"),o("/")}catch(L){alert("  : "+L.message)}finally{g(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-600 mt-2",children:"      "})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"MBTI"}),l.jsx("input",{type:"text",value:n.mbti,onChange:L=>i($=>({...$,mbti:L.target.value.toUpperCase()})),placeholder:": ENFP",maxLength:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{type:"button",onClick:()=>m(!0),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl bg-white text-gray-700 hover:border-cyan-500 transition-colors cursor-pointer",children:n.location||" "})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full max-h-96 overflow-y-auto",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),l.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto",children:Object.entries(_).map(([L,$])=>l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 py-2",children:L}),l.jsx("div",{className:"grid grid-cols-2 gap-2 ml-2",children:$.slice(0,10).map(q=>l.jsx("button",{onClick:()=>H(L,q),className:"text-left px-3 py-2 bg-gray-100 hover:bg-cyan-200 rounded-lg text-sm transition-colors cursor-pointer",children:q},q))})]},L))}),l.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 px-4 py-3 bg-gray-200 rounded-xl cursor-pointer",children:""})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsx("textarea",{value:n.bio,onChange:L=>i($=>({...$,bio:L.target.value})),placeholder:" ...",maxLength:200,rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500 resize-none"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.bio.length,"/200"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsx("input",{type:"text",value:n.school,onChange:L=>i($=>({...$,school:L.target.value})),placeholder:"",maxLength:50,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsx("input",{type:"text",value:n.job,onChange:L=>i($=>({...$,job:L.target.value})),placeholder:"",maxLength:50,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("select",{value:n.height,onChange:L=>i($=>({...$,height:L.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500",children:[l.jsx("option",{value:"150~155",children:"150~155"}),l.jsx("option",{value:"155~160",children:"155~160"}),l.jsx("option",{value:"160~165",children:"160~165"}),l.jsx("option",{value:"165~170",children:"165~170"}),l.jsx("option",{value:"170~175",children:"170~175"}),l.jsx("option",{value:"175~180",children:"175~180"}),l.jsx("option",{value:"180~185",children:"180~185"}),l.jsx("option",{value:"185+",children:"185+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("select",{value:n.body_type,onChange:L=>i($=>({...$,body_type:L.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500",children:[l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("select",{value:n.style,onChange:L=>i($=>({...$,style:L.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500",children:[l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("select",{value:n.religion,onChange:L=>i($=>({...$,religion:L.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500",children:[l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("select",{value:n.smoking,onChange:L=>i($=>({...$,smoking:L.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500",children:[l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("select",{value:n.drinking,onChange:L=>i($=>({...$,drinking:L.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500",children:[l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:""}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"text",value:c,onChange:L=>u(L.target.value),onKeyPress:L=>L.key==="Enter"&&N(),placeholder:" ",maxLength:20,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-cyan-500"}),l.jsx("button",{onClick:N,className:"px-4 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-colors cursor-pointer whitespace-nowrap font-semibold",children:""})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map((L,$)=>l.jsxs("div",{className:"flex items-center gap-2 bg-cyan-100 text-cyan-800 px-3 py-2 rounded-full text-sm",children:[L,l.jsx("button",{onClick:()=>R($),className:"text-cyan-600 hover:text-cyan-800 cursor-pointer",children:""})]},$))})]}),l.jsxs("div",{className:"text-center pt-6 border-t border-gray-100",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-4",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})," ()"]}),l.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"    "}),l.jsxs("div",{className:"relative inline-block mb-4",children:[w&&l.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center z-10",children:l.jsx("i",{className:"ri-loader-4-line text-white text-2xl animate-spin"})}),l.jsx("img",{src:y||n.profile_image||S(),alt:"",className:"w-32 h-32 rounded-full object-cover border-4 border-cyan-200",onError:L=>{const $=L.target;$.src=S()}}),l.jsx("input",{type:"file",id:"profile-image-upload",accept:"image/*",onChange:C,disabled:w,className:"hidden"}),l.jsx("label",{htmlFor:"profile-image-upload",className:`absolute bottom-0 right-0 w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all cursor-pointer ${w?"opacity-50 cursor-not-allowed":"hover:from-cyan-600 hover:to-blue-700"}`,children:l.jsx("i",{className:"ri-camera-line"})})]}),y||n.profile_image?l.jsx("p",{className:"text-sm text-green-500 font-semibold",children:"   "}):l.jsx("p",{className:"text-sm text-red-500 font-semibold",children:"  "})]}),l.jsxs("div",{className:"flex gap-3 pt-6",children:[l.jsx("button",{onClick:()=>o("/"),className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors cursor-pointer font-semibold",children:""}),l.jsx("button",{onClick:k,disabled:p,className:"flex-1 px-4 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl hover:from-cyan-600 hover:to-blue-600 transition-colors disabled:opacity-50 cursor-pointer font-semibold",children:p?" ...":""})]})]})]})})}function o1(){const o=qe(),[a,n]=T.useState({name:"",phoneNumber:"",password:"",age:"",gender:"",location:"",bio:"",mbti:"",school:"",height:"",bodyType:"",style:"",religion:"",smoking:"",drinking:""}),[i,c]=T.useState(null),[u,h]=T.useState(""),[m,p]=T.useState(!1),[g,y]=T.useState([]),[b,w]=T.useState(""),j=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],_=["150~155","155~160","160~165","165~170","170~175","175~180","180~185","185~190"],N=["","","","",""],R=["","","","","",""],H=["","","","","",""],C=["",""],S=[" ","",""],k=G=>{const{name:Z,value:te}=G.target;n(ee=>({...ee,[Z]:te}))},L=G=>{const Z=G.replace(/[^\d]/g,"");return Z.length<=3?Z:Z.length<=7?`${Z.slice(0,3)}-${Z.slice(3)}`:`${Z.slice(0,3)}-${Z.slice(3,7)}-${Z.slice(7,11)}`},$=G=>{const Z=L(G.target.value);n(te=>({...te,phoneNumber:Z}))},q=G=>{const Z=G.target.files?.[0];if(!Z)return;if(Z.size>5*1024*1024){alert("  5MB  .");return}if(!Z.type.startsWith("image/")){alert("   .");return}c(Z);const te=new FileReader;te.onloadend=()=>{h(te.result)},te.readAsDataURL(Z)},D=async()=>{if(!i)return null;try{const G=i.name.split(".").pop(),te=`avatars/${`${Date.now()}_${Math.random().toString(36).substring(7)}.${G}`}`,{error:ee}=await ne.storage.from("avatars").upload(te,i,{cacheControl:"3600",upsert:!1});if(ee)throw ee;const{data:{publicUrl:Ne}}=ne.storage.from("avatars").getPublicUrl(te);return Ne}catch(G){return console.error("  :",G),null}},J=async G=>{if(G.preventDefault(),!a.name.trim()){alert(" .");return}if(!a.phoneNumber||a.phoneNumber.length<13){alert("  .");return}if(!a.password||a.password.length<4){alert(" 4  .");return}if(!a.gender){alert(" .");return}if(!i){alert("  .");return}p(!0);try{const Z=await D();if(!Z){alert("  ."),p(!1);return}const te=a.phoneNumber.replace(/[^\d]/g,""),{data:ee}=await ne.from("users").select("id").eq("phone_number",te).maybeSingle();if(ee){alert("  ."),p(!1);return}const Ne=await Au(a.password),{data:P,error:F}=await ne.from("users").insert({phone_number:te,password_hash:Ne,name:a.name.trim(),age:a.age?parseInt(a.age):null,gender:a.gender,location:a.location.trim()||null,bio:a.bio.trim()||null,mbti:a.mbti.toUpperCase()||null,school:a.school.trim()||null,height:a.height||null,body_type:a.bodyType||null,style:a.style||null,religion:a.religion||null,smoking:a.smoking||null,drinking:a.drinking||null,interests:g.length>0?g:null,profile_image:Z,is_ghost:!0,profile_completed:!0,created_at:new Date().toISOString()}).select().single();if(F){console.error(" :",F),alert(" ."),p(!1);return}console.log("  :",P),alert(` !
${a.name} !`),n({name:"",phoneNumber:"",password:"",age:"",gender:"",location:"",bio:"",mbti:"",school:"",height:"",bodyType:"",style:"",religion:"",smoking:"",drinking:""}),c(null),h(""),y([])}catch(Z){console.error(" :",Z),alert("   .")}finally{p(!1)}},I=()=>{b.trim()&&!g.includes(b.trim())&&(y([...g,b.trim()]),w(""))};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50 py-4 px-4",children:l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-rose-600 bg-clip-text text-transparent mb-1",children:"  "}),l.jsx("p",{className:"text-xs text-gray-500",children:"    ( )"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-800",children:"   "}),l.jsx("button",{type:"button",onClick:()=>o("/login"),className:"text-xs text-gray-500 hover:text-gray-700",children:" "})]}),l.jsxs("form",{onSubmit:J,className:"space-y-3",children:[l.jsx("div",{className:"flex justify-center mb-2",children:u?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:u,alt:"",className:"w-20 h-20 object-cover rounded-full border-2 border-purple-300"}),l.jsx("button",{type:"button",onClick:()=>{c(null),h("")},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]}):l.jsxs("label",{className:"w-20 h-20 bg-purple-50 border-2 border-dashed border-purple-300 rounded-full flex flex-col items-center justify-center cursor-pointer hover:bg-purple-100",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden"}),l.jsx("i",{className:"ri-camera-line text-purple-500 text-lg"}),l.jsx("span",{className:"text-[10px] text-purple-600",children:"*"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"text",name:"name",value:a.name,onChange:k,placeholder:" *",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0}),l.jsx("input",{type:"number",name:"age",value:a.age,onChange:k,placeholder:"",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",min:"18",max:"100"})]}),l.jsx("input",{type:"tel",name:"phoneNumber",value:a.phoneNumber,onChange:$,placeholder:" * (010-1234-5678)",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:13,required:!0}),l.jsx("input",{type:"password",name:"password",value:a.password,onChange:k,placeholder:" * (4 )",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",minLength:4,required:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>n(G=>({...G,gender:"male"})),className:`py-2 rounded-lg text-sm font-medium transition-all ${a.gender==="male"?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:""}),l.jsx("button",{type:"button",onClick:()=>n(G=>({...G,gender:"female"})),className:`py-2 rounded-lg text-sm font-medium transition-all ${a.gender==="female"?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"text",name:"school",value:a.school,onChange:k,placeholder:"",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"text",name:"location",value:a.location,onChange:k,placeholder:"",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"MBTI"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:j.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,mbti:G})),className:`px-2 py-1 rounded text-xs transition-all ${a.mbti===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"flex flex-wrap gap-1",children:_.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,height:G})),className:`px-2 py-1 rounded text-xs transition-all ${a.height===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"flex flex-wrap gap-1",children:N.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,bodyType:G})),className:`px-2 py-1 rounded text-xs transition-all ${a.bodyType===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"flex flex-wrap gap-1",children:R.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,style:G})),className:`px-2 py-1 rounded text-xs transition-all ${a.style===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"flex flex-wrap gap-1",children:H.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,religion:G})),className:`px-2 py-1 rounded text-xs transition-all ${a.religion===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"flex gap-1",children:C.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,smoking:G})),className:`px-2 py-1 rounded text-xs flex-1 transition-all ${a.smoking===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"flex gap-1",children:S.map(G=>l.jsx("button",{type:"button",onClick:()=>n(Z=>({...Z,drinking:G})),className:`px-2 py-1 rounded text-xs flex-1 transition-all ${a.drinking===G?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:G},G))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),l.jsxs("div",{className:"flex gap-1 mb-1",children:[l.jsx("input",{type:"text",value:b,onChange:G=>w(G.target.value),onKeyPress:G=>{G.key==="Enter"&&(G.preventDefault(),I())},placeholder:"   ",className:"flex-1 px-2 py-1.5 border border-gray-200 rounded text-xs focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("button",{type:"button",onClick:I,className:"px-3 py-1.5 bg-purple-500 text-white rounded text-xs hover:bg-purple-600",children:""})]}),g.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:g.map((G,Z)=>l.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs flex items-center gap-1",children:[G," ",l.jsx("button",{type:"button",onClick:()=>y(g.filter((te,ee)=>ee!==Z)),className:"text-purple-500 hover:text-purple-700",children:""})]},Z))})]}),l.jsx("textarea",{name:"bio",value:a.bio,onChange:k,placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",rows:2,maxLength:200}),l.jsx("button",{type:"submit",disabled:m||!a.name.trim()||!a.phoneNumber||!a.gender||!a.password||!i,className:"w-full bg-gradient-to-r from-purple-500 to-rose-500 text-white py-3 rounded-xl font-medium hover:from-purple-600 hover:to-rose-600 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:m?" ...":"   "})]})]})]})})}const Wg=o=>o===""?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function c1(){const o=qe(),{user:a}=Bt(),[n,i]=T.useState({nickname:"",name:"",age:20,gender:"",location:"",bio:"",mbti:"",school:"",height:"160~165",bodyType:"",style:"",religion:"",smoking:"",drinking:"",interests:[],avatar:""}),[c,u]=T.useState(""),[h,m]=T.useState(!1),[p,g]=T.useState(!1),[y,b]=T.useState(""),[w,j]=T.useState(!0);T.useEffect(()=>{(async()=>{if(!a?.id){console.log("  "),j(!1);return}try{const{data:L,error:$}=await ne.from("users").select("*").eq("id",a.id).single();if($){console.error("   :",$),j(!1);return}if(L){const q=L.profile_image||"";b(""),i({nickname:L.name||"",name:L.name||"",age:L.age||20,gender:L.gender==="female"?"":"",location:L.location||"",bio:L.bio||"",mbti:L.mbti||"",school:L.school||"",height:L.height||"160~165",bodyType:L.body_type||"",style:L.style||"",religion:L.religion||"",smoking:L.smoking||"",drinking:L.drinking||"",interests:L.interests||[],avatar:q})}}catch(L){console.error("   :",L)}finally{j(!1)}})()},[a?.id]);const _=()=>{o(-1)},N=(k,L)=>{i($=>({...$,[k]:L}))},R=()=>{c.trim()&&!n.interests.includes(c.trim())&&(i(k=>({...k,interests:[...k.interests,c.trim()]})),u(""))},H=k=>{i(L=>({...L,interests:L.interests.filter($=>$!==k)}))},C=async()=>{if(!a?.id){alert(" ."),o("/login");return}g(!0);try{const k={name:n.name,age:n.age,gender:n.gender===""?"female":"male",location:n.location,bio:n.bio,mbti:n.mbti,school:n.school,job:n.name,height:n.height,body_type:n.bodyType,style:n.style,religion:n.religion,smoking:n.smoking,drinking:n.drinking,interests:n.interests,profile_image:y||n.avatar,updated_at:new Date().toISOString()},{error:L}=await ne.from("users").update(k).eq("id",a.id);if(L){console.error("  :",L),alert("  ."),g(!1);return}const $=localStorage.getItem("auth_user");if($){const D={...JSON.parse($),name:n.name,profile_image:y||n.avatar};localStorage.setItem("auth_user",JSON.stringify(D))}console.log(" :",k),m(!0)}catch(k){console.error("   :",k),alert("  .")}finally{g(!1)}},S=async k=>{const L=k.target.files?.[0];if(!L)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(L.type)){alert("JPG, PNG, WEBP, GIF    .");return}const q=5*1024*1024;if(L.size>q){alert("  5MB  .");return}g(!0);try{const D=`profile_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{error:J,data:I}=await ne.storage.from("profile-images").upload(D,L,{cacheControl:"3600",upsert:!1});if(J){let ee=J.message||"  .";throw ee.includes("Bucket not found")?ee=` Supabase Storage   .
 .

 : "user-profiles" bucket .`:(ee.includes("401")||ee.includes("Unauthorized"))&&(ee="  : Supabase  ."),console.error("  :",J),new Error(ee)}console.log(" :",I);const Z=`https://ytffobltrwkgxiedorsd.supabase.co/storage/v1/object/public/profile-images/${D}`;console.log("  URL:",Z),b(Z);const te=new FileReader;te.onloadend=()=>{i(ee=>({...ee,avatar:te.result}))},te.readAsDataURL(L)}catch(D){console.error("   :",D),alert(D.message||"  .")}finally{g(!1)}};return a?w?l.jsx("div",{className:"min-h-screen bg-cyan-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"   ..."})]})}):l.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-20",children:[l.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsx("button",{onClick:_,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-line text-xl"})}),l.jsx("h1",{className:"text-lg font-bold",children:" "}),l.jsx("button",{onClick:C,disabled:p,className:`font-medium cursor-pointer whitespace-nowrap ${p?"text-gray-400":"text-cyan-500"}`,children:p?" ...":""})]})}),l.jsxs("div",{className:"px-4 py-6 max-w-md mx-auto",children:[l.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative inline-block mb-4",children:[p&&l.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center z-10",children:l.jsx("i",{className:"ri-loader-4-line text-white text-2xl animate-spin"})}),l.jsx("img",{src:n.avatar||Wg(n.gender),alt:"",className:"w-24 h-24 rounded-full object-cover",onError:k=>{const L=k.target;L.src=Wg(n.gender)}}),l.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",onChange:S,disabled:p,className:"hidden"}),l.jsx("label",{htmlFor:"avatar-upload",className:`absolute bottom-0 right-0 w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all ${p?"opacity-50 cursor-not-allowed":"hover:from-cyan-600 hover:to-blue-700 cursor-pointer"}`,children:l.jsx("i",{className:"ri-camera-line"})})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"  "})]})}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"ri-user-line mr-2 text-cyan-500"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("input",{type:"text",value:n.name,onChange:k=>i({...n,name:k.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("input",{type:"number",value:n.age,onChange:k=>i({...n,age:parseInt(k.target.value)}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>i({...n,gender:""}),className:`flex-1 py-3 rounded-xl font-medium transition-colors cursor-pointer whitespace-nowrap ${n.gender===""?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:""}),l.jsx("button",{onClick:()=>i({...n,gender:""}),className:`flex-1 py-3 rounded-xl font-medium transition-colors cursor-pointer whitespace-nowrap ${n.gender===""?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("input",{type:"text",value:n.location,onChange:k=>i({...n,location:k.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]})]})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"ri-file-list-3-line mr-2 text-cyan-500"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("input",{type:"text",value:n.school,onChange:k=>N("school",k.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (cm)"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["150~155","155~160","160~165","165~170","170~175","175~180","180~185","185~190"].map(k=>l.jsx("button",{onClick:()=>N("height",k),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n.height===k?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","",""].map(k=>l.jsx("button",{onClick:()=>N("bodyType",k),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n.bodyType===k?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(k=>l.jsx("button",{onClick:()=>N("style",k),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n.style===k?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["","","","","",""].map(k=>l.jsx("button",{onClick:()=>N("religion",k),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n.religion===k?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MBTI"}),l.jsx("input",{type:"text",value:n.mbti,onChange:k=>N("mbti",k.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent uppercase",placeholder:"MBTI  (: ENFP)",maxLength:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(k=>l.jsx("button",{onClick:()=>N("smoking",k),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n.smoking===k?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:k},k))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[" ","","",""].map(k=>l.jsx("button",{onClick:()=>N("drinking",k),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n.drinking===k?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:k},k))})]})]})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-4",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"ri-chat-smile-2-line mr-2 text-cyan-500"}),""]}),l.jsx("textarea",{value:n.bio,onChange:k=>i({...n,bio:k.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none",rows:4,placeholder:" ",maxLength:500}),l.jsxs("div",{className:"text-right text-xs text-gray-400 mt-2",children:[n.bio.length,"/500"]})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"ri-heart-line mr-2 text-cyan-500"}),""]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.interests.map((k,L)=>l.jsxs("span",{className:"bg-cyan-50 text-cyan-700 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[l.jsx("span",{children:k}),l.jsx("button",{onClick:()=>H(k),className:"w-4 h-4 flex items-center justify-center hover:bg-cyan-200 rounded-full transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-close-line text-xs"})})]},L))}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),onKeyPress:k=>k.key==="Enter"&&R(),className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:" "}),l.jsx("button",{onClick:R,className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})]})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"ri-check-line text-white text-2xl"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" !"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"  ."}),l.jsx("button",{onClick:()=>{m(!1),_()},className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})})]}):l.jsx("div",{className:"min-h-screen bg-cyan-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),l.jsx("p",{className:"text-gray-600 mb-8",children:"   ."}),l.jsx("button",{onClick:()=>o("/login"),className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all cursor-pointer",children:""})]})})}function u1(){const o=qe(),{user:a}=Bt(),[n,i]=T.useState([]),[c,u]=T.useState(!0);T.useEffect(()=>{a?.id&&h()},[a?.id]);const h=async()=>{try{if(!a?.id){i([]),u(!1);return}console.log("  :",a.id);const{data:w,error:j}=await ne.from("notifications").select("*").order("created_at",{ascending:!1});if(j){console.error("  :",j),i([]),u(!1);return}console.log(" :",w);const _=(w||[]).map(N=>({id:N.id,type:N.type,message:N.message||N.content||"",time:m(N.created_at),isRead:N.read||!1}));i(_)}catch(w){console.error("  :",w),i([])}finally{u(!1)}},m=w=>{const j=new Date(w),N=new Date().getTime()-j.getTime(),R=Math.floor(N/6e4),H=Math.floor(N/36e5),C=Math.floor(N/864e5);return R<1?" ":R<60?`${R} `:H<24?`${H} `:C<7?`${C} `:j.toLocaleDateString("ko-KR")},p=w=>{switch(w){case"like":return"ri-heart-fill text-red-500";case"match":return"ri-user-heart-fill text-pink-500";case"message":return"ri-message-fill text-blue-500";case"community":return"ri-chat-3-fill text-green-500";default:return"ri-notification-fill text-gray-500"}},g=()=>{i(w=>w.map(j=>({...j,isRead:!0})))},y=w=>{i(j=>j.filter(_=>_.id!==w))},b=n.filter(w=>!w.isRead).length;return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-40",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>o(-1),className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:l.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:l.jsx("i",{className:"ri-arrow-left-line text-gray-700 text-xl"})})}),l.jsx("h1",{className:"text-lg font-bold",children:""}),b>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:b})]}),n.length>0&&l.jsx("button",{onClick:g,className:"text-sm text-gray-600 hover:text-gray-800 cursor-pointer whitespace-nowrap",children:" "})]})}),l.jsx("main",{className:"pt-16 pb-6",children:c?l.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:l.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-gray-200 border-t-blue-500 rounded-full"})}):n.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:l.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:l.jsx("i",{className:"ri-notification-off-line text-4xl text-gray-300"})})}),l.jsx("p",{className:"text-gray-500 text-center",children:"  "})]}):l.jsx("div",{className:"divide-y divide-gray-100",children:n.map(w=>l.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer relative ${w.isRead?"bg-white":"bg-blue-50"}`,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-10 h-10 flex items-center justify-center flex-shrink-0",children:l.jsx("i",{className:p(w.type)+" text-2xl"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${w.isRead?"text-gray-700":"font-medium text-gray-900"}`,children:w.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.time})]}),l.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[!w.isRead&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("button",{onClick:j=>{j.stopPropagation(),y(w.id)},className:"w-6 h-6 flex items-center justify-center cursor-pointer hover:bg-gray-200 rounded-full transition-colors",children:l.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:l.jsx("i",{className:"ri-close-line text-gray-400"})})})]})]})},w.id))})})]})}const X0=async(o,a)=>{try{const{data:n,error:i}=await ne.functions.invoke("send-push",{body:{userId:o,title:a.title,body:a.body,data:a.data||{}}});return i?(console.error("  :",i),{success:!1,error:i}):(console.log("   :",n),{success:!0,result:n})}catch(n){return console.error("  :",n),{success:!1,error:n}}},d1=async(o,a,n)=>X0(o,{title:"   ",body:`${a}  `,data:{type:"match_request",from_user_id:n}}),f1=async(o,a,n)=>X0(o,{title:"  !",body:`${a} !  .`,data:{type:"match_success",chat_room_id:n||""}});function h1(){const o=qe(),a=Wt(),{user:n}=Bt(),i=a.state?.profile||a.state?.authorData,[c,u]=T.useState(0),[h,m]=T.useState(!1),[p,g]=T.useState(!1),[y,b]=T.useState(0),j=(()=>{const I=localStorage.getItem("user");if(!I)return null;try{return JSON.parse(I).id}catch{return null}})(),_=j&&i?.id===j,N=I=>I===""||I==="male"?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish",R=i?.photos&&i.photos.length>0?i.photos:[N(i?.gender||"")],H=()=>{o(-1)},C=()=>{b(I=>I===0?R.length-1:I-1)},S=()=>{b(I=>I===R.length-1?0:I+1)};if(!i)return o(-1),null;const k={school:i?.school||"",height:i?.height||"",bodyType:i?.bodyType||"",style:i?.style||"",religion:i?.religion||"",mbti:i?.mbti||"ESTP",smoking:i?.smoking||"",drinking:i?.drinking||""},L=i?.interests||[""],$=async()=>{try{if(!n?.id||!i?.id){alert("  ");return}const I=String(n.id),G=String(i.id);console.log("   :",{fromUserId:I,toUserId:G});const{data:Z}=await ne.from("matching_requests").select("id").eq("from_user_id",G).eq("to_user_id",I).eq("status","pending").limit(1),te=Z&&Z.length>0;console.log("  :",te);const{data:ee}=await ne.from("matching_requests").select("id").eq("from_user_id",I).eq("to_user_id",G).limit(1);if(ee&&ee.length>0){alert("    ");return}const{data:Ne,error:P}=await ne.from("matching_requests").insert({from_user_id:I,to_user_id:G,status:te?"accepted":"pending"}).select();if(console.log("  :",{data:Ne,error:P}),P){if(P.code==="23505"){alert("    ");return}throw P}if(te){await ne.from("matching_requests").update({status:"accepted"}).eq("from_user_id",G).eq("to_user_id",I);const{data:F,error:re}=await ne.from("chat_rooms").insert({user1_id:I,user2_id:G,created_at:new Date().toISOString()}).select().single();re?console.error("  :",re):console.log("   :",F),await ne.from("notifications").insert([{user_id:G,type:"match_success",title:" ! ",message:`${n.name||""} !  .`,data:{matched_user_id:I,chat_room_id:F?.id},read:!1},{user_id:I,type:"match_success",title:" ! ",message:`${i.name} !  .`,data:{matched_user_id:G,chat_room_id:F?.id},read:!1}]),await f1(G,n.name||"",F?.id),g(!0)}else await ne.from("notifications").insert({user_id:G,type:"match_request",title:"  ",message:`${n.name||""}  `,data:{from_user_id:I,from_user_name:n.name},read:!1}),await d1(G,n.name||"",I),m(!0),setTimeout(()=>{m(!1),o(-1)},2e3)}catch(I){console.error("  :",I),alert("  : "+(I?.message||"   "))}},q=()=>{o(-1)},D=I=>{u(I)},J=()=>{g(!1);const I=new CustomEvent("openChat",{detail:{userId:i.id,userName:i.name,userAvatar:R[0]||""}});window.dispatchEvent(I),o("/")};return l.jsxs("div",{className:"min-h-screen bg-cyan-50 pb-24",children:[l.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsx("button",{onClick:H,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-s-line text-2xl"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("img",{src:R[0],alt:i.name,className:"w-8 h-8 rounded-full object-cover"}),l.jsx("span",{className:"font-medium text-gray-800",children:i.name})]}),l.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-more-2-fill text-xl"})})]})}),l.jsx("div",{className:"relative bg-white",children:l.jsxs("div",{className:"relative h-96 overflow-hidden",children:[l.jsx("img",{src:R[y],alt:`${i.name}  ${y+1}`,className:"w-full h-full object-cover"}),R.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:C,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-s-line text-white text-xl"})}),l.jsx("button",{onClick:S,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 rounded-full flex items-center justify-center transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-right-s-line text-white text-xl"})})]}),R.length>1&&l.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:R.map((I,G)=>l.jsx("button",{onClick:()=>b(G),className:`w-2 h-2 rounded-full transition-colors cursor-pointer ${G===y?"bg-white":"bg-white/50"}`},G))})]})}),l.jsxs("div",{className:"bg-white px-4 py-4 border-b",children:[l.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(I=>l.jsx("button",{onClick:()=>D(I),className:"cursor-pointer",children:l.jsx("i",{className:`text-3xl ${I<=c?"ri-star-fill text-yellow-400":"ri-star-line text-gray-300"}`})},I))}),l.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:" "})]}),l.jsxs("div",{className:"px-4 py-6 space-y-4",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:l.jsxs("div",{className:"grid grid-cols-2",children:[l.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.school})]}),l.jsxs("div",{className:"border-b border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.height})]}),l.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.bodyType})]}),l.jsxs("div",{className:"border-b border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.style})]}),l.jsxs("div",{className:"border-b border-r border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.religion})]}),l.jsxs("div",{className:"border-b border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),l.jsx("div",{className:"font-medium text-gray-800",children:k.mbti})]}),l.jsxs("div",{className:"border-r border-gray-100 p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.smoking})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("div",{className:"font-medium text-gray-800",children:k.drinking})]})]})}),l.jsxs("button",{className:"w-full bg-white rounded-2xl p-4 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"ri-heart-line text-white"})}),l.jsx("span",{className:"font-semibold text-gray-800",children:"MBTI  "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[l.jsx("i",{className:"ri-heart-3-line mr-2 text-cyan-500"}),""]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((I,G)=>l.jsx("span",{className:"bg-cyan-50 text-cyan-600 px-4 py-2 rounded-full text-sm font-medium",children:I},G))})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[l.jsx("i",{className:"ri-chat-quote-line mr-2 text-cyan-500"}),""]}),l.jsx("p",{className:"text-gray-700 leading-relaxed",children:i?.bio||" ."})]})]}),!_&&l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-cyan-50 px-8 py-6 flex justify-center space-x-8",children:[l.jsx("button",{onClick:$,className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-2 border-cyan-200",children:l.jsx("i",{className:"ri-heart-fill text-cyan-400 text-2xl"})}),l.jsx("button",{onClick:q,className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-2 border-gray-200",children:l.jsx("i",{className:"ri-close-line text-gray-400 text-2xl"})})]}),h&&l.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white px-6 py-4 rounded-2xl z-50",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("i",{className:"ri-heart-fill text-pink-400"}),l.jsxs("span",{children:[i.name,"  !"]})]})}),p&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"ri-heart-fill text-white text-3xl"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" ! "}),l.jsxs("p",{className:"text-gray-600 mb-6",children:[i.name,"   !",l.jsx("br",{}),"   ."]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:J,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:" "}),l.jsx("button",{onClick:()=>g(!1),className:"w-full bg-gray-100 text-gray-600 py-3 rounded-full font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]})})]})}function m1(){const o=qe(),[a,n]=T.useState("dashboard"),[i,c]=T.useState(null),[u,h]=T.useState(!1),[m,p]=T.useState(""),[g,y]=T.useState(""),[b,w]=T.useState([{id:1,name:"e",email:"snow@example.com",age:22,gender:"",location:" ",school:"",mbti:"ISFP",avatar:"https://lovelyharu.com/data/character/thumb-TTHVyEtmHJ_1725434222_300x300.jpg",coins:150,status:"active",lastLogin:"2024-01-15 14:30",createdAt:"2023-12-01",matchCount:23,messageCount:156},{id:2,name:"",email:"cat@example.com",age:20,gender:"",location:" ",school:"",mbti:"ISTP",avatar:"https://lovelyharu.com/data/character/thumb-HWHHTbQhNX_1736148423_300x300.jpg",coins:80,status:"active",lastLogin:"2024-01-15 13:15",createdAt:"2023-11-15",matchCount:15,messageCount:89},{id:3,name:"",email:"clover@example.com",age:19,gender:"",location:" ",school:"",mbti:"ESTP",avatar:"https://lovelyharu.com/data/character/thumb-KOAXjl7vXB_1725434279_300x300.jpg",coins:200,status:"active",lastLogin:"2024-01-15 11:20",createdAt:"2023-10-20",matchCount:31,messageCount:234},{id:4,name:"",email:"ddirori@example.com",age:27,gender:"",location:" ",school:"",mbti:"ESTJ",avatar:"https://lovelyharu.com/data/character/thumb-CEZVu9Um98_1725434222_300x300.jpg",coins:50,status:"inactive",lastLogin:"2024-01-10 09:00",createdAt:"2023-09-05",matchCount:8,messageCount:45},{id:5,name:"",email:"uani@example.com",age:19,gender:"",location:" ",school:"",mbti:"ISTJ",avatar:"https://lovelyharu.com/data/character/thumb-ANSXxJWhNK_1717561056_300x300.jpg",coins:120,status:"active",lastLogin:"2024-01-15 10:45",createdAt:"2023-08-12",matchCount:19,messageCount:112},{id:6,name:"",email:"sweet@example.com",age:23,gender:"",location:" ",school:"",mbti:"ENTP",avatar:"https://lovelyharu.com/data/character/thumb-HZJBTbg55v_1736148423_300x300.jpg",coins:300,status:"active",lastLogin:"2024-01-14 22:30",createdAt:"2023-07-28",matchCount:42,messageCount:389},{id:7,name:"",email:"apeach@example.com",age:24,gender:"",location:" ",school:"",mbti:"ESTP",avatar:"https://lovelyharu.com/data/character/thumb-UEAPrPtjRq_1722489509_300x300.jpg",coins:0,status:"banned",lastLogin:"2024-01-05 15:00",createdAt:"2023-06-10",matchCount:5,messageCount:23}]),j=b.filter(S=>S.name.toLowerCase().includes(g.toLowerCase())||S.email.toLowerCase().includes(g.toLowerCase())),_={totalUsers:b.length,activeUsers:b.filter(S=>S.status==="active").length,totalCoins:b.reduce((S,k)=>S+k.coins,0),todayLogins:b.filter(S=>S.lastLogin.includes("2024-01-15")).length},N=()=>{i&&m&&(w(S=>S.map(k=>k.id===i.id?{...k,coins:k.coins+parseInt(m)}:k)),c(S=>S?{...S,coins:S.coins+parseInt(m)}:null),h(!1),p(""))},R=(S,k)=>{w(L=>L.map($=>$.id===S?{...$,status:k}:$)),i?.id===S&&c(L=>L?{...L,status:k}:null)},H=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:" "}),l.jsx("p",{className:"text-2xl font-bold text-gray-800",children:_.totalUsers})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"ri-user-line text-xl text-blue-600"})})]})}),l.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:" "}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.activeUsers})]}),l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"ri-user-follow-line text-xl text-green-600"})})]})}),l.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:" "}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.totalCoins})]}),l.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"ri-coin-line text-xl text-yellow-600"})})]})}),l.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:" "}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:_.todayLogins})]}),l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"ri-login-box-line text-xl text-purple-600"})})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  "}),l.jsx("div",{className:"space-y-3",children:b.sort((S,k)=>new Date(k.lastLogin).getTime()-new Date(S.lastLogin).getTime()).slice(0,5).map(S=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:S.avatar,alt:S.name,className:"w-10 h-10 rounded-full object-cover object-top"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:S.name}),l.jsx("p",{className:"text-xs text-gray-500",children:S.lastLogin})]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-600":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:S.status==="active"?"":S.status==="inactive"?"":""})]},S.id))})]})]}),C=()=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:g,onChange:S=>y(S.target.value),placeholder:"    ...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm"}),l.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" "}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(S=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:S.avatar,alt:S.name,className:"w-10 h-10 rounded-full object-cover object-top"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:S.name}),l.jsx("p",{className:"text-xs text-gray-500",children:S.email})]})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("i",{className:"ri-coin-line text-yellow-500"}),l.jsx("span",{className:"font-medium",children:S.coins})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-600":S.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:S.status==="active"?"":S.status==="inactive"?"":""})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:S.lastLogin}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("button",{onClick:()=>c(S),className:"text-pink-500 hover:text-pink-600 font-medium text-sm cursor-pointer",children:""})})]},S.id))})]})})]});return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white shadow-lg z-40",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl flex items-center justify-center",children:l.jsx("i",{className:"ri-admin-line text-white text-xl"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-bold text-gray-800",children:""}),l.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]})}),l.jsxs("nav",{className:"p-4 space-y-2",children:[l.jsxs("button",{onClick:()=>n("dashboard"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${a==="dashboard"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("i",{className:"ri-dashboard-line text-xl"}),l.jsx("span",{className:"font-medium",children:""})]}),l.jsxs("button",{onClick:()=>n("users"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${a==="users"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("i",{className:"ri-user-line text-xl"}),l.jsx("span",{className:"font-medium",children:" "})]}),l.jsxs("button",{onClick:()=>n("reports"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${a==="reports"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("i",{className:"ri-flag-line text-xl"}),l.jsx("span",{className:"font-medium",children:" "})]}),l.jsxs("button",{onClick:()=>n("settings"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors cursor-pointer ${a==="settings"?"bg-pink-50 text-pink-600":"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("i",{className:"ri-settings-line text-xl"}),l.jsx("span",{className:"font-medium",children:""})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t",children:l.jsxs("button",{onClick:()=>o("/"),className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer",children:[l.jsx("i",{className:"ri-logout-box-line text-xl"}),l.jsx("span",{className:"font-medium",children:""})]})})]}),l.jsx("div",{className:"ml-64 p-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[a==="dashboard"&&"",a==="users"&&" ",a==="reports"&&" ",a==="settings"&&""]}),l.jsxs("p",{className:"text-gray-500 mt-1",children:[a==="dashboard"&&"   ",a==="users"&&"    ",a==="reports"&&"   ",a==="settings"&&"  "]})]}),a==="dashboard"&&H(),a==="users"&&C(),a==="reports"&&l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"ri-flag-line text-2xl text-gray-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500",children:"  "})]}),a==="settings"&&l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"ri-settings-line text-2xl text-gray-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:""}),l.jsx("p",{className:"text-gray-500",children:"   "})]})]})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-bold",children:"  "}),l.jsx("button",{onClick:()=>c(null),className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:l.jsx("i",{className:"ri-close-line text-xl"})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("img",{src:i.avatar,alt:i.name,className:"w-20 h-20 rounded-full object-cover object-top"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold text-gray-800",children:i.name}),l.jsx("p",{className:"text-gray-500",children:i.email}),l.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-100 text-green-600":i.status==="inactive"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600"}`,children:i.status==="active"?"":i.status==="inactive"?"":""})]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsxs("p",{className:"font-medium",children:[i.age,""]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-medium",children:i.gender})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-medium",children:i.location})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"MBTI"}),l.jsx("p",{className:"font-medium",children:i.mbti})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-medium",children:i.school})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-yellow-50 rounded-xl p-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-bold text-yellow-600",children:i.coins})]}),l.jsxs("div",{className:"bg-pink-50 rounded-xl p-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-bold text-pink-600",children:i.matchCount})]}),l.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-bold text-blue-600",children:i.messageCount})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),l.jsx("p",{className:"font-medium",children:i.lastLogin})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),l.jsx("p",{className:"font-medium",children:i.createdAt})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>h(!0),className:"w-full py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium hover:from-yellow-500 hover:to-yellow-600 transition-all cursor-pointer whitespace-nowrap",children:[l.jsx("i",{className:"ri-coin-line mr-2"})," "]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("button",{onClick:()=>R(i.id,"active"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${i.status==="active"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-green-100"}`,children:""}),l.jsx("button",{onClick:()=>R(i.id,"inactive"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${i.status==="inactive"?"bg-gray-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),l.jsx("button",{onClick:()=>R(i.id,"banned"),className:`py-2 rounded-xl text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${i.status==="banned"?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-100"}`,children:""})]})]})]})]})}),u&&i&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),l.jsxs("p",{className:"text-gray-500 mb-4",children:[i.name,"  "]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),l.jsx("input",{type:"number",value:m,onChange:S=>p(S.target.value),placeholder:"0",className:"w-full px-4 py-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{h(!1),p("")},className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-medium cursor-pointer whitespace-nowrap",children:""}),l.jsx("button",{onClick:N,disabled:!m||parseInt(m)<=0,className:"flex-1 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium disabled:opacity-50 cursor-pointer whitespace-nowrap",children:""})]})]})})]})}function J0(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function I0(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&$i(o,a)}function Mi(o){return Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mi(o)}function $i(o,a){return $i=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},$i(o,a)}function Z0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yl(o,a,n){return Z0()?yl=Reflect.construct:yl=function(c,u,h){var m=[null];m.push.apply(m,u);var p=Function.bind.apply(c,m),g=new p;return h&&$i(g,h.prototype),g},yl.apply(null,arguments)}function g1(o){return Function.toString.call(o).indexOf("[native code]")!==-1}function Sl(o){var a=typeof Map=="function"?new Map:void 0;return Sl=function(i){if(i===null||!g1(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a<"u"){if(a.has(i))return a.get(i);a.set(i,c)}function c(){return yl(i,arguments,Mi(this).constructor)}return c.prototype=Object.create(i.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),$i(c,i)},Sl(o)}function p1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function x1(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1(o)}function F0(o){var a=Z0();return function(){var i=Mi(o),c;if(a){var u=Mi(this).constructor;c=Reflect.construct(i,arguments,u)}else c=i.apply(this,arguments);return x1(this,c)}}var Si=null;function y1(o,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Si!=null)return Si;var i=new Promise(function(c,u){try{var h=function(){gl(a)!=null?c(gl(a)):u(new b1(a))},m=function(){u(new v1(o))};if(typeof window>"u"||typeof document>"u")return c(null);if(gl(a)!=null)return c(gl(a));var p=document.querySelector('script[src="'.concat(o,'"]'));if(p!=null){var g;p.removeEventListener("load",h),p.removeEventListener("error",m),(g=p.parentElement)===null||g===void 0||g.removeChild(p)}var y=document.createElement("script");y.src=o,y.addEventListener("load",h),y.addEventListener("error",m),n.priority!=null&&(y.fetchPriority=n.priority),document.head.appendChild(y)}catch(b){u(b);return}});return Si=i.catch(function(c){return Si=null,Promise.reject(c)}),Si}function gl(o){return window[o]}var b1=(function(o){I0(n,o);var a=F0(n);function n(i){var c;return J0(this,n),c=a.call(this,"[TossPayments SDK] ".concat(i," is not available")),c.name="NamespaceNotAvailableError",c}return n})(Sl(Error)),v1=(function(o){I0(n,o);var a=F0(n);function n(i){var c;return J0(this,n),c=a.call(this,"[TossPayments SDK] Failed to load script: [".concat(i,"]")),c.name="ScriptLoadFailedError",c}return n})(Sl(Error)),w1="https://js.tosspayments.com/v1";function j1(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.src,i=n===void 0?w1:n;return typeof window>"u"?Promise.resolve({requestPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},requestBillingAuth:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},cancelPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")}}):y1(i,"TossPayments").then(function(c){return c(o)})}const N1="test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq";function _1(){const o=qe(),[a,n]=T.useState(null),[i,c]=T.useState(!1),[u,h]=T.useState(""),[m,p]=T.useState(null),g=[{id:"basic",coins:50,price:5e3},{id:"standard",coins:100,price:9e3,bonus:10},{id:"premium",coins:300,price:25e3,bonus:50,popular:!0},{id:"vip",coins:500,price:4e4,bonus:100},{id:"mega",coins:1e3,price:75e3,bonus:250},{id:"ultra",coins:2e3,price:14e4,bonus:600}];T.useEffect(()=>{(async()=>{try{const j=await j1(N1);p(j)}catch(j){console.error("  :",j)}})()},[]);const y=w=>{n(w),c(!0)},b=async()=>{if(!(!a||!m))try{const w=`ORDER_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,j=` ${a.coins}${a.bonus?` (+${a.bonus} )`:""}`,_=a.coins+(a.bonus||0);localStorage.setItem("selectedPackageId",a.id),localStorage.setItem("selectedCoins",_.toString()),await m.requestPayment(u,{amount:a.price,orderId:w,orderName:j,successUrl:`${window.location.origin}/payment/success`,failUrl:`${window.location.origin}/payment/fail`,customerName:""})}catch(w){console.error("  :",w),alert("  .  .")}};return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:l.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[l.jsx("button",{onClick:()=>o(-1),className:"w-10 h-10 flex items-center justify-center cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-line text-2xl text-gray-800"})}),l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),l.jsx("div",{className:"w-10"})]})}),l.jsxs("div",{className:"px-5 py-8 text-center border-b border-gray-100",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:" "}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"}),l.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"150"})]})]}),l.jsx("div",{className:"px-5 py-6",children:l.jsx("div",{className:"space-y-3",children:g.map(w=>l.jsxs("button",{onClick:()=>y(w),className:`w-full flex items-center justify-between p-5 rounded-2xl border-2 transition-all cursor-pointer ${w.popular?"border-pink-500 bg-pink-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${w.popular?"bg-pink-50":"bg-gray-100"}`,children:l.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"})}),l.jsxs("div",{className:"text-left",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"text-2xl font-bold text-gray-900",children:w.coins.toLocaleString()}),w.bonus&&l.jsxs("span",{className:"text-sm font-medium text-pink-500",children:["+",w.bonus]})]}),w.popular&&l.jsx("span",{className:"text-xs font-medium text-pink-500",children:""})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[w.price.toLocaleString(),""]})})]},w.id))})}),i&&a&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:l.jsxs("div",{className:"bg-white w-full sm:max-w-md sm:rounded-3xl rounded-t-3xl overflow-hidden animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:""}),l.jsx("button",{onClick:()=>c(!1),className:"w-9 h-9 flex items-center justify-center cursor-pointer",children:l.jsx("i",{className:"ri-close-line text-2xl text-gray-600"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 mb-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-pink-50 rounded-full flex items-center justify-center",children:l.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-8 h-8"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:""}),l.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a.coins.toLocaleString(),a.bonus&&l.jsxs("span",{className:"text-base text-pink-500 ml-1",children:["+",a.bonus]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[l.jsx("span",{className:"text-gray-600",children:""}),l.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[a.price.toLocaleString(),l.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:" "}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>h(""),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${u===""?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"toss"})}),l.jsx("span",{className:"font-medium text-gray-900",children:""})]}),u===""&&l.jsx("i",{className:"ri-check-line text-xl text-blue-500"})]}),l.jsxs("button",{onClick:()=>h("CARD"),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${u==="CARD"?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"ri-bank-card-2-line text-white text-lg"})}),l.jsx("span",{className:"font-medium text-gray-900",children:"/"})]}),u==="CARD"&&l.jsx("i",{className:"ri-check-line text-xl text-purple-500"})]}),l.jsxs("button",{onClick:()=>h("TRANSFER"),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all cursor-pointer ${u==="TRANSFER"?"border-green-500 bg-green-50":"border-gray-200 bg-white"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"ri-bank-line text-white text-lg"})}),l.jsx("span",{className:"font-medium text-gray-900",children:""})]}),u==="TRANSFER"&&l.jsx("i",{className:"ri-check-line text-xl text-green-500"})]})]})]}),l.jsxs("button",{onClick:b,className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer whitespace-nowrap",children:[a.price.toLocaleString()," "]})]})]})})]})}const Ei=o=>o==="male"?"https://readdy.ai/api/search-image?query=minimalist%20male%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=male-default-avatar&orientation=squarish":"https://readdy.ai/api/search-image?query=minimalist%20female%20silhouette%20profile%20avatar%20icon%20on%20clean%20white%20background%20simple%20modern%20design%20professional%20business%20style%20neutral%20gray%20color%20scheme%20front%20facing%20head%20and%20shoulders%20portrait%20clean%20lines%20vector%20style%20illustration&width=300&height=300&seq=female-default-avatar&orientation=squarish";function S1(){const o=qe(),{user:a}=Bt(),[n,i]=T.useState("received"),[c,u]=T.useState(!1),[h,m]=T.useState(null),[p,g]=T.useState([]),[y,b]=T.useState([]),[w,j]=T.useState(!0);T.useEffect(()=>{a?.id&&_()},[a?.id]);const _=async()=>{if(a?.id){j(!0);try{const{data:D}=await ne.from("matching_requests").select(`
          id,
          from_user_id,
          status,
          created_at
        `).eq("to_user_id",a.id).order("created_at",{ascending:!1});if(D){const I=[];for(const G of D){const{data:Z}=await ne.from("users").select("id, name, age, gender, location, school, mbti, bio, profile_image").eq("id",G.from_user_id).single();Z&&I.push({id:G.id.toString(),userId:G.from_user_id,name:Z.name||"",age:Z.age||20,gender:Z.gender||"unknown",location:Z.location||" ",school:Z.school||" ",mbti:Z.mbti,bio:Z.bio||" .",avatar:Z.profile_image||Ei(Z.gender),timestamp:new Date(G.created_at).toLocaleString("ko-KR"),status:G.status})}g(I.filter(G=>G.status==="pending"))}const{data:J}=await ne.from("matching_requests").select(`
          id,
          to_user_id,
          status,
          created_at
        `).eq("from_user_id",a.id).order("created_at",{ascending:!1});if(J){const I=[];for(const G of J){const{data:Z}=await ne.from("users").select("id, name, age, gender, location, school, mbti, bio, profile_image").eq("id",G.to_user_id).single();Z&&I.push({id:G.id.toString(),userId:G.to_user_id,name:Z.name||"",age:Z.age||20,gender:Z.gender||"unknown",location:Z.location||" ",school:Z.school||" ",mbti:Z.mbti,bio:Z.bio||" .",avatar:Z.profile_image||Ei(Z.gender),timestamp:new Date(G.created_at).toLocaleString("ko-KR"),status:G.status})}b(I)}}catch(D){console.error("   :",D)}finally{j(!1)}}},N=()=>{o(-1)},R=D=>{m(D),u(!0)},H=async()=>{if(!(!h||!a?.id))try{await ne.from("matching_requests").update({status:"accepted"}).eq("id",h.id);const D=new CustomEvent("openChat",{detail:{userId:h.userId,userName:h.name,userAvatar:h.avatar}});window.dispatchEvent(D),u(!1),m(null),_(),setTimeout(()=>{o("/")},500)}catch(D){console.error("  :",D),alert("  .")}},C=async D=>{if(a?.id)try{await ne.from("matching_requests").update({status:"rejected"}).eq("id",D),_()}catch(J){console.error("  :",J),alert("  .")}},S=D=>{b(J=>J.filter(I=>I.id!==D))},k=D=>{const J=D.avatar||Ei(D.gender);o("/profile-detail",{state:{profile:{id:D.userId,name:D.name,age:D.age,gender:D.gender,location:D.location,school:D.school,mbti:D.mbti,bio:D.bio,character:J,photos:J?[J]:[]}}})},L=D=>{const J=p.find(I=>I.id===D);J&&R(J)},$=D=>{C(D)},q=D=>{S(D)};return w?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("i",{className:"ri-loader-4-line text-4xl text-cyan-500 animate-spin mb-4"}),l.jsx("p",{className:"text-gray-500",children:" ..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsx("button",{onClick:N,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-line text-xl"})}),l.jsx("h1",{className:"text-lg font-bold",children:" "}),l.jsx("div",{className:"w-10"})]})}),l.jsxs("div",{className:"bg-white px-4 py-3 flex space-x-2 border-b",children:[l.jsxs("button",{onClick:()=>i("received"),className:`flex-1 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${n==="received"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600"}`,children:["  (",p.length,")"]}),l.jsxs("button",{onClick:()=>i("sent"),className:`flex-1 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${n==="sent"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600"}`,children:["  (",y.length,")"]})]}),l.jsx("div",{className:"px-4 py-4",children:n==="received"?p.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-gray-100 rounded-full",children:l.jsx("i",{className:"ri-mail-open-line text-4xl text-gray-300"})}),l.jsx("p",{className:"text-gray-500 font-medium",children:"   "}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"   !"})]}):l.jsx("div",{className:"space-y-3",children:p.map(D=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:D.avatar||Ei(D.gender),alt:D.name,className:"w-16 h-16 rounded-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>k(D)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h3",{className:"font-bold text-gray-800 cursor-pointer hover:text-cyan-500",onClick:()=>k(D),children:D.name}),l.jsxs("span",{className:"text-sm text-gray-500",children:[D.age,""]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.location}),l.jsx("p",{className:"text-xs text-gray-400",children:D.timestamp})]})]}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsx("button",{onClick:()=>L(D.id),className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-2 rounded-full text-sm font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""}),l.jsx("button",{onClick:()=>$(D.id),className:"flex-1 bg-gray-100 text-gray-600 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:""})]})]},D.id))}):y.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-4 bg-gray-100 rounded-full",children:l.jsx("i",{className:"ri-mail-send-line text-4xl text-gray-300"})}),l.jsx("p",{className:"text-gray-500 font-medium",children:"   "}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"    !"})]}):l.jsx("div",{className:"space-y-3",children:y.map(D=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:D.avatar||Ei(D.gender),alt:D.name,className:"w-16 h-16 rounded-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>k(D)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h3",{className:"font-bold text-gray-800 cursor-pointer hover:text-cyan-500",onClick:()=>k(D),children:D.name}),l.jsxs("span",{className:"text-sm text-gray-500",children:[D.age,""]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.location}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D.status==="pending"?"bg-yellow-100 text-yellow-700":D.status==="accepted"?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-600"}`,children:D.status==="pending"?"":D.status==="accepted"?"":""}),l.jsx("span",{className:"text-xs text-gray-400",children:D.timestamp})]})]})]}),D.status==="pending"&&l.jsx("button",{onClick:()=>q(D.id),className:"w-full mt-4 bg-gray-100 text-gray-600 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:" "})]},D.id))})}),c&&h&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"ri-heart-fill text-white text-2xl"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" "}),l.jsxs("p",{className:"text-gray-600 mb-6",children:[h.name,"  ?"]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{u(!1),m(null)},className:"flex-1 bg-gray-100 text-gray-600 py-3 rounded-full font-medium hover:bg-gray-200 transition-all cursor-pointer whitespace-nowrap",children:""}),l.jsx("button",{onClick:H,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-full font-medium hover:from-cyan-600 hover:to-blue-700 transition-all cursor-pointer whitespace-nowrap",children:""})]})]})})]})}const E1="http://localhost:3001";function T1(){const o=qe(),[a]=E0(),[n,i]=T.useState(!0),[c,u]=T.useState(null);return T.useEffect(()=>{(async()=>{const m=a.get("orderId"),p=a.get("paymentKey"),g=a.get("amount");if(!m||!p||!g){alert("   ."),o("/coin-shop");return}try{const y=parseInt(localStorage.getItem("selectedCoins")||"0"),b=localStorage.getItem("userId")||"temp-user-id",w=await fetch(`${E1}/api/payment/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:m,paymentKey:p,amount:parseInt(g),userId:b,coins:y})}),j=await w.json();if(!w.ok||!j.success)throw new Error(j.message||"  .");u({orderId:j.data.orderId,amount:j.data.amount,coins:j.data.coins,currentCoins:j.data.currentCoins,approvedAt:j.data.approvedAt}),localStorage.removeItem("selectedPackageId"),localStorage.removeItem("selectedCoins"),i(!1)}catch(y){console.error("  :",y);const b=y.message||"  .";alert(b),o(`/payment/fail?message=${encodeURIComponent(b)}`)}})()},[a,o]),n?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:l.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[l.jsx("div",{className:"w-10"}),l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),l.jsx("div",{className:"w-10"})]})}),l.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6",children:l.jsx("i",{className:"ri-check-line text-5xl text-green-500"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 mb-8",children:" "}),c&&l.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center mb-6 pb-6 border-b border-gray-200",children:[l.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-12 h-12 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:" "}),l.jsxs("p",{className:"text-3xl font-bold text-pink-500",children:["+",c.coins.toLocaleString()]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:""}),l.jsx("span",{className:"text-gray-900 font-medium text-sm",children:c.orderId})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:""}),l.jsxs("span",{className:"text-gray-900 font-bold text-xl",children:[c.amount.toLocaleString(),""]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"  "}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("img",{src:"/images/magnet.png",alt:"",className:"w-5 h-5"}),l.jsx("span",{className:"text-gray-900 font-bold text-lg",children:c.currentCoins?.toLocaleString()||0})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:""}),l.jsx("span",{className:"text-gray-900 font-medium",children:new Date(c.approvedAt).toLocaleString("ko-KR")})]})]})]}),l.jsxs("div",{className:"w-full max-w-md space-y-3",children:[l.jsx("button",{onClick:()=>o("/"),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer",children:" "}),l.jsx("button",{onClick:()=>o("/coin-shop"),className:"w-full bg-white text-gray-900 py-4 rounded-xl font-bold text-lg border-2 border-gray-200 hover:bg-gray-50 transition-all cursor-pointer",children:" "})]})]})]})}function C1(){const o=qe(),[a]=E0(),n=a.get("message")||" .",i=a.get("code");return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:l.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[l.jsx("div",{className:"w-10"}),l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),l.jsx("div",{className:"w-10"})]})}),l.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6",children:l.jsx("i",{className:"ri-close-line text-5xl text-red-500"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 mb-2 text-center",children:n}),i&&l.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:[" : ",i]}),l.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl p-6 mb-6",children:[l.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"  "}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),l.jsx("span",{children:"     "})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),l.jsx("span",{children:"  "})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),l.jsx("span",{children:"  "})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("i",{className:"ri-checkbox-blank-circle-fill text-xs text-gray-400 mt-1"}),l.jsx("span",{children:" "})]})]})]}),l.jsxs("div",{className:"w-full max-w-md space-y-3",children:[l.jsx("button",{onClick:()=>o("/coin-shop"),className:"w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-all cursor-pointer",children:" "}),l.jsx("button",{onClick:()=>o("/"),className:"w-full bg-white text-gray-900 py-4 rounded-xl font-bold text-lg border-2 border-gray-200 hover:bg-gray-50 transition-all cursor-pointer",children:" "})]})]})]})}const k1=async(o,a="avatars",n)=>{try{const i=o.name.split(".").pop(),c=`${Date.now()}_${Math.random().toString(36).substring(2,9)}.${i}`,u=n?`${n}/${c}`:c,{data:h,error:m}=await ne.storage.from(a).upload(u,o,{cacheControl:"3600",upsert:!1});if(m)throw console.error("  :",m),new Error(`  : ${m.message}`);const{data:{publicUrl:p}}=ne.storage.from(a).getPublicUrl(u);return p}catch(i){throw console.error("uploadImage error:",i),i}};function O1(){const o=qe(),{user:a}=Bt(),[n,i]=T.useState(""),[c,u]=T.useState("dating"),[h,m]=T.useState([]),[p,g]=T.useState([]),[y,b]=T.useState(!1),[w,j]=T.useState(!1),_=()=>{if(a)return a;const C=localStorage.getItem("user");return C?JSON.parse(C):null},N=async C=>{const S=Array.from(C.target.files||[]);if(S.length!==0){if(h.length+S.length>5){alert("  5   .");return}b(!0);try{const k=S.map(async $=>{const q=URL.createObjectURL($);return g(J=>[...J,q]),await k1($,"posts","community")}),L=await Promise.all(k);m($=>[...$,...L])}catch(k){console.error("  :",k),alert("  .")}finally{b(!1)}}},R=C=>{m(S=>S.filter((k,L)=>L!==C)),g(S=>S.filter((k,L)=>L!==C))},H=async C=>{if(C.preventDefault(),!n.trim()){alert(" .");return}const S=_();if(!S){alert(" ."),o("/login");return}j(!0);try{const{data:k,error:L}=await ne.from("community_posts").insert({user_id:S.id,author_name:S.name||"",avatar_url:S.avatar_url||"",title:n.substring(0,50),content:n.trim(),image_url:h.length>0?h[0]:null,likes:0,views:0,category:c,age:S.age,location:S.location,job:S.school||S.job}).select().single();if(L)throw L;alert(" !"),o("/")}catch(k){console.error("  :",k),alert(`  : ${k.message}`)}finally{j(!1)}};return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("div",{className:"border-b border-gray-100 sticky top-0 z-30 bg-white",children:l.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[l.jsx("button",{onClick:()=>o(-1),className:"text-gray-600 hover:text-gray-900",children:l.jsx("i",{className:"ri-close-line text-2xl"})}),l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),l.jsx("button",{onClick:H,disabled:w||!n.trim(),className:"text-pink-500 font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:w?" ...":""})]})}),l.jsxs("form",{onSubmit:H,className:"p-5",children:[l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{type:"button",onClick:()=>u("dating"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${c==="dating"?"bg-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""}),l.jsx("button",{type:"button",onClick:()=>u("chat"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${c==="chat"?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:""})]}),l.jsx("textarea",{value:n,onChange:C=>i(C.target.value),placeholder:"   ?",className:"w-full min-h-[200px] text-lg border-none outline-none resize-none",autoFocus:!0}),p.length>0&&l.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:p.map((C,S)=>l.jsxs("div",{className:"relative aspect-square",children:[l.jsx("img",{src:C,alt:` ${S+1}`,className:"w-full h-full object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>R(S),className:"absolute top-2 right-2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70",children:l.jsx("i",{className:"ri-close-line text-lg"})})]},S))}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-5",children:l.jsxs("label",{className:`flex items-center justify-center w-full py-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-pink-500 hover:bg-pink-50 transition-all ${y?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"hidden",disabled:y||h.length>=5}),y?l.jsxs("span",{className:"text-gray-600",children:[l.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"})," ..."]}):l.jsxs("span",{className:"text-gray-600",children:[l.jsx("i",{className:"ri-image-add-line text-xl mr-2"}),"  (",h.length,"/5)"]})]})})]})]})}function A1(){const o=qe(),a=()=>{o(-1)};return l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsx("button",{onClick:a,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-line text-xl"})}),l.jsx("h1",{className:"text-lg font-bold",children:""}),l.jsx("div",{className:"w-10"})]})}),l.jsxs("div",{className:"px-4 py-6 space-y-4",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-500 px-4 pt-4 pb-2",children:" "}),l.jsxs("div",{className:"divide-y",children:[l.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-user-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:" "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]}),l.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-lock-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:" "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-500 px-4 pt-4 pb-2",children:" "}),l.jsxs("div",{className:"divide-y",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-notification-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:" "})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-500"})]})]}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-mail-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:" "})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-500"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-500 px-4 pt-4 pb-2",children:""}),l.jsxs("div",{className:"divide-y",children:[l.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-shield-check-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:" "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]}),l.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-file-text-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:""})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-500 px-4 pt-4 pb-2",children:""}),l.jsxs("div",{className:"divide-y",children:[l.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-information-line text-xl text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:" "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl text-gray-400"})]}),l.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 hover:bg-red-50 transition-colors cursor-pointer text-red-500",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("i",{className:"ri-delete-bin-line text-xl"}),l.jsx("span",{className:"font-medium",children:" "})]}),l.jsx("i",{className:"ri-arrow-right-s-line text-xl"})]})]})]})]})]})}function R1(){const o=qe(),[a,n]=T.useState(null),[i,c]=T.useState(""),u=()=>{o(-1)},h=["","","","",""],m=[{category:"",question:"  ?",answer:"    .      ."},{category:"",question:"   ?",answer:"      . ,         ."},{category:"",question:"  ?",answer:"      .       ."},{category:"",question:" ?",answer:"  7       .  ."},{category:"",question:"      ?",answer:" 6   .      ."},{category:"",question:"    ?",answer:'  " "      .'},{category:"",question:"  ?",answer:"          ."},{category:"",question:"   ?",answer:" >      .        ."}],p=i===""?m:m.filter(g=>g.category===i);return l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsx("button",{onClick:u,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-line text-xl"})}),l.jsx("h1",{className:"text-lg font-bold",children:"  "}),l.jsx("div",{className:"w-10"})]})}),l.jsx("div",{className:"bg-white px-4 py-3 border-b",children:l.jsx("div",{className:"flex space-x-2 overflow-x-auto scrollbar-hide",children:h.map(g=>l.jsx("button",{onClick:()=>c(g),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${i===g?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:g},g))})}),l.jsx("div",{className:"px-4 py-6 space-y-3",children:p.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("i",{className:"ri-question-line text-6xl text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-500",children:"   ."})]}):p.map((g,y)=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden transition-all",children:[l.jsxs("button",{onClick:()=>n(a===y?null:y),className:"w-full flex items-start justify-between px-4 py-4 hover:bg-gray-50 transition-colors cursor-pointer text-left",children:[l.jsxs("div",{className:"flex-1 pr-4",children:[l.jsx("div",{className:"flex items-center space-x-2 mb-1",children:l.jsx("span",{className:"text-xs font-medium text-cyan-500 bg-cyan-50 px-2 py-1 rounded",children:g.category})}),l.jsx("h3",{className:"font-bold text-gray-800",children:g.question})]}),l.jsx("i",{className:`ri-arrow-down-s-line text-xl text-gray-400 transition-transform ${a===y?"rotate-180":""}`})]}),a===y&&l.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-100 bg-gray-50",children:l.jsx("p",{className:"text-gray-600 leading-relaxed",children:g.answer})})]},y))}),l.jsx("div",{className:"px-4 pb-6",children:l.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl p-6 text-white text-center",children:[l.jsx("i",{className:"ri-customer-service-line text-4xl mb-3"}),l.jsx("h3",{className:"font-bold text-lg mb-2",children:"  ?"}),l.jsx("p",{className:"text-sm text-white/80 mb-4",children:"1:1    "}),l.jsx("button",{onClick:()=>o("/support"),className:"bg-white text-cyan-500 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition-colors cursor-pointer",children:"1:1 "})]})})]})}function U1(){const o=qe(),[a,n]=T.useState({category:"",title:"",content:"",email:""}),[i,c]=T.useState(!1),[u,h]=T.useState(!1),m=()=>{o(-1)},p=["","",""," ",""],g=async b=>{if(b.preventDefault(),!a.title.trim()||!a.content.trim()){alert("  .");return}c(!0),setTimeout(()=>{c(!1),h(!0),setTimeout(()=>{h(!1),o(-1)},3e3)},1e3)},y=(b,w)=>{n(j=>({...j,[b]:w}))};return l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[l.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsx("button",{onClick:m,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors cursor-pointer",children:l.jsx("i",{className:"ri-arrow-left-line text-xl"})}),l.jsx("h1",{className:"text-lg font-bold",children:"1:1 "}),l.jsx("div",{className:"w-10"})]})}),l.jsxs("div",{className:"px-4 py-6",children:[l.jsx("div",{className:"bg-cyan-50 rounded-2xl p-4 mb-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("i",{className:"ri-information-line text-cyan-500 text-xl mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-cyan-900 mb-1",children:"  "}),l.jsx("p",{className:"text-sm text-cyan-700",children:"  (FAQ)        ."}),l.jsx("button",{onClick:()=>o("/faq"),className:"mt-2 text-sm font-medium text-cyan-600 hover:text-cyan-700 underline",children:"FAQ  "})]})]})}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(b=>l.jsx("button",{type:"button",onClick:()=>y("category",b),className:`py-2 px-3 rounded-xl text-sm font-medium transition-colors cursor-pointer ${a.category===b?"bg-cyan-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:b},b))})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"  "}),l.jsx("input",{type:"email",value:a.email,onChange:b=>y("email",b.target.value),placeholder:"example@email.com",className:"w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:border-cyan-500 focus:outline-none transition-colors"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"     ."})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:a.title,onChange:b=>y("title",b.target.value),placeholder:"  ",className:"w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:border-cyan-500 focus:outline-none transition-colors",maxLength:100}),l.jsxs("div",{className:"text-xs text-gray-400 mt-2 text-right",children:[a.title.length,"/100"]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{value:a.content,onChange:b=>y("content",b.target.value),placeholder:"   ",rows:8,className:"w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:border-cyan-500 focus:outline-none transition-colors resize-none",maxLength:1e3}),l.jsxs("div",{className:"text-xs text-gray-400 mt-2 text-right",children:[a.content.length,"/1000"]})]}),l.jsx("button",{type:"submit",disabled:i,className:`w-full py-4 rounded-2xl font-bold text-white transition-all ${i?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 shadow-lg hover:shadow-xl"}`,children:i?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"})," ..."]}):""})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-2xl shadow-sm p-4",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[l.jsx("i",{className:"ri-time-line text-cyan-500 mr-2"}),"  "]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""}),l.jsx("span",{className:"font-medium",children:"09:00 - 18:00"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"  "}),l.jsx("span",{className:"font-medium text-gray-400",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-3 pt-3 border-t",children:"*      1-2  ."})]})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full text-center animate-slide-up",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"ri-check-line text-white text-3xl"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:" "}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["   .",l.jsx("br",{}),"."]})]})})]})}const L1=[{path:"/",element:l.jsx(i1,{})},{path:"/login",element:l.jsx(r1,{})},{path:"/signup-profile",element:l.jsx(l1,{})},{path:"/signup/quick",element:l.jsx(o1,{})},{path:"/profile-edit",element:l.jsx(c1,{})},{path:"/notifications",element:l.jsx(u1,{})},{path:"/profile-detail",element:l.jsx(h1,{})},{path:"/admin",element:l.jsx(m1,{})},{path:"/coin-shop",element:l.jsx(_1,{})},{path:"/matching-requests",element:l.jsx(S1,{})},{path:"/payment/success",element:l.jsx(T1,{})},{path:"/payment/fail",element:l.jsx(C1,{})},{path:"/post/create",element:l.jsx(O1,{})},{path:"/settings",element:l.jsx(A1,{})},{path:"/faq",element:l.jsx(R1,{})},{path:"/support",element:l.jsx(U1,{})},{path:"*",element:l.jsx(Xv,{})}];let W0;new Promise(o=>{W0=o});function D1(){const o=tv(L1),a=qe();return T.useEffect(()=>{window.REACT_APP_NAVIGATE=a,W0(window.REACT_APP_NAVIGATE)}),o}const e0=async()=>{try{const{error:o}=await ne.rpc("auto_delete_expired_matching_requests");return o?(console.error("    :",o),!1):(console.log("     "),!0)}catch(o){return console.error("    :",o),!1}};var Sn;(function(o){o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE"})(Sn||(Sn={}));class gu extends Error{constructor(a,n,i){super(a),this.message=a,this.code=n,this.data=i}}const z1=o=>{var a,n;return o?.androidBridge?"android":!((n=(a=o?.webkit)===null||a===void 0?void 0:a.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},M1=o=>{const a=o.CapacitorCustomPlatform||null,n=o.Capacitor||{},i=n.Plugins=n.Plugins||{},c=()=>a!==null?a.name:z1(o),u=()=>c()!=="web",h=b=>{const w=g.get(b);return!!(w?.platforms.has(c())||m(b))},m=b=>{var w;return(w=n.PluginHeaders)===null||w===void 0?void 0:w.find(j=>j.name===b)},p=b=>o.console.error(b),g=new Map,y=(b,w={})=>{const j=g.get(b);if(j)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),j.proxy;const _=c(),N=m(b);let R;const H=async()=>(!R&&_ in w?R=typeof w[_]=="function"?R=await w[_]():R=w[_]:a!==null&&!R&&"web"in w&&(R=typeof w.web=="function"?R=await w.web():R=w.web),R),C=(D,J)=>{var I,G;if(N){const Z=N?.methods.find(te=>J===te.name);if(Z)return Z.rtype==="promise"?te=>n.nativePromise(b,J.toString(),te):(te,ee)=>n.nativeCallback(b,J.toString(),te,ee);if(D)return(I=D[J])===null||I===void 0?void 0:I.bind(D)}else{if(D)return(G=D[J])===null||G===void 0?void 0:G.bind(D);throw new gu(`"${b}" plugin is not implemented on ${_}`,Sn.Unimplemented)}},S=D=>{let J;const I=(...G)=>{const Z=H().then(te=>{const ee=C(te,D);if(ee){const Ne=ee(...G);return J=Ne?.remove,Ne}else throw new gu(`"${b}.${D}()" is not implemented on ${_}`,Sn.Unimplemented)});return D==="addListener"&&(Z.remove=async()=>J()),Z};return I.toString=()=>`${D.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:D,writable:!1,configurable:!1}),I},k=S("addListener"),L=S("removeListener"),$=(D,J)=>{const I=k({eventName:D},J),G=async()=>{const te=await I;L({eventName:D,callbackId:te},J)},Z=new Promise(te=>I.then(()=>te({remove:G})));return Z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await G()},Z},q=new Proxy({},{get(D,J){switch(J){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?$:k;case"removeListener":return L;default:return S(J)}}});return i[b]=q,g.set(b,{name:b,proxy:q,platforms:new Set([...Object.keys(w),...N?[_]:[]])}),q};return n.convertFileSrc||(n.convertFileSrc=b=>b),n.getPlatform=c,n.handleError=p,n.isNativePlatform=u,n.isPluginAvailable=h,n.registerPlugin=y,n.Exception=gu,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},$1=o=>o.Capacitor=M1(o),El=$1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ku=El.registerPlugin;class ep{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(a,n){let i=!1;this.listeners[a]||(this.listeners[a]=[],i=!0),this.listeners[a].push(n);const u=this.windowListeners[a];u&&!u.registered&&this.addWindowListener(u),i&&this.sendRetainedArgumentsForEvent(a);const h=async()=>this.removeListener(a,n);return Promise.resolve({remove:h})}async removeAllListeners(){this.listeners={};for(const a in this.windowListeners)this.removeWindowListener(this.windowListeners[a]);this.windowListeners={}}notifyListeners(a,n,i){const c=this.listeners[a];if(!c){if(i){let u=this.retainedEventArguments[a];u||(u=[]),u.push(n),this.retainedEventArguments[a]=u}return}c.forEach(u=>u(n))}hasListeners(a){var n;return!!(!((n=this.listeners[a])===null||n===void 0)&&n.length)}registerWindowListener(a,n){this.windowListeners[n]={registered:!1,windowEventName:a,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(a="not implemented"){return new El.Exception(a,Sn.Unimplemented)}unavailable(a="not available"){return new El.Exception(a,Sn.Unavailable)}async removeListener(a,n){const i=this.listeners[a];if(!i)return;const c=i.indexOf(n);this.listeners[a].splice(c,1),this.listeners[a].length||this.removeWindowListener(this.windowListeners[a])}addWindowListener(a){window.addEventListener(a.windowEventName,a.handler),a.registered=!0}removeWindowListener(a){a&&(window.removeEventListener(a.windowEventName,a.handler),a.registered=!1)}sendRetainedArgumentsForEvent(a){const n=this.retainedEventArguments[a];n&&(delete this.retainedEventArguments[a],n.forEach(i=>{this.notifyListeners(a,i)}))}}const t0=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),a0=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class q1 extends ep{async getCookies(){const a=document.cookie,n={};return a.split(";").forEach(i=>{if(i.length<=0)return;let[c,u]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=a0(c).trim(),u=a0(u).trim(),n[c]=u}),n}async setCookie(a){try{const n=t0(a.key),i=t0(a.value),c=`; expires=${(a.expires||"").replace("expires=","")}`,u=(a.path||"/").replace("path=",""),h=a.url!=null&&a.url.length>0?`domain=${a.url}`:"";document.cookie=`${n}=${i||""}${c}; path=${u}; ${h};`}catch(n){return Promise.reject(n)}}async deleteCookie(a){try{document.cookie=`${a.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const a=document.cookie.split(";")||[];for(const n of a)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(a){return Promise.reject(a)}}async clearAllCookies(){try{await this.clearCookies()}catch(a){return Promise.reject(a)}}}Ku("CapacitorCookies",{web:()=>new q1});const B1=async o=>new Promise((a,n)=>{const i=new FileReader;i.onload=()=>{const c=i.result;a(c.indexOf(",")>=0?c.split(",")[1]:c)},i.onerror=c=>n(c),i.readAsDataURL(o)}),H1=(o={})=>{const a=Object.keys(o);return Object.keys(o).map(c=>c.toLocaleLowerCase()).reduce((c,u,h)=>(c[u]=o[a[h]],c),{})},P1=(o,a=!0)=>o?Object.entries(o).reduce((i,c)=>{const[u,h]=c;let m,p;return Array.isArray(h)?(p="",h.forEach(g=>{m=a?encodeURIComponent(g):g,p+=`${u}=${m}&`}),p.slice(0,-1)):(m=a?encodeURIComponent(h):h,p=`${u}=${m}`),`${i}&${p}`},"").substr(1):null,K1=(o,a={})=>{const n=Object.assign({method:o.method||"GET",headers:o.headers},a),c=H1(o.headers)["content-type"]||"";if(typeof o.data=="string")n.body=o.data;else if(c.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[h,m]of Object.entries(o.data||{}))u.set(h,m);n.body=u.toString()}else if(c.includes("multipart/form-data")||o.data instanceof FormData){const u=new FormData;if(o.data instanceof FormData)o.data.forEach((m,p)=>{u.append(p,m)});else for(const m of Object.keys(o.data))u.append(m,o.data[m]);n.body=u;const h=new Headers(n.headers);h.delete("content-type"),n.headers=h}else(c.includes("application/json")||typeof o.data=="object")&&(n.body=JSON.stringify(o.data));return n};class G1 extends ep{async request(a){const n=K1(a,a.webFetchExtra),i=P1(a.params,a.shouldEncodeUrlParams),c=i?`${a.url}?${i}`:a.url,u=await fetch(c,n),h=u.headers.get("content-type")||"";let{responseType:m="text"}=u.ok?a:{};h.includes("application/json")&&(m="json");let p,g;switch(m){case"arraybuffer":case"blob":g=await u.blob(),p=await B1(g);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const y={};return u.headers.forEach((b,w)=>{y[w]=b}),{data:p,headers:y,status:u.status,url:u.url}}async get(a){return this.request(Object.assign(Object.assign({},a),{method:"GET"}))}async post(a){return this.request(Object.assign(Object.assign({},a),{method:"POST"}))}async put(a){return this.request(Object.assign(Object.assign({},a),{method:"PUT"}))}async patch(a){return this.request(Object.assign(Object.assign({},a),{method:"PATCH"}))}async delete(a){return this.request(Object.assign(Object.assign({},a),{method:"DELETE"}))}}Ku("CapacitorHttp",{web:()=>new G1});const vs=Ku("PushNotifications",{}),V1=async o=>{if(!El.isNativePlatform()){console.log("    .");return}try{let a=await vs.checkPermissions();if(a.receive==="prompt"&&(a=await vs.requestPermissions()),a.receive!=="granted"){console.log("   .");return}await vs.register(),vs.addListener("registration",async n=>{console.log("  :",n.value);const{error:i}=await ne.from("users").update({fcm_token:n.value}).eq("id",o);i?console.error("FCM   :",i):console.log(" FCM   ")}),vs.addListener("registrationError",n=>{console.error("   :",n)}),vs.addListener("pushNotificationReceived",n=>{console.log("   :",n),n.title&&alert(`${n.title}
${n.body||""}`)}),vs.addListener("pushNotificationActionPerformed",n=>{console.log("  :",n);const i=n.notification.data;i?.type==="match_request"?window.location.href="/matching-requests":(i?.type==="match_success"||i?.type==="message")&&(window.location.href="/")}),console.log("    ")}catch(a){console.error("   :",a)}};function Y1(){const{user:o,loading:a}=Bt();return T.useEffect(()=>{e0();const n=setInterval(()=>{e0()},3600*1e3);return()=>clearInterval(n)},[]),T.useEffect(()=>{o?.id&&V1(o.id)},[o?.id]),a?l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 space-y-4",children:[l.jsxs("div",{className:"relative w-16 h-16",children:[l.jsx("div",{className:"absolute inset-0 border-4 border-slate-200 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("i",{className:"ri-heart-fill text-primary-500 animate-pulse-soft"})})]}),l.jsx("div",{className:"text-sm font-medium text-slate-500 animate-pulse",children:" ..."})]}):l.jsx(D1,{})}function Q1(){return l.jsx(ab,{i18n:ot,children:l.jsx($v,{children:l.jsx(Fj,{children:l.jsx(Y1,{})})})})}_b.createRoot(document.getElementById("root")).render(l.jsx(T.StrictMode,{children:l.jsx(Q1,{})}));
//# sourceMappingURL=index-HGtK5Tek.js.map

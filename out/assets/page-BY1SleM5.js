import{f as e,j as s}from"./index-BAJ1soMH.js";import{r as t}from"./vendor-Dma7sgzX.js";function a(){const[a,l]=t.useState("dashboard"),[r,n]=t.useState(!0),[i,c]=t.useState(!1),[x,d]=t.useState(!1),[o,m]=t.useState(""),[h,p]=t.useState(""),[u,g]=t.useState([]),[j,f]=t.useState(null),[N,b]=t.useState(""),[y,v]=t.useState(!1),[w,k]=t.useState(""),[_,C]=t.useState([]),[S,L]=t.useState(null),[R,U]=t.useState([]),[D,I]=t.useState(!1),[P,z]=t.useState([]),[A,K]=t.useState(null),[M,B]=t.useState({totalUsers:0,activeUsers:0,totalCoins:0,totalChatRooms:0,totalMessages:0}),E=()=>{"5174"===o?(d(!0),p(""),m("")):(p("ê´€ë¦¬ì ì½”ë“œê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤."),m(""))};t.useEffect(()=>{x&&$()},[x]);const $=async()=>{n(!0);try{const{users:s}=await e.users.getAllUsers(1e3);if(s){g(s);const e=s.reduce((e,s)=>e+(s.coins||0),0);B(t=>({...t,totalUsers:s.length,activeUsers:s.filter(e=>e.last_login).length,totalCoins:e}))}const{chatRooms:t}=await e.chat.getAllChatRooms(1e3);B(e=>({...e,totalChatRooms:t.length,totalMessages:0}))}catch(s){}finally{n(!1)}},q=async()=>{n(!0);try{const{chatRooms:s,error:t}=await e.chat.getAllChatRooms(100);if(t)throw t;if(s&&s.length>0){const t=new Set;s.forEach(e=>{t.add(e.user1_id),t.add(e.user2_id)});const a=await Promise.all(s.map(async s=>{const{user:t}=await e.users.getUserById(s.user1_id),{user:a}=await e.users.getUserById(s.user2_id),{messages:l}=await e.chat.getMessages(s.id,1);return{...s,user1_name:t?.name||"ì•Œ ìˆ˜ ì—†ìŒ",user2_name:a?.name||"ì•Œ ìˆ˜ ì—†ìŒ",user1_avatar:t?.profile_image||t?.avatar_url,user2_avatar:a?.profile_image||a?.avatar_url,message_count:l.length}}));C(a)}else C([])}catch(s){}finally{n(!1)}};t.useEffect(()=>{"chats"===a?q():"payments"===a&&F()},[a]);const F=async()=>{n(!0);try{const{payments:s,error:t}=await e.payments.getAllPayments();if(t)throw t;if(s&&s.length>0){const t=await Promise.all(s.map(async s=>{const{user:t}=await e.users.getUserById(s.user_id),a=t;return{...s,user_name:a?.name||"ì•Œ ìˆ˜ ì—†ìŒ",user_phone:a?.phone_number||"-",bank_account:a?.bank_account||"-",account_holder:a?.account_holder||"-"}}));z(t)}else z([])}catch(s){}finally{n(!1)}},G=u.filter(e=>(e.name||"").toLowerCase().includes(N.toLowerCase())||(e.phone_number||"").includes(N)),H=e=>{l(e),c(!1)};return x?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white shadow-sm z-30 px-4 py-3 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>c(!0),className:"w-10 h-10 flex items-center justify-center",children:s.jsx("i",{className:"ri-menu-line text-xl text-gray-600"})}),s.jsx("h1",{className:"font-bold text-gray-800",children:"ê´€ë¦¬ì"}),s.jsx("div",{className:"w-10 h-10 flex items-center justify-center"})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>c(!1)}),s.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-64 bg-white shadow-lg z-50 transform transition-transform "+(i?"translate-x-0":"-translate-x-full"),children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx("i",{className:"ri-admin-line text-white text-xl"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-gray-800",children:"ê´€ë¦¬ì"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:()=>c(!1),className:"w-8 h-8 flex items-center justify-center",children:s.jsx("i",{className:"ri-close-line text-xl text-gray-500"})})]}),s.jsxs("nav",{className:"p-4 space-y-2",children:[s.jsxs("button",{onClick:()=>H("dashboard"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors "+("dashboard"===a?"bg-pink-50 text-pink-600":"text-gray-600"),children:[s.jsx("i",{className:"ri-dashboard-line text-xl"}),s.jsx("span",{className:"font-medium",children:"ëŒ€ì‹œë³´ë“œ"})]}),s.jsxs("button",{onClick:()=>H("users"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors "+("users"===a?"bg-pink-50 text-pink-600":"text-gray-600"),children:[s.jsx("i",{className:"ri-user-line text-xl"}),s.jsx("span",{className:"font-medium",children:"ìœ ì € ê´€ë¦¬"})]}),s.jsxs("button",{onClick:()=>H("chats"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors "+("chats"===a?"bg-pink-50 text-pink-600":"text-gray-600"),children:[s.jsx("i",{className:"ri-chat-3-line text-xl"}),s.jsx("span",{className:"font-medium",children:"ì±„íŒ… ê´€ë¦¬"})]}),s.jsxs("button",{onClick:()=>H("payments"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors "+("payments"===a?"bg-pink-50 text-pink-600":"text-gray-600"),children:[s.jsx("i",{className:"ri-bank-card-line text-xl"}),s.jsx("span",{className:"font-medium",children:"ì…ê¸ˆ ì‹ ì²­"})]}),s.jsxs("button",{onClick:()=>H("reports"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors "+("reports"===a?"bg-pink-50 text-pink-600":"text-gray-600"),children:[s.jsx("i",{className:"ri-flag-line text-xl"}),s.jsx("span",{className:"font-medium",children:"ì‹ ê³  ê´€ë¦¬"})]})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t",children:s.jsxs("button",{onClick:()=>d(!1),className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[s.jsx("i",{className:"ri-logout-box-line text-xl"}),s.jsx("span",{className:"font-medium",children:"ë¡œê·¸ì•„ì›ƒ"})]})})]}),s.jsxs("div",{className:"p-4 pt-20 pb-8",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["dashboard"===a&&"ëŒ€ì‹œë³´ë“œ","users"===a&&"ìœ ì € ê´€ë¦¬","chats"===a&&"ì±„íŒ… ê´€ë¦¬","payments"===a&&"ì…ê¸ˆ ì‹ ì²­","reports"===a&&"ì‹ ê³  ê´€ë¦¬"]})}),"dashboard"===a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ì „ì²´ ìœ ì €"}),s.jsx("p",{className:"text-xl font-bold text-gray-800",children:M.totalUsers})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"í™œì„± ìœ ì €"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:M.activeUsers})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ì´ ì½”ì¸"}),s.jsx("p",{className:"text-xl font-bold text-yellow-600",children:M.totalCoins.toLocaleString()})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ì±„íŒ…ë°©"}),s.jsx("p",{className:"text-xl font-bold text-purple-600",children:M.totalChatRooms})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm col-span-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ì´ ë©”ì‹œì§€"}),s.jsx("p",{className:"text-xl font-bold text-pink-600",children:M.totalMessages.toLocaleString()})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"ìµœê·¼ ê°€ì… ìœ ì €"}),s.jsx("div",{className:"space-y-2",children:u.slice(0,5).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm",children:(e.name||"?")[0]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 text-sm",children:e.name||"ì´ë¦„ ì—†ìŒ"}),s.jsx("p",{className:"text-xs text-gray-500",children:e.phone_number})]})]}),s.jsxs("p",{className:"text-xs font-medium text-yellow-600",children:[e.coins||0," ì½”ì¸"]})]},e.id))})]})]}),"users"===a&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:N,onChange:e=>b(e.target.value),placeholder:"ì´ë¦„ ë˜ëŠ” ì „í™”ë²ˆí˜¸ ê²€ìƒ‰...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm"}),s.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),s.jsx("div",{className:"divide-y divide-gray-100 max-h-[60vh] overflow-y-auto",children:G.map(e=>s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold overflow-hidden",children:e.profile_image?s.jsx("img",{src:e.profile_image,alt:"",className:"w-full h-full object-cover"}):(e.name||"?")[0]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 text-sm",children:e.name||"ì´ë¦„ ì—†ìŒ"}),s.jsx("p",{className:"text-xs text-gray-500",children:e.phone_number||"-"})]})]}),s.jsx("button",{onClick:()=>f(e),className:"text-pink-500 text-sm font-medium",children:"ìƒì„¸"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("i",{className:"ri-coin-line text-yellow-500 mr-1"}),e.coins||0]}),s.jsx("span",{children:"male"===e.gender?"ë‚¨":"female"===e.gender?"ì—¬":"-"}),s.jsx("span",{children:e.created_at?new Date(e.created_at).toLocaleDateString("ko-KR"):"-"})]})]},e.id))}),0===G.length&&s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤."})]}),"chats"===a&&s.jsxs("div",{className:"space-y-4",children:[S&&s.jsxs("button",{onClick:()=>L(null),className:"flex items-center text-pink-500 text-sm",children:[s.jsx("i",{className:"ri-arrow-left-line mr-1"}),"ì±„íŒ…ë°© ëª©ë¡ìœ¼ë¡œ"]}),S?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b",children:s.jsxs("h3",{className:"font-bold text-gray-800 text-sm",children:["ğŸ’¬ ",S.user1_name," â†” ",S.user2_name]})}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-3",children:D?s.jsx("div",{className:"text-center text-gray-500 py-10 text-sm",children:"ë¡œë”© ì¤‘..."}):0===R.length?s.jsxs("div",{className:"text-center text-gray-500 py-10",children:[s.jsx("i",{className:"ri-message-3-line text-3xl text-gray-300 mb-2 block"}),s.jsx("p",{className:"text-sm",children:"ë©”ì‹œì§€ê°€ ì—†ìŠµë‹ˆë‹¤."})]}):s.jsx("div",{className:"space-y-2",children:R.map(e=>s.jsx("div",{className:"flex "+(e.sender_id===S.user1_id?"justify-start":"justify-end"),children:s.jsxs("div",{className:`max-w-[85%] ${e.sender_id===S.user1_id?"bg-blue-100 text-blue-900":"bg-pink-100 text-pink-900"} rounded-xl px-3 py-2`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:e.sender_name}),s.jsx("p",{className:"text-sm",children:e.content}),s.jsx("p",{className:"text-[10px] mt-1 opacity-50",children:new Date(e.created_at).toLocaleString("ko-KR")})]})},e.id))})})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"ì±„íŒ…ë°© ëª©ë¡"}),s.jsxs("button",{onClick:q,className:"text-xs text-pink-500",children:[s.jsx("i",{className:"ri-refresh-line mr-1"}),"ìƒˆë¡œê³ ì¹¨"]})]}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:r?s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"ë¡œë”© ì¤‘..."}):0===_.length?s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"ì±„íŒ…ë°©ì´ ì—†ìŠµë‹ˆë‹¤."}):_.map(t=>s.jsxs("div",{onClick:()=>(async s=>{L(s),I(!0);try{const{messages:t,error:a}=await e.chat.getMessages(s.id,100);if(a)throw a;const l=await Promise.all((t||[]).map(async s=>{const{user:t}=await e.users.getUserById(s.sender_id);return{...s,sender_name:t?.name||"ì•Œ ìˆ˜ ì—†ìŒ"}}));U(l)}catch(t){}finally{I(!1)}})(t),className:"p-3 border-b cursor-pointer hover:bg-gray-50 active:bg-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs",children:(t.user1_name||"?")[0]}),s.jsx("i",{className:"ri-arrow-left-right-line text-gray-400 text-sm"}),s.jsx("div",{className:"w-7 h-7 rounded-full bg-pink-100 flex items-center justify-center text-pink-600 font-bold text-xs",children:(t.user2_name||"?")[0]})]}),s.jsxs("span",{className:"text-xs text-gray-400",children:[t.message_count,"ê°œ"]})]}),s.jsxs("p",{className:"text-sm font-medium text-gray-800",children:[t.user1_name," â†” ",t.user2_name]}),t.last_message&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1 truncate",children:['"',t.last_message,'"']})]},t.id))})]})]}),"payments"===a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"ì…ê¸ˆ ì‹ ì²­ ë‚´ì—­"}),s.jsxs("button",{onClick:F,className:"text-xs text-pink-500",children:[s.jsx("i",{className:"ri-refresh-line mr-1"}),"ìƒˆë¡œê³ ì¹¨"]})]}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:r?s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"ë¡œë”© ì¤‘..."}):0===P.length?s.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"ì…ê¸ˆ ì‹ ì²­ì´ ì—†ìŠµë‹ˆë‹¤."}):P.map(e=>s.jsxs("div",{onClick:()=>K(e),className:"p-4 border-b cursor-pointer hover:bg-gray-50 transition-colors "+("pending"===e.status?"bg-yellow-50":""),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-800 text-sm",children:e.user_name}),s.jsx("p",{className:"text-xs text-gray-500",children:e.user_phone}),s.jsxs("p",{className:"text-[11px] text-gray-500 mt-0.5",children:["ì…ê¸ˆì: ",e.account_holder||"-"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-gray-800 text-sm",children:[e.coins.toLocaleString()," ìì„"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.price.toLocaleString(),"ì›"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded "+("pending"===e.status?"bg-yellow-100 text-yellow-700":"completed"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:"pending"===e.status?"í™•ì¸ ì¤‘":"completed"===e.status?"ì™„ë£Œ":"ì·¨ì†Œ"}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString("ko-KR")})]})]},e.id))})]}),A&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"ì…ê¸ˆ ì‹ ì²­ ìƒì„¸"}),s.jsx("button",{onClick:()=>K(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx("i",{className:"ri-close-line text-xl"})})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ì‹ ì²­ì"}),s.jsx("p",{className:"font-bold text-gray-800",children:A.user_name}),s.jsx("p",{className:"text-xs text-gray-500",children:A.user_phone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ìì„"}),s.jsx("p",{className:"font-bold text-gray-800",children:A.coins.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ê¸ˆì•¡"}),s.jsxs("p",{className:"font-bold text-gray-800",children:[A.price.toLocaleString(),"ì›"]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ì…ê¸ˆ ê³„ì¢Œ"}),s.jsx("p",{className:"font-bold text-gray-800",children:A.bank_account})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ì…ê¸ˆì ëª…"}),s.jsx("p",{className:"font-bold text-gray-800",children:A.account_holder})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ì‹ ì²­ ì‹œê°„"}),s.jsx("p",{className:"font-bold text-gray-800",children:new Date(A.created_at).toLocaleString("ko-KR")})]}),s.jsxs("div",{className:"rounded-lg p-3 text-center "+("pending"===A.status?"bg-yellow-50":"completed"===A.status?"bg-green-50":"bg-gray-50"),children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ìƒíƒœ"}),s.jsx("p",{className:"font-bold "+("pending"===A.status?"text-yellow-700":"completed"===A.status?"text-green-700":"text-gray-700"),children:"pending"===A.status?"í™•ì¸ ì¤‘":"completed"===A.status?"ì™„ë£Œ":"ì·¨ì†Œ"})]})]})]})]}),"reports"===a&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm text-center",children:[s.jsx("i",{className:"ri-flag-line text-3xl text-gray-300 mb-2 block"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"ì‹ ê³  ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤"})]})]}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold",children:"ìœ ì € ìƒì„¸"}),s.jsx("button",{onClick:()=>f(null),children:s.jsx("i",{className:"ri-close-line text-xl"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold overflow-hidden",children:j.profile_image?s.jsx("img",{src:j.profile_image,alt:"",className:"w-full h-full object-cover"}):(j.name||"?")[0]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:j.name||"ì´ë¦„ ì—†ìŒ"}),s.jsx("p",{className:"text-gray-500 text-sm",children:j.phone_number})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ë‚˜ì´"}),s.jsxs("p",{className:"font-medium text-sm",children:[j.age||"-","ì„¸"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ì„±ë³„"}),s.jsx("p",{className:"font-medium text-sm",children:"male"===j.gender?"ë‚¨ì„±":"female"===j.gender?"ì—¬ì„±":"-"})]})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ë³´ìœ  ì½”ì¸"}),s.jsx("p",{className:"text-xl font-bold text-yellow-600",children:j.coins||0})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ID"}),s.jsx("p",{className:"font-mono text-xs break-all",children:j.id})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ì…ê¸ˆ ê³„ì¢Œ"}),s.jsx("p",{className:"font-medium text-sm break-all",children:j.bank_account||"-"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ì…ê¸ˆì ëª…"}),s.jsx("p",{className:"font-medium text-sm",children:j.account_holder||"-"})]})]}),s.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl font-medium text-sm",children:[s.jsx("i",{className:"ri-coin-line mr-2"}),"ì½”ì¸ ì§€ê¸‰"]})]})]})}),y&&j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-4",children:[s.jsx("h3",{className:"font-bold mb-3",children:"ì½”ì¸ ì§€ê¸‰"}),s.jsxs("p",{className:"text-gray-500 mb-3 text-sm",children:[j.name,"ë‹˜ì—ê²Œ ì§€ê¸‰"]}),s.jsx("input",{type:"number",value:w,onChange:e=>k(e.target.value),placeholder:"ì½”ì¸ ìˆ˜",className:"w-full px-4 py-3 bg-gray-100 rounded-xl mb-4 text-sm"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{v(!1),k("")},className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-medium text-sm",children:"ì·¨ì†Œ"}),s.jsx("button",{onClick:async()=>{if(j&&w)try{const s=parseInt(w),{error:t}=await e.coins.incrementCoins(j.id,s);if(t)throw t;const a=(j.coins||0)+s;g(e=>e.map(e=>e.id===j.id?{...e,coins:a}:e)),f(e=>e?{...e,coins:a}:null),v(!1),k(""),alert("ì½”ì¸ì´ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!")}catch(s){alert("ì½”ì¸ ì§€ê¸‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},disabled:!w||parseInt(w)<=0,className:"flex-1 py-3 bg-yellow-500 text-white rounded-xl font-medium disabled:opacity-50 text-sm",children:"ì§€ê¸‰"})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-sm",children:[s.jsx("div",{className:"flex items-center justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl flex items-center justify-center",children:s.jsx("i",{className:"ri-admin-line text-white text-2xl"})})}),s.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"ê´€ë¦¬ì íŒ¨ë„"}),s.jsx("p",{className:"text-center text-gray-500 text-sm mb-8",children:"ê´€ë¦¬ì ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("input",{type:"password",value:o,onChange:e=>{m(e.target.value),p("")},onKeyPress:e=>"Enter"===e.key&&E(),placeholder:"ê´€ë¦¬ì ì½”ë“œ",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent text-center text-lg tracking-widest"}),h&&s.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:h})]}),s.jsx("button",{onClick:E,disabled:!o,className:"w-full py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium hover:from-pink-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"ê´€ë¦¬ì ë¡œê·¸ì¸"})]}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-6",children:"ë³¸ ì‚¬ì´íŠ¸ì™€ ë…ë¦½ì ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤"})]})})}export{a as default};

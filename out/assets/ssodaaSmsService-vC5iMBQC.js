const e=new Map,t=async(e,t,r)=>{try{const{API_KEY:a,TOKEN_KEY:s,SENDER:n}=(()=>{throw new Error("SMS ì„¤ì •ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")})(),c=e.replace(/-/g,"").replace(/^\+82/,"0"),o={token_key:s,msg_type:r?.msgType||"sms",dest_phone:c,send_phone:n,msg_body:t},p=await fetch("https://apis.ssodaa.com/sms/send/sms",{method:"POST",headers:{"x-api-key":a,"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(o)}),h=await p.json();if("200"!==h.code)throw new Error(h.error||"SMS ë°œì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return h}catch(a){throw a}},r=()=>Math.floor(1e5+9e5*Math.random()).toString(),a=async a=>{const s=r(),n=`[Attract] ì¸ì¦ë²ˆí˜¸ëŠ” [${s}]ì…ë‹ˆë‹¤. 3ë¶„ ë‚´ì— ì…ë ¥í•´ì£¼ì„¸ìš”.`;try{await t(a,n);const r=a.replace(/-/g,"").replace(/^\+82/,"0");return e.set(r,{code:s,expiresAt:Date.now()+18e4,phone:r}),!0}catch(c){return!1}},s=(t,r)=>{const a=t.replace(/-/g,"").replace(/^\+82/,"0"),s=e.get(a);return!!s&&(Date.now()>s.expiresAt?(e.delete(a),!1):s.code===r&&(e.delete(a),!0))},n=async t=>{const a=r(),s=t.replace(/-/g,"").replace(/^\+82/,"0");return e.set(s,{code:a,expiresAt:Date.now()+18e4,phone:s}),a},c=async(e,r)=>{const a=`[Attract] ${r}ë‹˜ì´ ë§¤ì¹­ì„ ìš”ì²­í–ˆìŠµë‹ˆë‹¤. ì•±ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”!`;try{return await t(e,a),!0}catch(s){return!1}},o=async(e,r)=>{const a=`[Attract] ${r}ë‹˜ì´ ë§¤ì¹­ì„ ìˆ˜ë½í–ˆìŠµë‹ˆë‹¤! ì´ì œ ì±„íŒ…ì„ ì‹œì‘í•  ìˆ˜ ìˆì–´ìš” ğŸ’¬`;try{return await t(e,a),!0}catch(s){return!1}};export{a,o as b,c,n as s,s as v};

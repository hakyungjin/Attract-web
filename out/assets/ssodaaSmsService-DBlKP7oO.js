const e=new Map,t=async(e,t,a)=>{try{const{API_KEY:r,TOKEN_KEY:s,SENDER:c}={API_KEY:"69350778884506300173",TOKEN_KEY:"Y367D5G4706s0980Pv5c6NaD3381kjY97mf58004",SENDER:"01063005174"},n=e.replace(/-/g,"").replace(/^\+82/,"0"),o={token_key:s,msg_type:a?.msgType||"sms",dest_phone:n,send_phone:c,msg_body:t},p=await fetch("https://apis.ssodaa.com/sms/send/sms",{method:"POST",headers:{"x-api-key":r,"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(o)}),h=await p.json();if("200"!==h.code)throw new Error(h.error||"SMS ë°œì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return h}catch(r){throw r}},a=()=>Math.floor(1e5+9e5*Math.random()).toString(),r=async r=>{const s=a(),c=`[Attract] ì¸ì¦ë²ˆí˜¸ëŠ” [${s}]ì…ë‹ˆë‹¤. 3ë¶„ ë‚´ì— ì…ë ¥í•´ì£¼ì„¸ìš”.`;try{await t(r,c);const a=r.replace(/-/g,"").replace(/^\+82/,"0");return e.set(a,{code:s,expiresAt:Date.now()+18e4,phone:a}),!0}catch(n){return!1}},s=(t,a)=>{const r=t.replace(/-/g,"").replace(/^\+82/,"0"),s=e.get(r);return!!s&&(Date.now()>s.expiresAt?(e.delete(r),!1):s.code===a&&(e.delete(r),!0))},c=async t=>{const r=a(),s=t.replace(/-/g,"").replace(/^\+82/,"0");return e.set(s,{code:r,expiresAt:Date.now()+18e4,phone:s}),r},n=async(e,a)=>{const r=`[Attract] ${a}ë‹˜ì´ ë§¤ì¹­ì„ ìš”ì²­í–ˆìŠµë‹ˆë‹¤. ì•±ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”!`;try{return await t(e,r),!0}catch(s){return!1}},o=async(e,a)=>{const r=`[Attract] ${a}ë‹˜ì´ ë§¤ì¹­ì„ ìˆ˜ë½í–ˆìŠµë‹ˆë‹¤! ì´ì œ ì±„íŒ…ì„ ì‹œì‘í•  ìˆ˜ ìˆì–´ìš” ğŸ’¬`;try{return await t(e,r),!0}catch(s){return!1}};export{r as a,o as b,n as c,c as s,s as v};
